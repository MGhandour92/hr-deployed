var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/// <reference path="../../../scripts/typings/angularjs/angular.d.ts" />
var HCMS;
(function (HCMS) {
    var Validations;
    (function (Validations) {
        //"use strict";
        Validations.hcmsValidations = angular.module("HCMS.Validations", []);
    })(Validations = HCMS.Validations || (HCMS.Validations = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Validations;
    (function (Validations) {
        class CommonValidations {
        }
        CommonValidations.isNull = (data) => {
            return (angular.isUndefined(data) || (data === null));
        };
        CommonValidations.isNullReplace = (data, replace) => {
            if (HCMS.Validations.CommonValidations.isNull(data))
                return replace;
            return data;
        };
        CommonValidations.pad = (num, size) => {
            var s = num + "";
            while (s.length < size)
                s = "0" + s;
            return s;
        };
        Validations.CommonValidations = CommonValidations;
    })(Validations = HCMS.Validations || (HCMS.Validations = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Validations;
    (function (Validations) {
        class DateValidations {
        }
        DateValidations.isDate = (date) => {
            var isValid = true;
            if (Object.prototype.toString.call(date) === "[object Date]") {
                // it is a date
                if (isNaN(date)) {
                    // date is not valid
                    isValid = false;
                }
                else {
                    // date is valid
                    isValid = true;
                }
            }
            else {
                // not a date
                isValid = false;
            }
            return (isValid && date !== null);
        };
        DateValidations.toDate = (date) => {
            return JSON.stringify(date);
        };
        DateValidations.toUtcDate = (date) => {
            if (HCMS.Validations.DateValidations.isDate(date))
                return new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
            else
                return date;
        };
        DateValidations.toUTCTime = (time) => {
            return new time(time.UtC(time.Hours(), time.Minutes()));
        };
        DateValidations.toDateTime = (inTime) => {
            if (!HCMS.Validations.CommonValidations.isNull(inTime)) {
                var alltime = inTime.split(':');
                if (alltime.length > 2) {
                    var time = {
                        h: parseInt(alltime[0]),
                        m: parseInt(alltime[1]),
                        s: parseInt(alltime[2])
                    };
                    return new Date(2000, 1, 1, time.h, time.m, time.s, 0);
                }
                else
                    return null;
            }
            else
                return null;
        };
        DateValidations.timeAddHours = (fromTime, hours) => {
            //  var fromDateTime = DateValidations.toDateTime(fromTime);
            var newDateTime = new Date(fromTime);
            newDateTime.setHours(fromTime.getHours() + hours);
            return newDateTime.getHours() + ":" + newDateTime.getMinutes() + ":" + newDateTime.getSeconds();
        };
        DateValidations.dateToJsonString = (date) => {
            if (DateValidations.isDate(date)) {
                return date.toJSON();
            }
            return date.tostring();
        };
        DateValidations.dateDiffDays = (fromDate, toDate) => {
            var timeDiff = Math.abs(fromDate.getTime() - toDate.getTime());
            var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));
            return diffDays;
        };
        DateValidations.dateDiffHours = (fromDate, toDate) => {
            var timeDiff = Math.abs(fromDate.getTime() - toDate.getTime());
            var diffMinutes = Math.ceil(timeDiff / (1000 * 60 * 60));
            return diffMinutes;
        };
        DateValidations.dateDiffMinutes = (fromDate, toDate) => {
            var timeDiff = Math.abs(fromDate.getTime() - toDate.getTime());
            var diffMinutes = Math.ceil(timeDiff / (1000 * 60));
            return diffMinutes;
        };
        DateValidations.dateDiffSeconds = (fromDate, toDate) => {
            var timeDiff = Math.abs(fromDate.getTime() - toDate.getTime());
            var diffSeconds = Math.ceil(timeDiff / (1000));
            return diffSeconds;
        };
        DateValidations.dateAddDays = (fromDate, days) => {
            var result = new Date(fromDate);
            result.setDate(result.getDate() + days);
            return result;
        };
        Validations.DateValidations = DateValidations;
    })(Validations = HCMS.Validations || (HCMS.Validations = {}));
})(HCMS || (HCMS = {}));
window.agGrid.initialiseAgGridWithAngular1(angular);
var app;
(function (app) {
    var hcms;
    (function (hcms) {
        //"use strict";
        hcms.appHCMS = angular.module("app.hcms", ['ngFileUpload', 'ui.router', 'ui.bootstrap', 'ae-datetimepicker', 'angularMoment', 'pascalprecht.translate', 'angular-loading-bar', 'ui.router.tabs', 'agGrid', 'HCMS.DataAccess', 'HCMS.Controls', 'HCMS.Forms', 'HCMS.Menus', 'HCMS.Validations']);
        function $translateUrlLoader($q, $http) {
            'use strict';
            return function (options) {
                if (!options || !options.url) {
                    throw new Error('Couldn\'t use urlLoader since no url is given!');
                }
                var requestParams = {};
                requestParams[options.queryParameter || 'langId'] = options.key;
                return $http(angular.extend({
                    url: options.url,
                    params: requestParams,
                    method: 'GET'
                }, options.$http))
                    .then(function (result) {
                    return result.data;
                }, function () {
                    return $q.reject(options.key);
                });
                //var queryString = "?langId=" + options.key;
                //return appService.get("Dictionary", 'GetAll', queryString, function (response) {
                //    return response.data;
                //}, null);
            };
        }
        $translateUrlLoader['displayName'] = '$translateUrlLoader';
        hcms.appHCMS.factory('$translateUrlLoader', $translateUrlLoader);
        window.$stateProviderRef = null;
        hcms.appHCMS.config(function ($locationProvider, $stateProvider, $translateProvider, $httpProvider) {
            window.$stateProviderRef = $stateProvider;
            $locationProvider.html5Mode(true);
            //$locationProvider.hashPrefix('!').html5Mode({
            //    enabled: true,
            //    requireBase: false
            //});
            $stateProvider
                .state('login', {
                url: '/login',
                views: {
                    root: {
                        //templateUrl: 'app_hcms/login/views/login.html',
                        templateUrl: 'app_hebs/hcms/login/views/login.html',
                        controller: 'loginController',
                        controllerAs: 'vm'
                    }
                },
                data: {
                    title: 'Login',
                    htmlId: 'extr-page'
                },
                resolve: {
                    srcipts: function (lazyScript) {
                        return lazyScript.register([
                            'build/vendor.ui.js'
                        ]);
                    }
                }
            })
                .state('app.generalReport', {
                url: '/app/generalReport/:reportId/:apiController',
                views: {
                    "content@app": {
                        templateUrl: 'app_hebs/hcms/reports/views/generalReportView.html',
                        controller: 'generalReportController',
                        controllerAs: 'generalReport',
                    }
                },
            })
                .state('app.reportViewer', {
                url: '/app/reportViewer/:formId/:apiController',
                views: {
                    "content@app": {
                        templateUrl: 'app_hcms/reports/views/reportViewer.html',
                        controller: 'reportViewerController',
                        controllerAs: 'reportView',
                    }
                },
            })
                .state('app.tabs', {
                url: '/app/tabs',
                abstract: true,
                views: {
                    "content@app": {
                        templateUrl: 'app_hebs/menus/menuTabs.html',
                        controller: 'menuTabsController',
                        controllerAs: 'menuTabs',
                    }
                }
            });
            var url = window.appConfig.webApiUrl + '/Dictionary/GetAll';
            $translateProvider.useUrlLoader(url);
            $translateProvider.preferredLanguage('0');
            var interceptor = function (loginInfo, $q, $location) {
                return {
                    request: function (config) {
                        // var currentUser = loginInfo.getCurrentUser();
                        var currentUser = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                        if (currentUser != null) {
                            config.headers['Authorization'] = 'Bearer ' + currentUser.access_token;
                        }
                        return config;
                    },
                    responseError: function (rejection) {
                        if (rejection.status === 401) {
                            $location.path('/login');
                            //$state.go("login");
                            return $q.reject(rejection);
                        }
                        if (rejection.status === 403) {
                            $location.path('/unauthorized');
                            //$state.go("unauthorized");
                            return $q.reject(rejection);
                        }
                        return $q.reject(rejection);
                    }
                };
            };
            var params = ['$q', '$location'];
            interceptor.$inject = params;
            $httpProvider.interceptors.push(interceptor);
        });
        hcms.appHCMS.run(['$rootScope', '$state', '$stateParams',
            function ($rootScope, $state, $stateParams) {
                $rootScope.$state = $state;
                $rootScope.$stateParams = $stateParams;
            }
        ]);
        hcms.appHCMS.run(function ($rootScope, $state, $http) {
            $rootScope.$on('$stateChangeStart', function (evt, to, params) {
                var currentUser = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                if (to.name !== "login") {
                    // redirect to login page if not logged in and trying to access a restricted page
                    var restrictedPage = false; // $.inArray($location.path(), ['/login', '/register']) === -1;
                    var loggedIn = currentUser;
                    if (restrictedPage || !loggedIn) {
                        evt.preventDefault();
                        $state.go('login');
                    }
                }
                //var currentUser = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (to.name !== "login") {
                //    // redirect to login page if not logged in and trying to access a restricted page
                //    var restrictedPage = false; // $.inArray($location.path(), ['/login', '/register']) === -1;
                //    var loggedIn = currentUser;
                //    if (restrictedPage || !loggedIn) {
                //        evt.preventDefault();
                //        $state.go('login');
                //    }
                //}
            });
        });
        hcms.appHCMS.run(['$window', '$q', function ($window, $q) {
                $window['Promise'] = $q;
            }]);
    })(hcms = app.hcms || (app.hcms = {}));
})(app || (app = {}));
/// <reference path="../../scripts/typings/angularjs/angular.d.ts" />
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        //"use strict";
        DataAccess.hcmsDataAccess = angular.module("HCMS.DataAccess", []);
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class HcmsAppLanguage {
            constructor(translateService, dbManager, hcmsLanguageChange) {
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.hcmsLanguageChange = hcmsLanguageChange;
                this.restrict = 'E';
                this.scope = {};
                this.replace = true;
                this.template = `<ul class="header-dropdown-list hidden-xs ng-cloak">
                                    <li class="dropdown" dropdown>
                                        <a class="dropdown-toggle" data-toggle="dropdown" href>
                                            <img src="styles/img/blank.gif" class="flag flag-{{currentLanguage.LangShortName}}" alt="{{currentLanguage.LangShortName}}"> <span> {{currentLanguage.LangName}} </span>
                                            <i class="fa fa-angle-down"></i>
                                        </a>
                                        <ul class="dropdown-menu pull-right">
                                            <li ng-class="::{active: language==currentLanguage}" ng-repeat="language in languages">
                                                <a ng-click="selectLanguage(language)">
                                                    <img src="styles/img/blank.gif" class="flag flag-{{::language.LangShortName}}"
                                                         alt="{{::language.LangShortName}}"> {{::language.LangName}}
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                  </ul>`;
                this.link = (scope, element, $attrs) => {
                    var currentInfo = DataAccess.StartUp.CurrentLoginInfo;
                    scope.languages = [];
                    scope.currentLanguage = {};
                    this.hcmsLanguageChange.getLanguages((data) => {
                        scope.languages = data;
                        angular.forEach(data, function (value, key) {
                            if (value.LangId == currentInfo.Language.LangId) {
                                scope.currentLanguage = value;
                            }
                        });
                    });
                    scope.selectLanguage = (language) => {
                        scope.currentLanguage = language;
                        DataAccess.StartUp.ChangeLanguage(language, this.translateService);
                    };
                };
            }
            static Factory() {
                var directive = (translateService, dbManager, hcmsLanguageChange) => new HcmsAppLanguage(translateService, dbManager, hcmsLanguageChange);
                //directive's injection list
                directive.$inject = ["translateService", "dataManagerService", "hcmsLanguageChange"];
                return directive;
            }
        }
        DataAccess.HcmsAppLanguage = HcmsAppLanguage;
        DataAccess.hcmsDataAccess.directive('hcmsAppLanguage', HcmsAppLanguage.Factory());
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class HcmsLanguageChange {
            constructor(dbManager) {
                this.dbManager = dbManager;
                this.getLanguage = (key, callBack) => {
                    this.dbManager.Get('Lookups', 'GetDetails', "?table=SystemLanguages&id=" + key, (response) => {
                        if (callBack) {
                            callBack(response.data);
                        }
                    }, () => {
                        if (callBack) {
                            callBack([]);
                        }
                    });
                };
                this.getLanguages = (callBack) => {
                    this.dbManager.Get('Lookups', 'GetAll', "?table=SystemLanguages", (response) => {
                        //vm.subForms = response.data;
                        if (callBack) {
                            callBack(response.data);
                        }
                    }, () => {
                        if (callBack) {
                            callBack([]);
                        }
                    });
                };
            }
        }
        HcmsLanguageChange.$inject = ['dataManagerService'];
        DataAccess.HcmsLanguageChange = HcmsLanguageChange;
        //hcmsDataAccess.service('translateService', TranslateService);
        DataAccess.hcmsDataAccess.service('hcmsLanguageChange', ['dataManagerService', function (dataManagerService) {
                return new HcmsLanguageChange(dataManagerService);
            }]);
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
///// <reference path="../../../scripts/typings/angularjs/angular.d.ts" />
///// <reference path="../module.ts" />
///// <reference path="../services/datamanager.ts" />
///// <reference path="../services/translate.ts" />
//module HCMS.DataAccess {
//    export class HcmsAppLanguage implements ng.IDirective {
//        public restrict = 'E';
//        public scope: any = {};
//        public replace: boolean = true;
//        public template: string = `<ul class="header-dropdown-list hidden-xs ng-cloak">
//                                    <li class="dropdown" dropdown>
//                                        <a class="dropdown-toggle" data-toggle="dropdown" href>
//                                            <img src="styles/img/blank.gif" class="flag flag-{{::currentLanguage.LangShortName}}" alt="{{::currentLanguage.LangShortName}}"> <span> {{::currentLanguage.LangName}} </span>
//                                            <i class="fa fa-angle-down"></i>
//                                        </a>
//                                        <ul class="dropdown-menu pull-right">
//                                            <li ng-class="::{active: language==currentLanguage}" ng-repeat="language in languages">
//                                                <a ng-click="selectLanguage(language)">
//                                                    <img src="styles/img/blank.gif" class="flag flag-{{::language.LangShortName}}"
//                                                         alt="{{::language.LangShortName}}"> {{::language.LangName}}
//                                                </a>
//                                            </li>
//                                        </ul>
//                                    </li>
//                                  </ul>` ;
//        constructor(private translateService: DataAccess.TranslateService, private dbManager: DataAccess.DataManagerService) {
//        }
//        link: ng.IDirectiveLinkFn = (scope: any, element: JQuery, $attrs: ng.IAttributes) => {
//            var currentInfo: DataAccess.ICurrentLoginInfo = DataAccess.StartUp.CurrentLoginInfo;
//            scope.languages = [];
//            scope.currentLanguage = {};
//            hcmsLanguage.getLanguages((data) => {
//                scope.languages = data;
//                angular.forEach(data, function (value, key) {
//                    if (value.LangId == currentInfo.Language.LangId) {
//                        scope.currentLanguage = value;
//                    }
//                });
//            });
//            scope.selectLanguage = function (language) {
//                appService.currentLangInfo.changeLanguage(language);
//                scope.currentLanguage = language;
//            }
//        }
//        static Factory(): ng.IDirectiveFactory {
//            var directive: ng.IDirectiveFactory =
//                (translateService: DataAccess.TranslateService, dbManager: DataAccess.DataManagerService) => new FormNavTabs(translateService, dbManager);
//            //directive's injection list
//            directive.$inject = ["translateService", "dataManagerService"];
//            return directive;
//        }
//    }
//    hcmsDataAccess.directive('hcmsText', HcmsAppLanguage.Factory());
//}
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class DataManagerService {
            constructor($http) {
                this.$http = $http;
                //GetByUrl
                this.GetByUrl = (routingUrl, success, fail, always) => {
                    let fullUrl = DataAccess.StartUp.apiUrl.concat('/').concat(routingUrl);
                    this.$http.get(fullUrl).then(function (result) {
                        if (success != null) {
                            success(result);
                        }
                    }, function (result) {
                        if (fail != null) {
                            fail(result);
                        }
                    }, function (result) {
                        if (always != null) {
                            always(result);
                        }
                    });
                };
                //get
                this.Get = (controllerName, actionName, queryString, success, fail, always) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    this.$http.get(url).then(function (result) {
                        if (success != null) {
                            success(result);
                        }
                    }, function (result) {
                        if (fail != null) {
                            fail(result);
                        }
                    }, function (result) {
                        if (always != null) {
                            always(result);
                        }
                    });
                };
                //post
                this.Post = (controllerName, actionName, queryString, data, success, fail) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    this.$http.post(url, data)
                        .then(function (result) {
                        if (success != null) {
                            success(result);
                        }
                    }, function (result) {
                        if (fail != null) {
                            fail(result);
                        }
                    }, function (result) {
                        //if (always != null) {
                        //    always(result);
                        //}
                    });
                };
                //put
                this.Put = (controllerName, actionName, queryString, data, success, fail, always) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    this.$http.put(url, data)
                        .then(function (result) {
                        if (success != null) {
                            success(result);
                        }
                    }, function (result) {
                        if (fail != null) {
                            fail(result);
                        }
                    }, function (result) {
                        if (always != null) {
                            always(result);
                        }
                    });
                };
                //delete
                this.Delete = (controllerName, actionName, queryString, success, fail, always) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    this.$http.delete(url)
                        .then(function (result) {
                        if (success != null) {
                            success(result);
                        }
                    }, function (result) {
                        if (fail != null) {
                            fail(result);
                        }
                    }, function (result) {
                        if (always != null) {
                            always(result);
                        }
                    });
                };
                //get Promise
                this.GetPromise = (controllerName, actionName, queryString) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    return this.$http.get(url);
                };
                //post Promise
                this.PostPromise = (controllerName, actionName, queryString, data) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    return this.$http.post(url, data);
                };
                //put Promise
                this.PutPromise = (controllerName, actionName, queryString, data) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    return this.$http.put(url, data);
                };
                //delete Promise
                this.DeletePromise = (controllerName, actionName, queryString) => {
                    let url = this.getUrl(controllerName, actionName, queryString);
                    return this.$http.delete(url);
                };
            }
            //getUrl
            getUrl(controllerName, actionName, queryString) {
                let url = DataAccess.StartUp.apiUrl.concat('/').concat(controllerName).concat('/')
                    .concat(actionName).concat(queryString == null ? '' : queryString);
                return url;
            }
        }
        DataManagerService.$inject = ['$http'];
        DataAccess.DataManagerService = DataManagerService;
        //hcmsDataAccess.service("dataManagerService", DataManagerService);
        DataAccess.hcmsDataAccess.service('dataManagerService', ['$http', function ($http) {
                return new DataManagerService($http);
            }]);
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class TranslateService {
            constructor($filter, $translate) {
                //translate
                this.Translate = (text, viewId, ParamValue) => {
                    let trans = this.filter('translate');
                    if (DataAccess.Utility.IsNull(viewId)) {
                        var textView = text + '-' + viewId;
                        var resultText = trans(textView);
                        if (resultText === textView) {
                            return trans(text);
                        }
                        else {
                            return resultText;
                        }
                    }
                    return trans(text);
                };
                this.AE = (arabicText, englishText) => {
                    let isALter = DataAccess.StartUp.CurrentLoginInfo.Language.LangAlter;
                    if (isALter) {
                        return arabicText;
                    }
                    else {
                        return englishText;
                    }
                };
                this.Use = (langId) => {
                    this.translate.use(langId.toString());
                };
                this.filter = $filter;
                this.translate = $translate;
            }
        }
        TranslateService.$inject = ['$filter', '$translate'];
        DataAccess.TranslateService = TranslateService;
        //hcmsDataAccess.service('translateService', TranslateService);
        DataAccess.hcmsDataAccess.service('translateService', ['$filter', '$translate', function ($filter, $translate) {
                return new TranslateService($filter, $translate);
            }]);
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class Company {
            constructor(dbManager, companyId) {
                this.dbManager = dbManager;
                this.CompanyId = 0;
                this.CompanyCode = "";
                this.CompanyName = "";
                this.CompanyName_ = "";
                this.DecimalScale = 2;
                this.CompanyId = companyId;
            }
            Load() {
                return __awaiter(this, void 0, void 0, function* () {
                    var currentObject = this;
                    var queryString = '?id=' + this.CompanyId;
                    yield this.dbManager.Get('LoginCompany', 'GetDetails', queryString, function (result) {
                        DataAccess.Utility.CopyObject(currentObject, result.data);
                    });
                });
            }
        }
        DataAccess.Company = Company;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class CurrentLoginInfo {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.access_token = "";
            }
            SetLoginInfo(currentLoginInfoIDs) {
                return __awaiter(this, void 0, void 0, function* () {
                    this.User = new DataAccess.User(this.dbManager, currentLoginInfoIDs.UserId);
                    this.Language = new DataAccess.Language(this.dbManager, currentLoginInfoIDs.LangId);
                    this.Company = new DataAccess.Company(this.dbManager, currentLoginInfoIDs.CompanyId);
                    this.DatabaseProfile = new DataAccess.DatabaseProfile(this.dbManager, currentLoginInfoIDs.DatabaseProfileId);
                    this.access_token = currentLoginInfoIDs.access_token;
                    DataAccess.StartUp.SetCurrentLoginInfo(this);
                    this.Language.Load((lng) => {
                        // this.changeDirection(this.Language.LangDirection);
                        DataAccess.StartUp.ChangeLanguage(lng, this.translator);
                    });
                    this.translator.Use(this.Language.LangId);
                    yield this.User.Load();
                    yield this.Company.Load();
                    yield this.DatabaseProfile.Load();
                    sessionStorage.setItem("hcmsCurrentLoginInfo", angular.toJson(this));
                });
            }
        }
        CurrentLoginInfo.$inject = ['dataManagerService'];
        DataAccess.CurrentLoginInfo = CurrentLoginInfo;
        //hcmsDataAccess.service('currentLoginInfo', ['dataManagerService', function (dataManagerService: HCMS.DataAccess.DataManagerService, translateService: HCMS.DataAccess.TranslateService) {
        //    return new CurrentLoginInfo(dataManagerService, translateService);
        //}]);
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class DatabaseProfile {
            constructor(dbManager, databaseProfileId) {
                this.dbManager = dbManager;
                this.DatabaseProfileId = 0;
                this.DatabaseProfileName = "";
                this.DatabaseProfileId = databaseProfileId;
            }
            Load() {
                var currentObject = this;
                var queryString = '?id=' + this.DatabaseProfileId;
                this.dbManager.Get('DatabaseProfile', 'GetDetails', queryString, function (result) {
                    DataAccess.Utility.CopyObject(currentObject, result.data);
                });
            }
        }
        DataAccess.DatabaseProfile = DatabaseProfile;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class Language {
            constructor(dbManager, langId) {
                this.dbManager = dbManager;
                this.LangId = 0;
                this.LangName = "";
                this.LangShortName = "";
                this.LangAlter = false;
                this.LangDirection = "ltr";
                this.LangId = langId;
            }
            Load(callBack) {
                var currentObject = this;
                var queryString = '?id=' + this.LangId;
                this.dbManager.Get('LoginLanguage', 'GetDetails', queryString, function (result) {
                    DataAccess.Utility.CopyObject(currentObject, result.data);
                    if (callBack !== null) {
                        callBack(currentObject);
                    }
                });
            }
        }
        DataAccess.Language = Language;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class StartUp {
            static SetCurrentLoginInfo(info) {
                StartUp._CurrentLoginInfo = info;
            }
            static get CurrentLoginInfo() {
                var loginInfo = StartUp._CurrentLoginInfo;
                if (loginInfo == null) {
                    loginInfo = angular.fromJson(sessionStorage.getItem("hcmsCurrentLoginInfo"));
                    StartUp._CurrentLoginInfo = loginInfo;
                }
                return loginInfo;
            }
        }
        StartUp.apiUrl = window['appConfig'].webApiUrl;
        StartUp.reportsUrl = window['appConfig'].webReportsUrl;
        StartUp.apiRootUrl = window['appConfig'].webUrl;
        StartUp._CurrentLoginInfo = null;
        StartUp.ChangeLanguage = (language, translator) => {
            var loginInfo = StartUp.CurrentLoginInfo;
            loginInfo.Language = language;
            translator.Use(loginInfo.Language.LangId);
            var rtl = (loginInfo.Language.LangDirection.toLowerCase() == 'rtl');
            var $root = $('body');
            $root.toggleClass('smart-rtl', rtl);
        };
        DataAccess.StartUp = StartUp;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class User {
            constructor(dbManager, userId) {
                this.dbManager = dbManager;
                this.UserId = 0;
                this.UserName = "";
                this.UserId = userId;
            }
            Load() {
                return __awaiter(this, void 0, void 0, function* () {
                    var currentObject = this;
                    var queryString = '?table=Users&id=' + this.UserId;
                    yield this.dbManager.Get('Lookups', 'GetDetails', queryString, function (result) {
                        DataAccess.Utility.CopyObject(currentObject, result.data);
                    });
                });
            }
        }
        DataAccess.User = User;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
//interface Object {
//    CopyFrom(obj: any): void;
//}
//Object.prototype.CopyFrom = function (obj: any) {
//    for (var attribut in obj) {
//        if (typeof obj[attribut] === "object") {
//            this[attribut].CopyFrom(obj[attribut]);
//        } else {
//            this[attribut] = obj[attribut];
//        }
//    }
//}
var HCMS;
(function (HCMS) {
    var DataAccess;
    (function (DataAccess) {
        class Utility {
            static IsNull(data) {
                return (angular.isUndefined(data) || (data === null));
            }
            static IsDate(data) {
                var isValid = true;
                if (Object.prototype.toString.call(data) === "[object Date]") {
                    // it is a date
                    if (isNaN(data)) {
                        // date is not valid
                        isValid = false;
                    }
                    else {
                        // date is valid
                        isValid = true;
                    }
                }
                else {
                    // not a date
                    isValid = false;
                }
                return (isValid && data !== null);
            }
            //static Clone(obj: any): any {
            //    var cloneObj = new (<any>obj.constructor());
            //    for (var attribut in obj) {
            //        if (typeof obj[attribut] === "object") {
            //            cloneObj[attribut] = this.Clone(obj[attribut]);
            //        } else {
            //            cloneObj[attribut] = obj[attribut];
            //        }
            //    }
            //    return cloneObj;
            //}
            static CopyObject(destinationObject, sourceObject) {
                angular.forEach(sourceObject, (value, key) => {
                    if (destinationObject.hasOwnProperty(key)) {
                        destinationObject[key] = sourceObject[key];
                    }
                });
            }
            static CopyData(source) {
                return angular.copy(source);
            }
        }
        DataAccess.Utility = Utility;
    })(DataAccess = HCMS.DataAccess || (HCMS.DataAccess = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Authentication;
    (function (Authentication) {
        //"use strict";
        Authentication.hcmsAuthentication = angular.module("HCMS.Authentication", ['HCMS.DataAccess']);
    })(Authentication = HCMS.Authentication || (HCMS.Authentication = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Authentication;
    (function (Authentication) {
        class AccountService {
            constructor($http, $q, dbManager, translator) {
                this.$http = $http;
                this.$q = $q;
                this.dbManager = dbManager;
                this.translator = translator;
                //     var fac = {};
                //var serviceBasePath = window.appConfig.webUrl;
                this.login = (user) => {
                    var serviceBasePath = HCMS.DataAccess.StartUp.apiRootUrl;
                    var obj = { 'username': user.username, 'password': user.password, 'databaseProfileId': user.databaseProfileId, 'companyId': user.companyId, 'langId': user.langId };
                    Object['toparams'] = function ObjectsToParams(obj) {
                        var p = [];
                        for (var key in obj) {
                            p.push(key + '=' + encodeURIComponent(obj[key]));
                        }
                        return p.join('&');
                    };
                    var defer = this.$q.defer();
                    this.$http({
                        method: 'post',
                        url: serviceBasePath + "/token",
                        data: 'grant_type=password&' + Object['toparams'](obj),
                        headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
                    }).then((response) => {
                        defer.resolve(response.data);
                        var data = response.data;
                        var info = new HCMS.DataAccess.CurrentLoginInfo(this.dbManager, this.translator);
                        info.SetLoginInfo({ UserId: data.userId, LangId: data.langId, DatabaseProfileId: data.databaseProfileId, CompanyId: data.companyId, access_token: data.access_token });
                    }, (error) => {
                        defer.reject(error.data);
                    });
                    return defer.promise;
                };
                this.logout = () => {
                    var info = new HCMS.DataAccess.CurrentLoginInfo(this.dbManager, this.translator);
                    HCMS.DataAccess.StartUp.SetCurrentLoginInfo(info);
                };
            }
        }
        AccountService.$inject = ['$http'];
        Authentication.AccountService = AccountService;
        //hcmsDataAccess.service("dataManagerService", DataManagerService);
        Authentication.hcmsAuthentication.service('accountService', ['$http', '$q', 'dataManagerService', 'translateService', function ($http, $q, dataManagerService, translator) {
                return new AccountService($http, $q, dataManagerService, translator);
            }]);
    })(Authentication = HCMS.Authentication || (HCMS.Authentication = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        //"use strict";
        Controls.hcmsControls = angular.module("HCMS.Controls", ['HCMS.DataAccess', 'HCMS.Validations']);
        function getSecurityString() {
            return 'ng-hide="{{hcOptions.IsHidden}}" ng-readonly="{{hcOptions.IsReadOnly}}" ng-disabled="{{hcOptions.IsReadOnly}}" ';
        }
        Controls.getSecurityString = getSecurityString;
        function ngHcmsOptions() {
            return ' data-page-id="{{hcOptions.ViewId}}" data-object-id="{{hcOptions.ControlId}}"   ng-required="{{hcOptions.IsRequired}}"  ng-minlength="{{hcOptions.MinLength}}" ng-maxlength="{{hcOptions.MaxLength}}" ng-pattern="{{hcOptions.Pattern}}" ng-value="{{hcOptions.DefaultValue}}" ' + getSecurityString();
        }
        Controls.ngHcmsOptions = ngHcmsOptions;
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsApplySecurity {
            constructor() {
                this.restrict = 'A';
                this.scope = {
                    hcmsApplySecurity: '='
                };
                this.link = (scope, element, attrs) => {
                    var viewOption = scope.hcmsApplySecurity;
                    var securityOption = { ObjectSecurityId: 2 }; //0 show, 1 hide,2 disabled
                    var applyViewOptions = function (callback) {
                        if (viewOption.IsHidden) {
                            element.css({
                                display: 'none'
                            });
                        }
                        if (viewOption.IsReadOnly) {
                            element.attr('disabled', 'disabled');
                            $(element).find("input[type='text']").children().attr("readonly", "readonly");
                            $(element).find("!input[type='text']").children().attr("disabled", "disabled");
                        }
                    };
                    var applySecurity = function (viewOption) {
                        if (viewOption.IsHidden) {
                            return;
                        }
                        switch (securityOption.ObjectSecurityId) {
                            case 1:
                                element.css({
                                    display: 'none'
                                });
                                break;
                            case 2:
                                element.attr('disabled', 'disabled');
                                $(element).find("*").children().attr("disabled", "disabled");
                                break;
                            default:
                            case 0:
                                element.css({
                                    display: 'block'
                                });
                                //$(element).removeAttr('disabled');
                                break;
                        }
                    };
                };
            }
            static Factory() {
                var directive = () => new HcmsApplySecurity();
                //directive.$inject = ["translateService","dataManagerService"];
                return directive;
            }
        }
        Controls.HcmsApplySecurity = HcmsApplySecurity;
        Controls.hcmsControls.directive('hcmsApplySecurity', HcmsApplySecurity.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        Controls.hcmsControls.filter('hcmspercentage', ['$filter', function ($filter) {
                return function (input, decimals) {
                    return $filter('number')(input * 100, decimals) + '%';
                };
            }]);
        Controls.hcmsControls.filter('hcmsnumber', ['$filter', function ($filter) {
                return function (input, decimals) {
                    return $filter('number')(input, decimals);
                };
            }]);
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class genericEditor {
            constructor($rootScope, $compile, translateService) {
                this.restrict = 'E';
                this.scope = {
                    hcOptions: '=',
                    ngModel: "=",
                    hcText: "@?",
                    hcEvents: "=?",
                    hcDontLoadData: "=?"
                };
                this.priority = 0;
                this.link = (scope, element, $attrs) => {
                    scope.$watch('hcOptions', function (value) {
                        if (value != null) {
                            addControl();
                        }
                    });
                    var compile = this.compiler;
                    function addControl() {
                        var template = '<hcms-text name="inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"></hcms-text>';
                        switch (scope.hcOptions.ControlTypeName) {
                            case "comment":
                            case "notes":
                                template = '<hcms-comment name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-comment>';
                                break;
                            case "date":
                                template = '<hcms-date name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-date>';
                                break;
                            case "time":
                                template = '<hcms-time name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-time>';
                                break;
                            case "int":
                                template = '<hcms-number name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-number>';
                                break;
                            case "number":
                                template = '<hcms-number name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-number>';
                                break;
                            case "email":
                                template = '<hcms-email name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-email>';
                                break;
                            case "checkbox":
                            case "check":
                                template = '<hcms-check name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-text="{{hcText}}" hc-events="hcEvents"> </hcms-check>';
                                break;
                            case "radiobox":
                            case "radio":
                                template = '<hcms-radio name= "inputControl" ng-model="ngModel" hc-options="hcOptions" hc-events="hcEvents"> </hcms-radio>';
                                break;
                            case "month":
                                template = '<hcms-month name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents"> </hcms-month>';
                                break;
                            case "year":
                                template = '<hcms-year name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents"> </hcms-year>';
                                break;
                            case "select":
                                //template = '<hcms-multi-select name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents"> </hcms-multi-select>';
                                template = '<hcms-select name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents" hc-dont-load-data="hcDontLoadData"> </hcms-select>';
                                break;
                            case "multiselect":
                                template = '<hcms-multi-select name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents" hc-dont-load-data="hcDontLoadData"> </hcms-multi-select>';
                                break;
                            case "tree":
                            case "report-tree":
                                template = '<hcms-tree name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents"> </hcms-tree>';
                                break;
                            case "file":
                                template = '<hcms-file name= "inputControl" ng-model="ngModel"  hc-options="hcOptions" hc-events="hcEvents"> </hcms-file>';
                                break;
                            default:
                        }
                        element.html(template);
                        compile(element.contents())(scope);
                    }
                };
                this.compiler = $compile;
                this.translateService = translateService;
                this.rootScope = $rootScope;
                // this.scope.hcmsTranslator = '=';
            }
            // to register directive 
            static Factory() {
                var directive = ($rootScope, $compile, translateService) => new genericEditor($rootScope, $compile, translateService);
                //directive's injection list
                directive.$inject = ["$rootScope", "$compile", "translateService"];
                return directive;
            }
        }
        Controls.genericEditor = genericEditor;
        Controls.hcmsControls.directive('hcmsGeneric', genericEditor.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
/// <reference path="module.ts" />
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        // item translator
        class TranslateDirective {
            constructor($rootScope, $compile, translateService) {
                this.restrict = 'A';
                this.scope = { 'hcmsTranslator': "=", "hcmsViewId": "=?" };
                this.priority = 0;
                this.link = (scope, element, $attrs) => {
                    var translationChangeOccurred = () => {
                        var originalText = scope.hcmsTranslator;
                        var viewId = scope.hcmsViewId;
                        if (viewId == null || viewId == undefined) {
                            var parentViewElement = element.closest("[hcms-view-id]");
                            viewId = parentViewElement.attr("hcms-view-id");
                        }
                        //var originalTooltip = attrs['tooltip'];
                        //let trans: any = this.filter('translate');
                        element.text(this.translateService.Translate(originalText, viewId));
                    };
                    translationChangeOccurred();
                    this.rootScope.$on('$translateChangeSuccess', translationChangeOccurred);
                };
                this.compiler = $compile;
                this.translateService = translateService;
                this.rootScope = $rootScope;
                // this.scope.hcmsTranslator = '=';
            }
            static Factory() {
                var directive = ($rootScope, $compile, translateService) => new TranslateDirective($rootScope, $compile, translateService);
                //directive's injection list
                directive.$inject = ["$rootScope", "$compile", "translateService"];
                return directive;
            }
        }
        Controls.TranslateDirective = TranslateDirective;
        Controls.hcmsControls.directive('hcmsTranslator', TranslateDirective.Factory());
        // form Translator
        class FormTranslateDirective {
            constructor($rootScope, $compile, translateService) {
                this.restrict = 'A';
                this.scope = { "hcmsViewId": "=?" };
                this.priority = 0;
                this.link = (scope, element, $attrs) => {
                    var translationChangeOccurred = () => {
                        var originalText = scope.hcmsTranslator;
                        var viewId = scope.hcmsViewId;
                        var translator = this.translateService;
                        $(element).find('label').each(function () {
                            this.innerHTML = translator.Translate(this.textContent, viewId);
                        });
                    };
                    translationChangeOccurred();
                    this.rootScope.$on('$translateChangeSuccess', translationChangeOccurred);
                };
                this.compiler = $compile;
                this.translateService = translateService;
                this.rootScope = $rootScope;
                // this.scope.hcmsTranslator = '=';
            }
            static Factory() {
                var directive = ($rootScope, $compile, translateService) => new FormTranslateDirective($rootScope, $compile, translateService);
                //directive's injection list
                directive.$inject = ["$rootScope", "$compile", "translateService"];
                return directive;
            }
        }
        Controls.FormTranslateDirective = FormTranslateDirective;
        Controls.hcmsControls.directive('hcmsFormTranslator', FormTranslateDirective.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        // form Translator
        class OnFinishRender {
            //public scope: any = {};
            constructor($timeout) {
                this.$timeout = $timeout;
                this.restrict = 'A';
                this.link = (scope, element, attr) => {
                    if (scope.$last === true) {
                        this.$timeout(() => {
                            scope.$emit(attr.onFinishRender);
                        });
                    }
                };
            }
            static Factory() {
                var directive = ($timeout) => new OnFinishRender($timeout);
                //directive's injection list
                directive.$inject = ["$timeout"];
                return directive;
            }
        }
        Controls.OnFinishRender = OnFinishRender;
        Controls.hcmsControls.directive('onFinishRender', OnFinishRender.Factory());
        class OnWidgetFinishRender {
            //public scope: any = {};
            constructor($timeout) {
                this.$timeout = $timeout;
                this.restrict = 'A';
                this.link = (scope, element, attr) => {
                    element.attr("id", attr.onWidgetFinishRender);
                    if (scope.$last === true) {
                        $['enableJarvisWidgets'] = true;
                        this.$timeout(window.setup_widgets_desktop, 100);
                    }
                };
            }
            static Factory() {
                var directive = ($timeout) => new OnWidgetFinishRender($timeout);
                //directive's injection list
                directive.$inject = ["$timeout"];
                return directive;
            }
        }
        Controls.OnWidgetFinishRender = OnWidgetFinishRender;
        Controls.hcmsControls.directive('onWidgetFinishRender', OnWidgetFinishRender.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class messageHandler {
            constructor() {
                this.MessageConfirmation = (data, successMessge) => {
                    var systemResult = data.SystemMessage;
                    //if (!HCMS.Validations.CommonValidations.isNull(data) && HCMS.Validations.CommonValidations.isNull(systemResult)) {
                    //    this.smartAlert.Error(data);
                    //}else
                    var result = true;
                    if (!HCMS.Validations.CommonValidations.isNull(systemResult)
                        && data.IsErrorMessage == false) {
                        this.smartAlert.Alert(successMessge);
                        result = true;
                    }
                    else {
                        if (systemResult.IsPreventMessage == true) {
                            this.smartAlert.Error(systemResult.SystemMessage.MessageComment, systemResult.SystemMessage.MessageCode); // Error Alert
                            result = false;
                        }
                        else {
                            this.smartAlert.Warning(systemResult.SystemMessage.MessageComment, systemResult.SystemMessage.MessageCode); // Warning Alert
                            this.smartAlert.Alert(successMessge);
                            result = true;
                        }
                    }
                    return result;
                };
                this.smartAlert = new HCMS.Controls.SmartAlert();
            }
        }
        Controls.messageHandler = messageHandler;
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class CheckBox {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcText: "@",
                    hcEvents: "=?"
                };
                this.template = function (element, attrs) {
                    return '<div  class="checkbox" data-page-id="{{hcOptions.ViewId}}" data-object-id="{{hcOptions.ControlId}}" ><label><input type="checkbox"  ng-model="ngModel" ng-change="hcEvents.defaultAction(ngModel)"   ng-required="{{hcOptions.IsRequired}}"' + Controls.getSecurityString() + ' /> {{hcText}} </label></div>';
                };
            }
            static Factory() {
                var directive = () => new CheckBox();
                return directive;
            }
        }
        Controls.CheckBox = CheckBox;
        Controls.hcmsControls.directive('hcmsCheck', CheckBox.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsDate {
            constructor(moment) {
                this.moment = moment;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=?",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = function (element, attrs) {
                    var result = '<div class="input-group" data-page-id="{{hcOptions.ViewId}}" data-object-id="{{hcOptions.ControlId}}"' + Controls.getSecurityString() + ' >';
                    result += '<input type="text" class="form-control input-sm"   uib-datepicker-popup="{{dateFormat}}" ng-model-options="{allowInvalid:false}" is-open="popup2.opened" close-text="Close" datepicker-options="dateOptions" ng-model="ngModel"  ng-change="dataChanged(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-readonly="{{hcOptions.IsReadOnly}}" ng-pattern="{{hcOptions.Pattern}}" ng-value="{{hcOptions.DefaultValue}}"  />';
                    result += '<span class="input-group-btn" ng-hide="{{hcOptions.IsReadOnly}}">';
                    result += '<button type="button" class="btn btn-xs btn-default" ng-click="open2()"><i class="glyphicon glyphicon-calendar"></i></button>';
                    result += '</span>';
                    result += '</div>';
                    return result;
                };
                this.unboundLink = (scope, element, attrs, ngModelController) => {
                    scope.dateFormat = "dd/MM/yyyy";
                    scope.dateOptions = {
                        //dateDisabled: disabled,
                        showWeeks: false,
                        formatYear: 'yyyy',
                        maxDate: (angular.isDate(scope.hcOptions.DateMaxValue) ? new Date(scope.hcOptions.DateMaxValue) : null),
                        minDate: (angular.isDate(scope.hcOptions.DateMinValue) ? new Date(scope.hcOptions.DateMinValue) : null),
                        startingDay: 6,
                    };
                    // Disable weekend selection
                    function disabled(data) {
                        var date = data.date, mode = data.mode;
                        return mode === 'day' && (date.getDay() === 0 || date.getDay() === 6);
                    }
                    scope.open2 = function () {
                        scope.popup2.opened = true;
                    };
                    scope.popup2 = {
                        opened: false
                    };
                    scope.dataChanged = (data) => {
                        if (HCMS.Validations.CommonValidations.isNull(data))
                            return;
                        ngModelController.$modelValue = getRightDate(data);
                        scope.ngModel = ngModelController.$modelValue;
                        if (scope.hcEvents && scope.hcEvents.defaultAction)
                            scope.hcEvents.defaultAction(data);
                    };
                    var toView = function (val) {
                        //if (typeof val === "string") {
                        //    val = new Date(val);
                        //}
                        return val;
                    };
                    var getRightDate = (data) => {
                        if (HCMS.Validations.CommonValidations.isNull(data) || isNaN(data))
                            return null;
                        else {
                            var dateString;
                            if (typeof data === "string")
                                dateString = data;
                            else
                                dateString = HCMS.Validations.DateValidations.dateToJsonString(data);
                            var d = new Date(dateString);
                            return new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                        }
                    };
                    ngModelController.$parsers.push((data) => {
                        //View -> Model
                        return getRightDate(data);
                    });
                    //ngModelController.$formatters.push((data) => {
                    //    //Model -> View
                    //    if (HCMS.Validations.CommonValidations.isNull(data))
                    //        return data;
                    //    else {
                    //        var dateString: string;
                    //        if (typeof data === "string")
                    //            dateString = data;
                    //        else
                    //            dateString = HCMS.Validations.DateValidations.DateToJsonString(data);
                    //        var d = new Date(dateString);
                    //        //return new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                    //        return this.moment(d, 'DD/MM/YYYY').utc().toISOString();
                    //    }
                    //});
                    scope.$watch('ngModel', function (newValue, oldValue) {
                        if (newValue !== oldValue) {
                            var dateString;
                            if (typeof newValue === "string") {
                                dateString = newValue;
                                //else
                                //    dateString = HCMS.Validations.DateValidations.DateToJsonString(newValue);
                                var d = new Date(dateString);
                                scope.ngModel = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
                            }
                        }
                    });
                };
                this.link = this.unboundLink.bind(this);
            }
            static Factory() {
                var directive = (moment) => new HcmsDate(moment);
                directive.$inject = ["moment"];
                return directive;
            }
        }
        Controls.HcmsDate = HcmsDate;
        Controls.hcmsControls.directive('hcmsDate', HcmsDate.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        //export class HcmsSelect implements ng.IDirective {
        //    public restrict = 'AE';
        //    public require: string = "^ngModel";
        //    public scope: any = {
        //        hcOptions: "=",
        //        ngModel: "=",
        //        hcApiUrl: "=?",
        //        hcEvents: "=?"
        //    }
        //    constructor(public dbManager: DataAccess.DataManagerService, public compiler: ng.ICompileService) {
        //    }
        //    link: ng.IDirectiveLinkFn = (scope: any, element: JQuery, attrs: ng.IAttributes) => {
        //        scope.items = [];
        //        var valueMemeber = scope.hcOptions.SelectDisplayValue;
        //        var displayMember = scope.hcOptions.SelectDisplayName;
        //        var searchParams = scope.hcOptions.SelectSearchFields;
        //        var htmlData = scope.hcOptions.SelectHtmlData;
        //        var searchParamsStr = '{';
        //        searchParamsStr += valueMemeber + ': $select.search,';
        //        searchParamsStr += displayMember + ': $select.search,';
        //        if (angular.isString(searchParams)) {
        //            var searchArray = searchParams.split(",");
        //            angular.forEach(searchArray, function (value, key) {
        //                searchParamsStr += value + ': $select.search,';
        //            });
        //        }
        //        scope.onSelected = function (item, selected) {
        //            if (scope.hcEvents && scope.hcEvents.defaultAction) {
        //                scope.hcEvents.defaultAction(item, selected);
        //            }
        //        };
        //        searchParamsStr += '}';
        //        var template = '<select class="form-control"   ng-model="ngModel"  ng-options="item.' + valueMemeber + ' as item.' + displayMember + ' for item in items"  select2  ng-change="hcEvents.defaultAction(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-disabled="{{hcOptions.IsReadOnly}}" ng-hide="{{hcOptions.IsHidden}}"><option value=""></option></select>';
        //        element.html(template);
        //        this.compiler(element.contents())(scope);
        //        //scope.items = [{ id: 1, name: 'Eid' }, { id: 2, name: 'Ahmed' }, { id: 3, name: 'Morsy' }, { id: 4, name: 'Mohamedeen' }, { id: 5, name: 'test5' }, { id: 6, name: 'test6' }]; 
        //        scope.clear = function ($event) {
        //            $event.stopPropagation();
        //            scope.ngModel = undefined;
        //        };
        //        if (angular.isString(scope.hcApiUrl)) {
        //            // var url = appConfig.webApiUrl + scope.hcApiUrl;
        //            this.dbManager.GetByUrl(scope.hcApiUrl, function (result) {
        //                scope.items = result.data;
        //            })
        //        }
        //        else {
        //            if (angular.isString(scope.hcOptions.SelectApiUrl)) {
        //                this.dbManager.GetByUrl(scope.hcOptions.SelectApiUrl, function (result) {
        //                    scope.items = result.data;
        //                })
        //            }
        //        }
        //    }
        //    static Factory(): ng.IDirectiveFactory {
        //        var directive: ng.IDirectiveFactory =
        //            (dbManager: DataAccess.DataManagerService, compiler: ng.ICompileService) => new HcmsSelect(dbManager, compiler);
        //        directive.$inject = ["dataManagerService", "$compile"];
        //        return directive;
        //    }
        //}
        //hcmsControls.directive('hcmsSelect', HcmsSelect.Factory());
        class HcmsSelect {
            constructor(dbManager, compiler) {
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcApiUrl: "=?",
                    hcEvents: "=?",
                    hcDontLoadData: "=?"
                };
                this.link = (scope, element, attrs) => {
                    scope.items = [];
                    var valueMemeber = scope.hcOptions.SelectDisplayValue;
                    var displayMember = scope.hcOptions.SelectDisplayName;
                    if (HCMS.DataAccess.StartUp != null) {
                        if (!HCMS.Validations.CommonValidations.isNull(HCMS.DataAccess.StartUp.CurrentLoginInfo)) {
                            displayMember = HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == 'rtl' ? scope.hcOptions.SelectDisplayName_ : scope.hcOptions.SelectDisplayName;
                        }
                    }
                    //var defaultvalue = scope.hcOptions.DefaultValue;
                    //scope.filterField = '';
                    var setApiFunctions = () => {
                        if (scope.hcOptions == null) {
                            scope.hcOptions = {};
                        }
                        scope.hcOptions.api = {};
                        scope.hcOptions.api.setItemsList = setItemsList;
                    };
                    var setItemsList = (data, callBack) => {
                        scope.items = data;
                        if (callBack != null && angular.isDefined(callBack)) {
                            callBack(data);
                        }
                    };
                    // var filter: string = "";
                    var template = '<select class="form-control"  select2  ng-model="ngModel"  ng-options="item.' + valueMemeber + ' as item.' + displayMember + ' for item in items"  ng-change="selectChanged(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-disabled="{{hcOptions.IsReadOnly}}" ng-hide="{{hcOptions.IsHidden}}"><option value="">...</option></select>';
                    element.html(template);
                    this.compiler(element.contents())(scope);
                    scope.hcOptions.reload = () => {
                        scope.fillData("");
                    };
                    //scope.$watch('scope.filterField', (newValue, oldValue) => {
                    //    if (newValue != null && newValue != oldValue) {
                    //        scope.fillData(newValue);
                    //    }
                    //});
                    scope.selectChanged = (value) => {
                        if (scope.hcEvents) {
                            if (scope.hcEvents.defaultAction !== undefined && scope.hcEvents.defaultAction !== null)
                                scope.hcEvents.defaultAction(value);
                            if (scope.hcEvents.selectedItemChanged !== undefined && scope.hcEvents.selectedItemChanged !== null) {
                                let item = scope.items.find(x => x[scope.hcOptions.SelectDisplayValue] == value);
                                scope.hcEvents.selectedItemChanged(item);
                            }
                        }
                    };
                    scope.fillData = (filter) => {
                        if (!angular.isString(scope.hcApiUrl)) {
                            scope.hcApiUrl = "Lookups/GetData/?dropDownId=" + scope.hcOptions.DropDownId;
                        }
                        //if (!HCMS.Validations.CommonValidations.isNull(filter) && filter != '') {
                        //    scope.hcApiUrl += "&filter=" + filter;
                        //}
                        this.dbManager.GetByUrl(scope.hcApiUrl, function (result) {
                            scope.items = result.data;
                            if (scope.hcOptions.DefaultValue && scope.hcOptions.DefaultValue !== null && scope.hcOptions.DefaultValue !== "") {
                                scope.ngModel = eval(scope.hcOptions.DefaultValue);
                            }
                        });
                    };
                    if (scope.hcDontLoadData !== true) {
                        scope.fillData("");
                    }
                    setApiFunctions();
                };
            }
            static Factory() {
                var directive = (dbManager, compiler) => new HcmsSelect(dbManager, compiler);
                directive.$inject = ["dataManagerService", "$compile"];
                return directive;
            }
        }
        Controls.HcmsSelect = HcmsSelect;
        Controls.hcmsControls.directive('hcmsSelect', HcmsSelect.Factory());
        class HcmsSelect2 {
            constructor(compiler) {
                this.compiler = compiler;
                this.restrict = 'A';
                this.require = "^ngModel";
                this.scope = {
                    'ngModel': '='
                };
                this.link = (scope, element, attrs) => {
                    var direction = 'ltr';
                    if (HCMS.DataAccess.StartUp.CurrentLoginInfo !== null && HCMS.DataAccess.StartUp.CurrentLoginInfo.Language !== undefined && HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection !== undefined) {
                        direction = HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection;
                        scope.$watch(() => {
                            return HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection;
                        }, function (newValue, oldValue) {
                            direction = newValue;
                            element.select2({
                                width: '100%',
                                dir: direction
                            });
                        });
                    }
                    element.select2({
                        width: '100%',
                        dir: direction
                    });
                    scope.$watch('ngModel', (newValue, oldValue) => {
                        setTimeout(function () {
                            element.select2({
                                width: '100%',
                                dir: direction
                            }).val(newValue);
                        });
                    });
                };
            }
            static Factory() {
                var directive = (compiler) => new HcmsSelect2(compiler);
                directive.$inject = ["$compile"];
                return directive;
            }
        }
        Controls.HcmsSelect2 = HcmsSelect2;
        Controls.hcmsControls.directive('select2', HcmsSelect2.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsEmail {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = function (element, attrs) {
                    return '<input type="email" class="form-control input-xs" placeholder="someone@example.com" ng-model="ngModel"' + Controls.ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" />';
                };
            }
            static Factory() {
                var directive = () => new HcmsEmail();
                return directive;
            }
        }
        Controls.HcmsEmail = HcmsEmail;
        Controls.hcmsControls.directive('hcmsEmail', HcmsEmail.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class hcmsFile {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "@?"
                };
                this.template = function (element, attrs) {
                    return '<input type="file" class="form-control input-xs" ng-model="ngModel"  ' + Controls.ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" />';
                };
            }
            static Factory() {
                var directive = () => new Controls.CheckBox();
                return directive;
            }
        }
        Controls.hcmsFile = hcmsFile;
        Controls.hcmsControls.directive('hcmsFile', hcmsFile.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsComment {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = '<textarea  ng-model="ngModel" class="form-control" rows="3" ' + Controls.ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" ></textarea>';
            }
            static Factory() {
                var directive = () => new HcmsComment();
                return directive;
            }
        }
        Controls.HcmsComment = HcmsComment;
        Controls.hcmsControls.directive('hcmsComment', HcmsComment.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsMultiSelect {
            constructor(dbManager, compiler, timeout) {
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.timeout = timeout;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcApiUrl: "=?",
                    hcEvents: "=?",
                    hcDontLoadData: "=?"
                };
                this.link = (scope, element, attrs) => {
                    scope.items = [];
                    var valueMemeber = scope.hcOptions.SelectDisplayValue;
                    var displayMember = scope.hcOptions.SelectDisplayName;
                    if (HCMS.DataAccess.StartUp != null) {
                        if (!HCMS.Validations.CommonValidations.isNull(HCMS.DataAccess.StartUp.CurrentLoginInfo)) {
                            displayMember = HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == 'rtl' ? scope.hcOptions.SelectDisplayName_ : scope.hcOptions.SelectDisplayName;
                        }
                    }
                    var template = '<select multiple="multiple" multiple-select ng-multiple="true" ng-model="ngModel"  ng-options="item.' + valueMemeber + ' as item.' + displayMember + ' for item in items"     ng-change="hcEvents.defaultAction(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-disabled="{{hcOptions.IsReadOnly}}" ng-hide="{{hcOptions.IsHidden}}"></select>';
                    element.html(template);
                    this.compiler(element.contents())(scope);
                    //scope.clear = ($event) => {
                    //    $event.stopPropagation();
                    //    scope.ngModel = undefined;
                    //};
                    scope.hcOptions.reload = () => {
                        if (!angular.isString(scope.hcApiUrl)) {
                            scope.hcApiUrl = "Lookups/GetData/?dropDownId=" + scope.hcOptions.DropDownId;
                        }
                        this.dbManager.GetByUrl(scope.hcApiUrl, success);
                        //if (angular.isString(scope.hcApiUrl)) {
                        //    this.dbManager.GetByUrl(scope.hcApiUrl, success);
                        //}
                        //else {
                        //    if (angular.isString(scope.hcOptions.SelectApiUrl)) {
                        //        this.dbManager.GetByUrl(scope.hcOptions.SelectApiUrl, success);
                        //    }
                        //}
                    };
                    var success = (result) => {
                        scope.items = result.data;
                        this.timeout(() => {
                            $(element).children('select').multipleSelect({
                                width: '100%',
                                filter: true
                            });
                            if (scope.hcOptions.DefaultValue && scope.hcOptions.DefaultValue !== null && scope.hcOptions.DefaultValue !== "") {
                                scope.ngModel = eval(scope.hcOptions.DefaultValue);
                            }
                        }, 200);
                    };
                    if (scope.hcDontLoadData !== true) {
                        scope.hcOptions.reload();
                    }
                };
            }
            static Factory() {
                var directive = (dbManager, compiler, timeout) => new HcmsMultiSelect(dbManager, compiler, timeout);
                directive.$inject = ["dataManagerService", "$compile", "$timeout"];
                return directive;
            }
        }
        Controls.HcmsMultiSelect = HcmsMultiSelect;
        Controls.hcmsControls.directive('hcmsMultiSelect', HcmsMultiSelect.Factory());
        class MultipleSelect {
            constructor(compiler, timeout) {
                this.compiler = compiler;
                this.timeout = timeout;
                this.restrict = 'A';
                this.transclude = true;
                this.require = "^ngModel";
                this.scope = {
                    ngModel: '='
                };
                this.link = (scope, element, attrs, controller, transcluder) => {
                    this.timeout(() => {
                        transcluder((clone) => {
                            element.append(clone);
                            $(element).multipleSelect({
                                width: '100%',
                                filter: true
                            });
                        });
                        scope.toggle = () => {
                        };
                    }, 200);
                };
            }
            static Factory() {
                var directive = (compiler, timeout) => new MultipleSelect(compiler, timeout);
                directive.$inject = ["$compile", "$timeout"];
                return directive;
            }
        }
        Controls.MultipleSelect = MultipleSelect;
        Controls.hcmsControls.directive('multipleSelect', MultipleSelect.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsNumber {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = '<input type="number"  step="0.1" class="form-control input-xs" ng-min="{{hcOptions.NumberMinValue}}" ng-max="{{hcOptions.NumberMaxValue}}" ng-model="ngModel"' + Controls.ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" />';
            }
            static Factory() {
                var directive = () => new HcmsNumber();
                return directive;
            }
        }
        Controls.HcmsNumber = HcmsNumber;
        Controls.hcmsControls.directive('hcmsNumber', HcmsNumber.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsProgressBar {
            constructor(translator, dbManager, compiler, timeout, filter, interval) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.timeout = timeout;
                this.filter = filter;
                this.interval = interval;
                this.restrict = 'AE';
                this.template = `
<div class="row" >
    <div class="col-sm-12">
        <div class="row">
            <div class="col-sm-4">
                StartTime : {{hcOptions.formatedStartTime}}
            </div>
            <div class="col-sm-4">
                Duration : {{hcOptions.formatedDuration}}
            </div>
            <div class="col-sm-4">
                Remaining Time : {{hcOptions.formatedRemainingTime}}
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <uib-progressbar max="hcOptions.progressMax" value="hcOptions.progressValue" class="progress-striped active" type="{{progressType}}">
                    <span style="color:black; white-space:nowrap;">
                        {{hcOptions.progressValue}} / {{hcOptions.progressMax}}     Percent: {{hcOptions.progressPercent}}
                    </span>
                </uib-progressbar>
            </div>
        </div>
    </div>
</div>
`;
                this.scope = {
                    hcOptions: "=",
                    hcEvents: "=?",
                    progressId: "="
                };
                this.compile = (element, attrs) => {
                    return {
                        pre: (scope, element, attrs) => {
                            if (scope.hcOptions == null) {
                                scope.hcOptions = {};
                            }
                            scope.translateText = (text) => {
                                return this.translator.Translate(text);
                            };
                            var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                            //scope.$watch('progressId', (newValue, oldValue) => {
                            //    setApiFunctions();
                            //});
                            //scope.$watch('hcOptions', (newValue, oldValue) => {
                            //    setApiFunctions();
                            //});
                            var setApiFunctions = () => {
                                if (scope.hcOptions == null) {
                                    scope.hcOptions = {};
                                }
                                scope.hcOptions.api = {};
                                scope.hcOptions.api.startProgress = startProgress;
                                scope.hcOptions.api.stopProgress = stopProgress;
                                scope.hcOptions.api.checkIfProgressRunning = checkIfProgressRunning;
                                scope.hcOptions.api.setProgressId = setProgressId;
                            };
                            var getCommonParams = function () {
                                return "&userId=" + currentInfo.User.UserId + "&langId=" + currentInfo.Language.LangId + "&companyId=" + currentInfo.Company.CompanyId;
                            };
                            var getProgressData = (callback) => {
                                if (HCMS.Validations.CommonValidations.isNull(scope.progressId) || (scope.progressId == 0)) {
                                    return;
                                }
                                var queryString = '?progressId=' + scope.progressId + getCommonParams();
                                this.dbManager.Get('SystemProgress', 'GetByProgressId', queryString, (response) => {
                                    setProgressOptions(response.data);
                                    if (response.data.ProgressCalcStatusId == -1) {
                                        scope.hcOptions.stopProgress();
                                    }
                                    else {
                                        if (callback != null) {
                                            callback();
                                        }
                                    }
                                }, function (response) {
                                    console.log(response.data);
                                });
                            };
                            var setProgressOptions = (progressData) => {
                                scope.hcOptions.progressValue = progressData.ProgressValue;
                                scope.hcOptions.progressMax = progressData.ProgressMax;
                                if (scope.hcOptions.progressValue == scope.hcOptions.progressMax)
                                    stopInterval();
                            };
                            var setProgressId = (progressId, callBack) => {
                                scope.progressId = progressId;
                                if (callBack != null && angular.isDefined(callBack)) {
                                    callBack();
                                }
                            };
                            var startProgress = (callBack) => {
                                scope.hcOptions.startTime = new Date();
                                scope.hcOptions.formatedStartTime = this.filter('date')(new Date(), 'HH:mm:ss');
                                stopInterval();
                                startInterval();
                                if (callBack != null && angular.isDefined(callBack)) {
                                    callBack();
                                }
                            };
                            var stopProgress = (callBack) => {
                                if (HCMS.Validations.CommonValidations.isNull(scope.progressId) || (scope.progressId == 0)) {
                                    return;
                                }
                                var queryString = '?progressId=' + scope.progressId + "&userId=" + currentInfo.User.UserId + "&companyId=" + currentInfo.Company.CompanyId;
                                this.dbManager.Post('SystemProgress', 'StopProgress', queryString, null, function () {
                                    stopInterval();
                                    if (callBack != null && angular.isDefined(callBack)) {
                                        callBack();
                                    }
                                });
                                //$timeout.cancel(tick);
                            };
                            var progressInterval;
                            var startInterval = () => {
                                progressInterval = this.interval(() => {
                                    getProgressData(() => {
                                        calculatePercent();
                                        calculateTime();
                                    });
                                }, 1000);
                            };
                            var stopInterval = () => {
                                if (!HCMS.Validations.CommonValidations.isNull(progressInterval)) {
                                    this.interval.cancel(progressInterval);
                                    progressInterval = undefined;
                                }
                            };
                            scope.$on('$destroy', function () {
                                stopInterval();
                            });
                            var checkIfProgressRunning = (runningCallBack, notRunningCallBack) => {
                                if (HCMS.Validations.CommonValidations.isNull(scope.progressId) || (scope.progressId == 0)) {
                                    return;
                                }
                                var queryString = '?progressId=' + scope.progressId + "&userId=" + currentInfo.User.UserId + "&companyId=" + currentInfo.Company.CompanyId;
                                this.dbManager.Get('SystemProgress', 'IsProgressRunning', queryString, function (response) {
                                    if (response.data.RunningStatus > 0) {
                                        if (runningCallBack != null && angular.isDefined(runningCallBack)) {
                                            runningCallBack();
                                        }
                                    }
                                    else {
                                        if (notRunningCallBack != null && angular.isDefined(notRunningCallBack)) {
                                            notRunningCallBack();
                                        }
                                    }
                                }, function (response) {
                                    console.log(response.data);
                                });
                                //$timeout.cancel(tick);
                            };
                            var calculatePercent = function () {
                                scope.hcOptions.progressPercent = scope.hcOptions.progressValue / scope.hcOptions.progressMax * 100;
                                scope.hcOptions.progressPercent = Math.floor(scope.hcOptions.progressPercent);
                                var value = scope.hcOptions.progressPercent;
                                var type;
                                if (value < 25) {
                                    type = 'danger';
                                }
                                else if (value < 50) {
                                    type = 'warning';
                                }
                                else if (value < 75) {
                                    type = 'info';
                                }
                                else {
                                    type = 'success';
                                }
                                scope.progressType = type;
                            };
                            var calculateTime = () => {
                                if (HCMS.Validations.CommonValidations.isNull(scope.hcOptions.progressValue) || scope.hcOptions.progressValue == 0) {
                                    return;
                                }
                                var currentTime = new Date();
                                scope.hcOptions.durationSeconds = HCMS.Validations.DateValidations.dateDiffSeconds(scope.hcOptions.startTime, currentTime);
                                scope.hcOptions.formatedDuration = getFormatedDuration(scope.hcOptions.durationSeconds);
                                scope.hcOptions.formatedRemainingTime = getFormatedRemainingTime(scope.hcOptions.startTime, scope.hcOptions.progressValue, scope.hcOptions.progressMax);
                            };
                            var getFormatedDuration = function (seconds) {
                                var minutes = Math.floor(seconds / 60);
                                var hours = Math.floor(minutes / 60);
                                var days = Math.floor(hours / 24);
                                var duration = "";
                                if (days > 0) {
                                    duration += "Days:" + days + "  ";
                                }
                                hours = hours - (days * 24);
                                if (hours > 0) {
                                    duration += pad(hours, 2);
                                }
                                else {
                                    duration += pad(0, 2);
                                }
                                minutes = minutes - (hours * 60) - (days * 24 * 60);
                                if (minutes > 0) {
                                    duration += ":" + pad(minutes, 2);
                                }
                                else {
                                    duration += ":" + pad(0, 2);
                                }
                                seconds = seconds - (minutes * 60) - (hours * 60 * 60) - (days * 24 * 60 * 60);
                                seconds = Math.floor(seconds);
                                if (seconds > 0) {
                                    duration += ":" + pad(seconds, 2);
                                }
                                else {
                                    duration += ":" + pad(0, 2);
                                }
                                return duration;
                            };
                            function pad(num, size) {
                                var s = num + "";
                                while (s.length < size)
                                    s = "0" + s;
                                return s;
                            }
                            var getFormatedRemainingTime = (startTime, currentCount, maxCount) => {
                                var currentTime = new Date();
                                var seconds = HCMS.Validations.DateValidations.dateDiffSeconds(startTime, currentTime);
                                var remainingCount = maxCount - currentCount;
                                var remainingSeconds = remainingCount * seconds / currentCount;
                                var formated = getFormatedDuration(remainingSeconds);
                                return formated;
                            };
                            setApiFunctions();
                        },
                        post: (scope, element, attrs) => { }
                    };
                };
            }
            //link: ng.IDirectiveLinkFn = (scope: any, element: JQuery, attrs: ng.IAttributes) => {
            //}
            static Factory() {
                var directive = (translator, dbManager, compiler, timeout, filter, interval) => new HcmsProgressBar(translator, dbManager, compiler, timeout, filter, interval);
                directive.$inject = ["translateService", "dataManagerService", "$compile", "$timeout", "$filter", "$interval"];
                return directive;
            }
        }
        Controls.HcmsProgressBar = HcmsProgressBar;
        Controls.hcmsControls.directive('hcmsProgressBar', HcmsProgressBar.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsProgressCalc {
            constructor(translator, dbManager, progressTypeService, compiler, timeout, filter, interval) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.progressTypeService = progressTypeService;
                this.compiler = compiler;
                this.timeout = timeout;
                this.filter = filter;
                this.interval = interval;
                this.restrict = 'AE';
                this.template = `
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                ×
            </button>
            <h4 class="modal-title">{{hcOptions.progressTitle}}</h4>
        </div>
        <div class="modal-body">
            <div>
                <hcms-progress-bar progress-id="progressId" hc-options="progressOptions"></hcms-progress-bar>
            </div>
            <smart-grid options="errorGridOptions" column-defs="errorGridColumns" data="errorLogData"></smart-grid>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
                Close
            </button>
        </div>
    </div> 
</div> 
`;
                this.scope = {
                    hcOptions: "=",
                    title: "=?",
                    progressId: "=",
                    progressTypeId: "=?"
                };
                this.compile = (element, attrs) => {
                    return {
                        pre: (scope, element, attrs) => {
                            let progressTypeId = scope.progressTypeId;
                            if (scope.hcOptions == null) {
                                scope.hcOptions = {};
                            }
                            if (scope.progress == null)
                                scope.progress = { progressOptions: {} };
                            if (scope.progressOptions == null) {
                                scope.progressOptions = {};
                            }
                            scope.translateText = (text) => {
                                return this.translator.Translate(text);
                            };
                            //var currentInfo: DataAccess.ICurrentLoginInfo = DataAccess.StartUp.CurrentLoginInfo;
                            var setApiFunctions = () => {
                                if (scope.hcOptions == null) {
                                    scope.hcOptions = {};
                                }
                                scope.hcOptions.api = {};
                                scope.hcOptions.api.startProgress = startProgress;
                                scope.hcOptions.api.stopProgress = stopProgress;
                                scope.hcOptions.api.checkIfProgressRunning = checkIfProgressRunning;
                                scope.hcOptions.api.setProgressId = setProgressId;
                                scope.hcOptions.api.setProgressTypeId = setProgressTypeId;
                                if (scope.progressOptions == null) {
                                    scope.progressOptions = {};
                                    scope.progressOptions.progressValue = 0;
                                    scope.progressOptions.progressMax = 1;
                                }
                            };
                            //var getCommonParams = function () {
                            //    return "&userId=" + currentInfo.User.UserId + "&langId=" + currentInfo.Language.LangId + "&companyId=" + currentInfo.Company.CompanyId;
                            //}
                            var errorGridColumns = this.progressTypeService.getColumns(progressTypeId);
                            scope.errorLogData = [];
                            var initGrid = () => {
                                if (scope.errorGridOptions == null) {
                                    scope.errorGridOptions = {};
                                    scope.errorGridOptions = { SelectButton: false, EditButton: false, DeleteButton: false, enableQuickFilter: true, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection.toLowerCase() === 'rtl' ? true : false };
                                    scope.errorGridOptions.rowData = scope.errorLogData;
                                    scope.errorGridOptions.columnDefs = errorGridColumns;
                                }
                            };
                            var getErrorLogData = () => __awaiter(this, void 0, void 0, function* () {
                                if (HCMS.Validations.CommonValidations.isNull(scope.progressId) || (scope.progressId == 0)) {
                                    return;
                                }
                                var result = yield this.progressTypeService.getErrorLogData(progressTypeId, scope.progressId);
                                scope.errorLogData = result.data;
                            });
                            //[
                            //    { field: 'ErrorNumber', hide: false, controlTypeName: 'text', headerName: scope.translateText('ErrorNumber') },
                            //    { field: 'ErrorMessager', hide: false, controlTypeName: 'text', headerName: scope.translateText('ErrorMessager') },
                            //    { field: 'ProfileCode', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileCode') },
                            //    { field: 'RunNo', hide: false, controlTypeName: 'text', headerName: scope.translateText('RunNo') },
                            //    { field: 'PayrollMonth', hide: false, controlTypeName: 'text', headerName: scope.translateText('PayrollMonth') },
                            //    { field: 'PayrollYear', hide: false, controlTypeName: 'text', headerName: scope.translateText('PayrollYear') }
                            //]
                            var startProgress = (callBack) => {
                                scope.progressOptions.api.startProgress(() => {
                                    stopInterval();
                                    startInterval();
                                    if (callBack != null && angular.isDefined(callBack)) {
                                        callBack();
                                    }
                                });
                            };
                            var setProgressId = (progressId, callBack) => {
                                scope.progressId = progressId;
                                scope.progressOptions.api.setProgressId(progressId, callBack);
                            };
                            var setProgressTypeId = (progressTypeId, callBack) => {
                                scope.progressTypeId = progressTypeId;
                                if (callBack != null && angular.isDefined(callBack)) {
                                    callBack();
                                }
                            };
                            var stopProgress = (callBack) => {
                                stopInterval();
                                scope.progressOptions.api.stopProgress(() => {
                                    if (callBack != null && angular.isDefined(callBack)) {
                                        callBack();
                                    }
                                });
                            };
                            var progressInterval;
                            var startInterval = () => {
                                progressInterval = this.interval(() => {
                                    getErrorLogData();
                                }, 1000);
                            };
                            var stopInterval = (callBack) => {
                                if (!HCMS.Validations.CommonValidations.isNull(progressInterval)) {
                                    this.interval.cancel(progressInterval);
                                    progressInterval = undefined;
                                }
                            };
                            var checkIfProgressRunning = (runningCallBack, notRunningCallBack) => {
                                scope.progressOptions.api.checkIfProgressRunning(runningCallBack, notRunningCallBack);
                            };
                            scope.$on('$destroy', () => {
                                stopInterval();
                            });
                            setApiFunctions();
                            initGrid();
                        },
                        post: (scope, element, attrs) => {
                        }
                    };
                };
            }
            //link: ng.IDirectiveLinkFn = (scope: any, element: JQuery, attrs: ng.IAttributes) => {
            //}
            static Factory() {
                var directive = (translator, dbManager, progressTypeService, compiler, timeout, filter, interval) => new HcmsProgressCalc(translator, dbManager, progressTypeService, compiler, timeout, filter, interval);
                directive.$inject = ["translateService", "dataManagerService", "progressTypeService", "$compile", "$timeout", "$filter", "$interval"];
                return directive;
            }
        }
        Controls.HcmsProgressCalc = HcmsProgressCalc;
        Controls.hcmsControls.directive('hcmsProgressCalc', HcmsProgressCalc.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        Controls.ProgressTypes = {
            LoanPostCalculation: {
                controllerName: 'PayrollErrorLog',
                columns: [
                    { field: 'ErrorNumber', hide: false, controlTypeName: 'text' },
                    { field: 'ErrorMessage', hide: false, controlTypeName: 'text' },
                    { field: 'EmployeeCode', hide: false, controlTypeName: 'text' },
                    { field: 'ProfileName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollRunName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollMonth', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollYear', hide: false, controlTypeName: 'text' }
                ]
            },
            PayrollSalaryCalculation: {
                controllerName: 'PayrollErrorLog',
                columns: [
                    { field: 'ErrorNumber', hide: false, controlTypeName: 'text' },
                    { field: 'ErrorMessage', hide: false, controlTypeName: 'text' },
                    { field: 'EmployeeCode', hide: false, controlTypeName: 'text' },
                    { field: 'ProfileName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollRunName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollMonth', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollYear', hide: false, controlTypeName: 'text' }
                ]
            },
            PayrollTransactionCalculation: {
                controllerName: 'PayrollTransactionErrorLog',
                columns: [
                    { field: 'ErrorNumber', hide: false, controlTypeName: 'text' },
                    { field: 'ErrorMessage', hide: false, controlTypeName: 'text' },
                    { field: 'EmployeeCode', hide: false, controlTypeName: 'text' },
                    { field: 'ProfileName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollTransactionTypeName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollRunName', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollMonth', hide: false, controlTypeName: 'text' },
                    { field: 'PayrollYear', hide: false, controlTypeName: 'text' }
                ]
            },
            AttendanceCalculation: {
                controllerName: 'AttendanceErrorLog',
                columns: [
                    { field: 'ErrorNumber', hide: false, controlTypeName: 'text' },
                    { field: 'ErrorMessage', hide: false, controlTypeName: 'text' },
                    { field: 'EmployeeCode', hide: false, controlTypeName: 'text' },
                    { field: 'ProfileName', hide: false, controlTypeName: 'text' },
                    { field: 'AttendanceDate', hide: false, controlTypeName: 'date', template: "<p>{{data.AttendanceDate | date:'dd/MM/yyyy'}}</p>" },
                ]
            }
        };
        class ProgressTypeService {
            constructor(dbManager, translateService) {
                this.dbManager = dbManager;
                this.translateService = translateService;
                this.getCommonParams = function () {
                    return "&userId=" + this.currentInfo.User.UserId + "&langId=" + this.currentInfo.Language.LangId + "&companyId=" + this.currentInfo.Company.CompanyId;
                };
                this.getProgressType = (progressTypeId) => {
                    let progressType;
                    switch (progressTypeId) {
                        case 1:// Loan Post  Not used
                            progressType = Controls.ProgressTypes.LoanPostCalculation;
                            break;
                        case 2:// Payroll Salary
                            progressType = Controls.ProgressTypes.PayrollSalaryCalculation;
                            break;
                        case 3:// Payroll Transactions
                            progressType = Controls.ProgressTypes.PayrollTransactionCalculation;
                            break;
                        case 4: // Attendance Calculation
                        case 5:
                            progressType = Controls.ProgressTypes.AttendanceCalculation;
                            break;
                        case 6:
                            break;
                        default:
                            progressType = Controls.ProgressTypes.PayrollSalaryCalculation;
                            break;
                    }
                    return progressType;
                };
                this.getColumns = (progressTypeId) => {
                    let progressType = this.getProgressType(progressTypeId);
                    if (progressType === null || progressType === undefined)
                        return null;
                    let columns = progressType.columns;
                    for (let entry of columns) {
                        entry.headerName = this.translateService.Translate(entry.field);
                    }
                    return columns;
                };
                this.getErrorLogData = (progressTypeId, progressId) => {
                    if (HCMS.Validations.CommonValidations.isNull(progressId) || (progressId == 0)) {
                        return;
                    }
                    let progressType = this.getProgressType(progressTypeId);
                    if (progressType === null || progressType === undefined)
                        return null;
                    var queryString = '?progressId=' + progressId + this.getCommonParams();
                    return this.dbManager.GetPromise(progressType.controllerName, 'GetByProgressId', queryString);
                };
                this.currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
            }
        }
        ProgressTypeService.$inject = ['dataManagerService', 'translateService'];
        Controls.ProgressTypeService = ProgressTypeService;
        Controls.hcmsControls.service('progressTypeService', ['dataManagerService', 'translateService', function (dataManagerService, translateService) {
                return new ProgressTypeService(dataManagerService, translateService);
            }]);
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsRadio {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = '<input type="radio" class="form-control"  data-page-id="{{hcOptions.ViewId}}" data-object-id="{{hcOptions.ControlId}}"  ng-model="ngModel" ng-change="hcEvents.defaultAction(ngModel)"  ng-required="{{hcOptions.IsRequired}}"' + Controls.getSecurityString() + ' />';
            }
            static Factory() {
                var directive = () => new HcmsRadio();
                return directive;
            }
        }
        Controls.HcmsRadio = HcmsRadio;
        Controls.hcmsControls.directive('hcmsRadio', HcmsRadio.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsMonth {
            constructor(dbManager, compiler) {
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.link = (scope, element, attrs) => {
                    scope.items = [];
                    var valueMemeber = "monthValue";
                    var displayMember = "monthName";
                    var searchParams = "monthValue";
                    scope.onSelected = function (item, selected) {
                        if (scope.hcEvents && scope.hcEvents.defaultAction) {
                            scope.hcEvents.defaultAction(item, selected);
                        }
                    };
                    function fillMonths() {
                        var currentMonth = 0;
                        scope.items = [];
                        for (var i = 1; i < 13; i++) {
                            currentMonth += 1;
                            scope.items.push({ monthValue: currentMonth, monthName: currentMonth });
                        }
                        if (scope.hcOptions.DefaultValue && scope.hcOptions.DefaultValue !== null && scope.hcOptions.DefaultValue !== "") {
                            scope.ngModel = eval(scope.hcOptions.DefaultValue);
                        }
                        else {
                            scope.ngModel = new Date().getMonth() + 1;
                        }
                    }
                    fillMonths();
                    var template = '<select class="form-control"   ng-model="ngModel"  ng-options="item.' + valueMemeber + ' as item.' + displayMember + ' for item in items"  select2  ng-change="hcEvents.defaultAction(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-disabled="{{hcOptions.IsReadOnly}}" ng-hide="{{hcOptions.IsHidden}}"><option value=""></option></select>';
                    element.html(template);
                    this.compiler(element.contents())(scope);
                    //scope.items = [{ id: 1, name: 'Eid' }, { id: 2, name: 'Ahmed' }, { id: 3, name: 'Morsy' }, { id: 4, name: 'Mohamedeen' }, { id: 5, name: 'test5' }, { id: 6, name: 'test6' }]; 
                    scope.clear = function ($event) {
                        $event.stopPropagation();
                        scope.ngModel = undefined;
                    };
                };
            }
            static Factory() {
                var directive = (dbManager, compiler) => new HcmsMonth(dbManager, compiler);
                directive.$inject = ["dataManagerService", "$compile"];
                return directive;
            }
        }
        Controls.HcmsMonth = HcmsMonth;
        Controls.hcmsControls.directive('hcmsMonth', HcmsMonth.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsYear {
            constructor(dbManager, compiler) {
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcYearCount: "=?",
                    hcEvents: "=?"
                };
                this.link = (scope, element, attrs) => {
                    scope.items = [];
                    var valueMemeber = "yearValue";
                    var displayMember = "yearName";
                    var searchParams = "yearValue";
                    scope.onSelected = function (item, selected) {
                        if (scope.hcEvents && scope.hcEvents.defaultAction) {
                            scope.hcEvents.defaultAction(item, selected);
                        }
                    };
                    function fillYears() {
                        scope.items = [];
                        if (HCMS.Validations.CommonValidations.isNull(scope.hcYearCount)) {
                            scope.hcYearCount = 20;
                        }
                        var yearStart = scope.hcYearCount * -1;
                        var currentYear = new Date().getFullYear() + yearStart;
                        for (var i = yearStart; i < scope.hcYearCount; i++) {
                            currentYear += 1;
                            scope.items.push({ yearValue: currentYear, yearName: currentYear });
                        }
                        if (scope.hcOptions.DefaultValue && scope.hcOptions.DefaultValue !== null && scope.hcOptions.DefaultValue !== "") {
                            scope.ngModel = eval(scope.hcOptions.DefaultValue);
                        }
                        else {
                            scope.ngModel = new Date().getFullYear();
                        }
                    }
                    fillYears();
                    var template = '<select class="form-control"   ng-model="ngModel"  ng-options="item.' + valueMemeber + ' as item.' + displayMember + ' for item in items"  select2  ng-change="hcEvents.defaultAction(ngModel)"  ng-required="{{hcOptions.IsRequired}}" ng-disabled="{{hcOptions.IsReadOnly}}" ng-hide="{{hcOptions.IsHidden}}"><option value=""></option></select>';
                    element.html(template);
                    this.compiler(element.contents())(scope);
                    //scope.items = [{ id: 1, name: 'Eid' }, { id: 2, name: 'Ahmed' }, { id: 3, name: 'Morsy' }, { id: 4, name: 'Mohamedeen' }, { id: 5, name: 'test5' }, { id: 6, name: 'test6' }]; 
                    scope.clear = function ($event) {
                        $event.stopPropagation();
                        scope.ngModel = undefined;
                    };
                };
            }
            static Factory() {
                var directive = (dbManager, compiler) => new HcmsYear(dbManager, compiler);
                directive.$inject = ["dataManagerService", "$compile"];
                return directive;
            }
        }
        Controls.HcmsYear = HcmsYear;
        Controls.hcmsControls.directive('hcmsYear', HcmsYear.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsText {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcEvents: "=?"
                };
                this.template = '<input type="text" class="form-control input-xs" ng-model="ngModel"  ' + Controls.ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" />';
            }
            static Factory() {
                var directive = () => new HcmsText();
                return directive;
            }
        }
        Controls.HcmsText = HcmsText;
        Controls.hcmsControls.directive('hcmsText', HcmsText.Factory());
        //hcmsControls.component('hcmsText', {
        //    template: '<input type="text" class="form-control input-xs" ng-model="$ctrl.ngModel" ng-change="$ctrl.hcEvents.defaultAction($ctrl.ngModel)" />',
        //    bindings: {
        //        hcOptions: "=",
        //        ngModel: "=",
        //        hcEvents: "=",
        //    },
        //    controller: HcmsText
        //});
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsTime {
            constructor() {
                this.require = "^ngModel";
                this.restrict = 'AE';
                // public replace = true;
                this.scope = {
                    hcOptions: "=",
                    hcEvents: "=?"
                };
                //public template: string = '<input type="time" class="form-control input-xs" ng-model="ngModel"  ' + ngHcmsOptions() + ' ng-change="hcEvents.defaultAction(ngModel)" />';
                this.template = '<div uib-timepicker ng-model="mytime"   hour-step="1" minute-step="1" show-seconds="false" show-meridian="false" ng-change="timeChanged(mytime)" ></div>';
                this.unboundLink = (scope, element, attrs, ngModelController) => {
                    ngModelController.$formatters.push(function (modelValue) {
                        if (!HCMS.Validations.CommonValidations.isNull(modelValue)) {
                            var alltime = modelValue.split(':');
                            if (alltime.length > 2) {
                                var time = {
                                    h: parseInt(alltime[0]),
                                    m: parseInt(alltime[1]),
                                    s: parseInt(alltime[2])
                                };
                                time.s = 0;
                                return { mytime: new Date(2000, 1, 1, time.h, time.m, time.s, 0) };
                            }
                            else
                                return { mytime: null };
                        }
                        else
                            return { mytime: null };
                    });
                    ngModelController.$render = function () {
                        scope.mytime = ngModelController.$viewValue.mytime;
                    };
                    scope.$watch('mytime', function () {
                        ngModelController.$setViewValue({ mytime: scope.mytime });
                    });
                    ngModelController.$parsers.push(function (viewValue) {
                        if (!HCMS.Validations.CommonValidations.isNull(viewValue) && !HCMS.Validations.CommonValidations.isNull(viewValue.mytime)) {
                            // use ("100" + viewValue.mytime.getHours()).slice(-2) to  put zero leading if number less than 10.
                            return ("100" + viewValue.mytime.getHours()).slice(-2) + ':' + ("100" + viewValue.mytime.getMinutes()).slice(-2) + ":" + ("100" + viewValue.mytime.getSeconds()).slice(-2);
                        }
                        else
                            return null;
                    });
                    scope.timeChanged = (data) => {
                        if (scope.hcEvents && scope.hcEvents.defaultAction) {
                            var currentDate = null;
                            if (!HCMS.Validations.CommonValidations.isNull(data) && !HCMS.Validations.CommonValidations.isNull(data)) {
                                // use ("100" + viewValue.mytime.getHours()).slice(-2) to  put zero leading if number less than 10.
                                currentDate = ("100" + data.getHours()).slice(-2) + ':' + ("100" + data.getMinutes()).slice(-2) + ":" + ("100" + data.getSeconds()).slice(-2);
                            }
                            scope.hcEvents.defaultAction(currentDate);
                        }
                    };
                };
                this.link = this.unboundLink.bind(this);
            }
            static Factory() {
                var directive = () => new HcmsTime();
                return directive;
            }
        }
        Controls.HcmsTime = HcmsTime;
        Controls.hcmsControls.directive('hcmsTime', HcmsTime.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsColorpicker {
            constructor() {
                this.restrict = 'A';
                this.scope = {};
                this.link = (scope, element, attrs) => {
                    var currentObject = this;
                };
                this.compile = (tElement, tAttributes) => {
                    tElement.removeAttr('hcms-colorpicker data-hcms-colorpicker');
                    var aOptions = tElement.pick(tAttributes, ['']);
                    var options = {
                        format: "hex",
                        colorSelectors: {
                            'black': '#000000',
                            'white': '#ffffff',
                            'red': '#FF0000',
                            'default': '#777777',
                            'primary': '#337ab7',
                            'success': '#5cb85c',
                            'info': '#5bc0de',
                            'warning': '#f0ad4e',
                            'danger': '#d9534f'
                        }
                    };
                    //var options= _.extend(aOptions, {});
                    tElement.colorpicker(options);
                };
            }
            static Factory() {
                var directive = () => new HcmsColorpicker();
                return directive;
            }
        }
        Controls.HcmsColorpicker = HcmsColorpicker;
        Controls.hcmsControls.directive('hcmsColorpicker', HcmsColorpicker.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class EmpAssignmentInfo {
            constructor(translator, dbManager) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.restrict = 'AE';
                this.scope = {
                    assignmentId: "=",
                };
                //        < div class= "table table-striped" >
                //        <div class="row">
                //        <div class="col-sm-12"> 
                //        <h1>{{translateText('EmployeeInformation') }
                //} </h1>
                //    < /div>       
                //    < /div>
                //    < div class="row" >
                //        <div class="col-sm-2" >
                //            <b>{{translateText('EmployeeNo') }}</b> 
                //                < /div>
                //                < div class="col-sm-10" >
                //                    {{employeeInfo.EmployeeCode }}
                //</div>
                //    < /div>
                //    < div class="row" >
                //        <div class="col-sm-2" >
                //            <b>{{translateText('EmployeeName') }}</b>
                //                < /div>
                //                < div class="col-sm-10" >
                //                    {{employeeInfo.ProfileName }}
                //</div>
                //    < /div>
                //    < div class="row" >
                //        <div class="col-sm-2" >
                //            <b>{{translateText('EmployeeName_') }}</b> 
                //                < /div>
                //                < div class="col-sm-10" >
                //                    {{employeeInfo.ProfileName_ }}
                //</div>
                //    < /div>
                //    < /div>
                //        public template: string = ` <div class="employee-card">
                // <img src='{{picFile}}' class="employee-card-img"/>
                //<div class="employee-card-body">
                //<h4>
                //    <i>{{employeeInfo.EmployeeCode}}</i> <strong>{{employeeInfo.getEmployeeName()}}</strong>
                //</h4>
                //<p><b>{{'EmpHireDate' | translate}}: <strong>{{employeeInfo.EmpHireDate | date:"dd/MM/yyyy"}}</strong></p>
                //<p><b>{{'WorkExperience' | translate}}: <strong>{{employeeInfo.WorkExperience}}</strong></p>
                //<p><b>{{'UnitName' | translate}}: </b><i> {{employeeInfo.UnitCode}}</i> <strong>{{employeeInfo.getUnitName()}}</strong></p>
                //<p><b>{{'JobName' | translate}}: </b><i> {{employeeInfo.JobCode}}</i> <strong>{{employeeInfo.getJobName()}}</strong></p>
                //</div>
                //            </div>`; 
                this.template = ` <div class="employee-card">
 <img src='{{picFile}}' class="employee-card-img"/>
<div class="employee-card-body">
     <div class="form-group  row">
            <div class="col-sm-2"><b>{{'EmployeeCode' | translate}}</b></div>
            <div class="col-sm-4">{{employeeInfo.EmployeeCode}}</div>
            <div class="col-sm-1"><b>{{'ProfileName' | translate}}</b></div>
            <div class="col-sm-5">{{employeeInfo.getEmployeeName()}}</div>
      
    </div>
     <div class="form-group  row">
            <div class="col-sm-2"><b>{{'EmpHireDate' | translate}}</b></div>
            <div class="col-sm-4">{{employeeInfo.EmpHireDate | date:"dd/MM/yyyy"}}</div>
            <div class="col-sm-1"><b>{{'UnitName' | translate}}</b></div>
            <div class="col-sm-5">{{employeeInfo.getUnitName()}}</div>
      
    </div>
     <div class="form-group  row">
            <div class="col-sm-2"><b>{{'WorkExperience' | translate}}</b></div>
            <div class="col-sm-4">{{employeeInfo.WorkExperience}}</div>
            <div class="col-sm-1"><b>{{'JobName' | translate}}</b></div>
            <div class="col-sm-5">{{employeeInfo.getJobName()}}</div>
      
    </div>

</div>

            </div>`;
                this.link = (scope, element, attrs) => {
                    //scope.currentLanguage = loginInfo.getCurrentLanguage();
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    scope.employeeInfo = {};
                    scope.$watch('assignmentId', function (value) {
                        if (value != null) {
                            getEmpData(value);
                        }
                    });
                    scope.translateText = (text) => {
                        return this.translator.Translate(text);
                    };
                    var getEmpData = (assignmentId) => {
                        var queryString = '?empAssignmentId=' + assignmentId + '&userId=' + currentInfo.User.UserId + '&langId=' + currentInfo.Language.LangId;
                        this.dbManager.Get("Profile", 'GetAssignmentInfo', queryString, function (response) {
                            scope.employeeInfo = response.data;
                            scope.employeeInfo.getEmployeeName = () => {
                                if (HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == "rtl") {
                                    return scope.employeeInfo.ProfileName_;
                                }
                                else {
                                    return scope.employeeInfo.ProfileName;
                                }
                            };
                            scope.employeeInfo.getUnitName = () => {
                                if (HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == "rtl") {
                                    return scope.employeeInfo.UnitName_;
                                }
                                else {
                                    return scope.employeeInfo.UnitName;
                                }
                            };
                            scope.employeeInfo.getJobName = () => {
                                if (HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == "rtl") {
                                    return scope.employeeInfo.JobName_;
                                }
                                else {
                                    return scope.employeeInfo.JobName;
                                }
                            };
                            scope.setEmployeePhoto(scope.employeeInfo.Photo);
                        }, function () {
                            scope.employeeInfo = {};
                        });
                    };
                    scope.setEmployeePhoto = (photo) => {
                        if (photo === null || photo == "") {
                            scope.picFile = "/styles/img/noProfile.png";
                        }
                        else {
                            scope.picFile = "data:image/jpeg;base64," + photo;
                        }
                    };
                };
            }
            static Factory() {
                var directive = (translator, dbManager) => new EmpAssignmentInfo(translator, dbManager);
                directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Controls.EmpAssignmentInfo = EmpAssignmentInfo;
        Controls.hcmsControls.directive('empAssignmentInfo', EmpAssignmentInfo.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class EmpDefaultAssignmentList {
            constructor(translator, dbManager, $timeOut) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.$timeOut = $timeOut;
                this.restrict = 'AE';
                this.scope = {
                    options: '='
                };
                this.template = function () {
                    return `
<smart-grid id="grd" name="grid.name" data="assignmentList" options="options" column-defs="grid.columns" style="height:500px;"></smart-grid>
`;
                };
                this.link = (scope, element, attrs) => {
                    scope.grid = { name: 'listGrid' };
                    scope.options.SelectButton = true;
                    scope.options.EditButton = false;
                    scope.options.DeleteButton = false;
                    scope.options.enableQuickFilter = true;
                    //scope.currentLanguage = loginInfo.getCurrentLanguage();
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    scope.translateText = (text) => {
                        return this.translator.Translate(text);
                    };
                    scope.selectText = ""; //scope.translateText('Select');
                    //scope.columns = null;
                    scope.grid.columns = [
                        { headerName: scope.selectText, width: 50, cellRenderer: selectCell, suppressMenu: true, suppressSorting: true, suppressSizeToFit: true },
                        { field: 'EmployeeCode', hide: false, controlTypeName: 'text', headerName: scope.translateText('EmployeeCode') },
                        { field: 'ProfileName', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileName') },
                        { field: 'ProfileName_', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileName_') }
                    ];
                    function selectCell(params) {
                        var selectCallback = params.api.gridCore.gridOptions.selectCallback;
                        if (selectCallback) {
                            var elem = document.createElement("span");
                            elem.innerHTML = '<a class="btn btn-xs btn-primary"><span class="fa fa-hand-pointer-o center-block"></span></a>';
                            elem.addEventListener("click", function () { selectCallback(params.data); });
                            return elem;
                        }
                    }
                    var getEmpDataList = () => {
                        var queryString = '?userId=' + currentInfo.User.UserId + '&langId=' + currentInfo.Language.LangId;
                        this.dbManager.Get("Profile", 'GetDefaultAssignmentList', queryString, function (response) {
                            scope.assignmentList = response.data;
                        }, function () {
                            scope.assignmentList = null;
                        });
                    };
                    getEmpDataList();
                };
            }
            static Factory() {
                var directive = (translator, dbManager, $timeout) => new EmpDefaultAssignmentList(translator, dbManager, $timeout);
                directive.$inject = ["translateService", "dataManagerService", "$timeout"];
                return directive;
            }
        }
        Controls.EmpDefaultAssignmentList = EmpDefaultAssignmentList;
        Controls.hcmsControls.directive('empDefaultAssignemntList', EmpDefaultAssignmentList.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsTree {
            constructor(translator, dbManager, compiler, timeout, ivhTreeviewOptions, ivhTreeviewBfs, ivhTreeviewMgr) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.compiler = compiler;
                this.timeout = timeout;
                this.ivhTreeviewOptions = ivhTreeviewOptions;
                this.ivhTreeviewBfs = ivhTreeviewBfs;
                this.ivhTreeviewMgr = ivhTreeviewMgr;
                this.restrict = 'AE';
                this.require = "^ngModel";
                this.scope = {
                    hcOptions: "=",
                    ngModel: "=",
                    hcApiUrl: "=?",
                    hcEvents: "=?"
                };
                this.link = (scope, element, attrs) => {
                    scope.treeData = [];
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    var commonParams = function () {
                        return '?userId=' + currentInfo.User.UserId
                            + '&langId=' + currentInfo.Language.LangId
                            + '&companyId=' + currentInfo.Company.CompanyId
                            + '&treeId=' + scope.hcOptions.TreeId;
                    };
                    this.dbManager.Get('TreeView', 'GetGeneralTree', commonParams(), function (result) {
                        scope.treeData = result.data;
                    }, null);
                    var opts = {};
                    opts.idAttribute = "'TreeNodeId'";
                    opts.labelAttribute = "'content'";
                    opts.childrenAttribute = "'children'";
                    //opts.selectedAttribute === 'ngModel'
                    opts.useCheckboxes = true;
                    // to know options only
                    function options() {
                        //get selected node
                        var selectedNodes = [];
                        this.ivhTreeviewBfs(element, function (node) {
                            if (node.selected) {
                                selectedNodes.push(node);
                            }
                        });
                        //deselect All nodes
                        this.ivhTreeviewMgr.deselectAll(scope.treeData);
                        //select All nodes
                        this.ivhTreeviewMgr.selectAll(scope.treeData);
                        // more options..........
                    }
                    var template = ' <div  ivh-treeview="treeData"';
                    template += 'ivh-treeview-id-attribute="' + opts.idAttribute + '"';
                    template += 'ivh-treeview-label-attribute="' + opts.labelAttribute + '"';
                    template += 'ivh-treeview-children-attribute="' + opts.childrenAttribute + '"';
                    template += 'ivh-treeview-use-checkboxes="' + opts.useCheckboxes + '"';
                    //template+='ivh-treeview-selected-attribute="' + isSelected + '"';
                    template += 'ivh-treeview-on-cb-change="changeCallback(ivhNode)"';
                    template += ">";
                    element.html(template);
                    this.compiler(element.contents())(scope);
                    scope.changeCallback = function (node) {
                        if (scope.hcOptions.SelectOneOnly) {
                            this.ivhTreeviewMgr.deselectAll(scope.treeData);
                            this.ivhTreeviewMgr.selectEach(scope.treeData, node);
                        }
                        var selectedNodes = [];
                        this.ivhTreeviewBfs(scope.treeData, function (node) {
                            if (node.selected) {
                                selectedNodes.push(node);
                            }
                        });
                        scope.ngModel = selectedNodes.join(',');
                    };
                };
            }
            static Factory() {
                var directive = (translator, dbManager, compiler, timeout, ivhTreeviewOptions, ivhTreeviewBfs, ivhTreeviewMgr) => new HcmsTree(translator, dbManager, compiler, timeout, ivhTreeviewOptions, ivhTreeviewBfs, ivhTreeviewMgr);
                directive.$inject = ["translateService", "dataManagerService", "$compile", "$timeout", "ivhTreeviewOptions", "ivhTreeviewBfs", "ivhTreeviewMgr"];
                return directive;
            }
        }
        Controls.HcmsTree = HcmsTree;
        Controls.hcmsControls.directive('hcmsTree', HcmsTree.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class ImportFromExcel {
            constructor() {
                this.restrict = 'AE';
                this.scope = {
                    xlsOptions: "="
                };
                this.link = (scope, element, attrs) => {
                    element.on('click', (clickEvent) => {
                        if (scope.xlsOptions.onClick) {
                            scope.xlsOptions.onClick(element);
                        }
                    });
                    element.on('change', (changeEvent) => {
                        scope.xlsOptions.fileName = changeEvent.target.files[0].name;
                        var reader = new FileReader();
                        var xls = window.XLSX;
                        reader.onload = (e) => {
                            /* read workbook */
                            var bstr = e.target.result;
                            var workbook = xls.read(bstr, { type: 'binary' });
                            var first_sheet_name = workbook.SheetNames[0];
                            var dataObjects = xls.utils.sheet_to_json(workbook.Sheets[first_sheet_name]);
                            scope.xlsOptions.data = dataObjects;
                            if (scope.xlsOptions.onChanged != null) {
                                scope.xlsOptions.onChanged(dataObjects);
                            }
                        };
                        reader.readAsBinaryString(changeEvent.target.files[0]);
                    });
                };
            }
            static Factory() {
                var directive = () => new ImportFromExcel();
                return directive;
            }
        }
        Controls.ImportFromExcel = ImportFromExcel;
        Controls.hcmsControls.directive('importFromExcel', ImportFromExcel.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class HcmsOrgChart {
            constructor(translator, dbManager) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.restrict = 'A';
                this.scope = {
                    treeOptions: '='
                };
                this.link = (scope, element, attrs) => {
                    scope.data = {};
                    var getTree = () => {
                        var queryString = '?userId=' + scope.treeOptions.userId + '&formId=' + scope.treeOptions.formId;
                        queryString += '&treeId=' + scope.treeOptions.treeId + '&langId=' + scope.treeOptions.langId;
                        queryString += '&companyId=' + scope.treeOptions.companyId;
                        this.dbManager.Get("TreeView", 'GetOrgChart', queryString, function (result) {
                            scope.data = result.data;
                            $(element).orgchart({
                                'data': scope.data,
                                'nodeId': "TreeNodeId",
                                'nodeTitle': 'title',
                                'nodeContent': 'content',
                                'exportButton': true,
                                'exportFilename': 'MyOrgChart',
                                //'zoom': true,
                                //'pan': true,
                                'draggable': true,
                                'depth': 2
                            });
                        }, function (result) {
                            // this..alert("Can not load tree.");
                        }, null);
                    };
                    getTree();
                    //scope.$watch( 'treeOptions.treeId' , (newValue, oldValue) => {
                    //    if (!HCMS.Validations.CommonValidations.isNull(newValue) && newValue !== oldValue) {
                    //        getTree();
                    //    }
                    //})
                    //var dataUrl = appConfig.webApiUrl + "/TreeView/GetOrgChart/" + queryString;
                };
            }
            static Factory() {
                var directive = (translator, dbManager) => new HcmsOrgChart(translator, dbManager);
                directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Controls.HcmsOrgChart = HcmsOrgChart;
        Controls.hcmsControls.directive('hcmsOrgChart', HcmsOrgChart.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class ProfileInfo {
            constructor(translator, dbManager) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.restrict = 'AE';
                this.scope = {
                    profileId: "=",
                };
                this.template = `<div >
 
               <div class="table">
    <div class="row">
        <div class="col-sm-12"> 
            <h1>{{translateText('EmployeeInformation')}}</h1>
        </div>       
    </div>
    <div class="row">
        <div class="col-sm-2">
           <b>{{translateText('EmployeeNo')}}</b> 
        </div>
        <div class="col-sm-10">
            {{employeeInfo.ProfileCode}}
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
           <b>{{translateText('EmployeeName')}}</b>
        </div>
        <div class="col-sm-10">
            {{employeeInfo.ProfileName}}
        </div>
    </div>
    <div class="row">
        <div class="col-sm-2">
          <b>{{translateText('EmployeeName_')}}</b> 
        </div>
        <div class="col-sm-10">
            {{employeeInfo.ProfileName_}}
        </div>
    </div>
</div>

            </div>`;
                this.link = (scope, element, attrs) => {
                    //scope.currentLanguage = loginInfo.getCurrentLanguage();
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    scope.employeeInfo = {};
                    scope.$watch('profileId', function (value) {
                        if (value != null) {
                            getEmpData(value);
                        }
                    });
                    scope.translateText = (text) => {
                        return this.translator.Translate(text);
                    };
                    var getEmpData = (profileId) => {
                        var queryString = '?profileId=' + profileId + '&userId=' + currentInfo.User.UserId + '&langId=' + currentInfo.Language.LangId;
                        this.dbManager.Get("Profile", 'GetProfileInfo', queryString, function (response) {
                            scope.employeeInfo = response.data;
                        }, function () {
                            scope.employeeInfo = null;
                        });
                    };
                };
            }
            static Factory() {
                var directive = (translator, dbManager) => new ProfileInfo(translator, dbManager);
                directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Controls.ProfileInfo = ProfileInfo;
        Controls.hcmsControls.directive('profileInfo', ProfileInfo.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class ProfileList {
            constructor(translator, dbManager, $timeOut) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.$timeOut = $timeOut;
                this.restrict = 'AE';
                this.scope = {
                    options: '='
                };
                this.template = function () {
                    return `
<smart-grid id="grd" name="grid.name" data="profileList" options="options" column-defs="grid.columns" style="height:500px;"></smart-grid>
`;
                };
                this.link = (scope, element, attrs) => {
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    scope.grid = { name: 'listGrid' };
                    scope.options.SelectButton = true;
                    scope.options.EditButton = false;
                    scope.options.DeleteButton = false;
                    scope.options.enableQuickFilter = true;
                    scope.options.enableRtl = currentInfo.Language.LangDirection === "rtl" ? true : false;
                    //scope.currentLanguage = loginInfo.getCurrentLanguage();
                    scope.translateText = (text) => {
                        return this.translator.Translate(text);
                    };
                    scope.selectText = ""; // scope.translateText('Select');
                    //scope.columns = null;
                    scope.grid.columns = [
                        { headerName: scope.selectText, width: 50, cellRenderer: selectCell, suppressMenu: true, suppressSorting: true, suppressSizeToFit: true },
                        { field: 'ProfileCode', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileCode') },
                        { field: 'ProfileName', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileName') },
                        { field: 'ProfileName_', hide: false, controlTypeName: 'text', headerName: scope.translateText('ProfileName_') }
                    ];
                    function selectCell(params) {
                        var selectCallback = params.api.gridCore.gridOptions.selectCallback;
                        if (selectCallback) {
                            var elem = document.createElement("span");
                            elem.innerHTML = '<a class="btn btn-xs btn-primary"><span class="fa fa-hand-pointer-o center-block"></span></a>';
                            elem.addEventListener("click", function () { selectCallback(params.data); });
                            return elem;
                        }
                    }
                    var getEmpDataList = () => {
                        var queryString = '?userId=' + currentInfo.User.UserId + '&langId=' + currentInfo.Language.LangId;
                        this.dbManager.Get("Profile", 'GetProfileList', queryString, function (response) {
                            scope.profileList = response.data;
                        }, function () {
                            scope.profileList = null;
                        });
                    };
                    getEmpDataList();
                };
            }
            static Factory() {
                var directive = (translator, dbManager, $timeout) => new ProfileList(translator, dbManager, $timeout);
                directive.$inject = ["translateService", "dataManagerService", "$timeout"];
                return directive;
            }
        }
        Controls.ProfileList = ProfileList;
        Controls.hcmsControls.directive('profileList', ProfileList.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class SmartGrid {
            //class = "ag-fresh"  class="ag-bootstrap"
            constructor() {
                this.restrict = 'E';
                this.scope = {
                    options: "=",
                    data: "=",
                    columnDefs: "=?",
                    hideCommonSearch: "=?"
                };
                this.template = `
<div>
    <div>
        <input placeholder="Filter..." type="text" ng-model="searchFilter" ng-change="onFilterChanged(searchFilter)" />
        <!--<button style="margin-left: 20px;" onclick="onPrintQuickFilterTexts(this.value)">Print Quick Filter Texts</button>-->
    </div>
    <div ag-grid="options" style="height: 400px;" class="ag-theme-fresh"></div>
</div>
`;
                this.compile = (element, attrs) => {
                    return {
                        pre: (scope, element, attrs) => {
                            if (scope.options == null) {
                                scope.options = {};
                                scope.options.rowData = [];
                                scope.options.columnDefs = [];
                            }
                            scope.options.enableFilter = true;
                            scope.options.enableSorting = true;
                            scope.options.showToolPanel = false;
                            //scope.options.suppressEnterprise = true;
                            // scope.options.rowGroupPanelShow='always', // on of ['always','onlyWhenGrouping']
                            //scope.options.rowGroupPanelShow = 'onlyWhenGrouping'; // on of ['always','onlyWhenGrouping']
                            //scope.options.pivotPanelShow = "onlyWhenPivoting";
                            scope.options.enableColResize = true;
                            scope.options.angularCompileRows = true;
                            scope.options.angularCompileHeaders = true;
                            //scope.options.paginationPageSize = 10;
                            //scope.options.pagination = true;
                            //scope.options.paginationAutoPageSize = true;
                            scope.options.enableRtl = HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false;
                            //scope.options.onGridReady = function (params) {
                            //    scope.api = params.api;
                            //    //scope.options.api.setRowData(scope.data);
                            //    //scope.options.api.setColumnDefs(scope.columnDefs);
                            //}
                            scope.options.components = {
                                datePicker: Controls.getDatePicker(),
                                timePicker: Controls.getTimePicker()
                            };
                            scope.$watch(function () {
                                return HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                            }, function (newVal, oldVal) {
                                if (newVal.LangId !== oldVal.LangId) {
                                    if (newVal.LangId == 2) {
                                        scope.options.enableRtl = true;
                                    }
                                    else {
                                        scope.options.enableRtl = false;
                                    }
                                    scope.options.api.refreshInMemoryRowModel();
                                    scope.options.api.refreshView();
                                    scope.options.api.refreshHeader();
                                }
                            }, true);
                            scope.options.onModelUpdated = function () {
                                if (scope.options.rowData != null) {
                                    var model = scope.options.api.getModel();
                                    var totalRows = scope.options.rowData.length;
                                    var processedRows = model.getRowCount();
                                    scope.rowCount = processedRows.toLocaleString() + ' / ' + totalRows.toLocaleString();
                                }
                            };
                            if (scope.options.columnDefs == null) {
                                scope.options.columnDefs = [];
                            }
                            scope.columns = filterColumns(scope.options.columnDefs);
                            scope.itemsByPage = 10;
                            scope.$watchCollection('data', function (value) {
                                if (value != null) {
                                    if (scope.options.api) {
                                        setTimeout(() => {
                                            scope.options.api.setRowData(value);
                                            // scope.options.api.sizeColumnsToFit();
                                        }, 0);
                                    }
                                }
                            });
                            scope.$watchCollection('columnDefs', function (value) {
                                if (value != null) {
                                    scope.columns = filterColumns(value);
                                    if (scope.options.api) {
                                        setTimeout(() => {
                                            scope.options.api.setColumnDefs(value);
                                            //autoSizeAll();
                                            //scope.options.api.sizeColumnsToFit();
                                        }, 0);
                                    }
                                }
                            });
                            function autoSizeAll() {
                                var allColumnIds = [];
                                scope.options.columnApi.getAllColumns().forEach(function (column) {
                                    allColumnIds.push(column.colId);
                                });
                                scope.options.columnApi.autoSizeColumns(allColumnIds);
                            }
                            function filterColumns(allColumns) {
                                return allColumns.filter(function (column) {
                                    return !column.hide;
                                });
                            }
                            function onFilterChanged(value) {
                                scope.options.api.setQuickFilter(value);
                            }
                            function onPrintQuickFilterTexts() {
                                scope.options.api.forEachNode(function (rowNode, index) {
                                    console.log('Row ' + index + ' quick filter text is ' + rowNode.quickFilterAggregateText);
                                });
                            }
                            scope.onFilterChanged = onFilterChanged;
                            scope.onPrintQuickFilterTexts = onPrintQuickFilterTexts;
                        },
                        post: (scope, element, attrs) => {
                        }
                    };
                };
                this.link = (scope, element, attrs) => {
                };
            }
            static Factory() {
                var directive = () => new SmartGrid();
                return directive;
            }
        }
        Controls.SmartGrid = SmartGrid;
        Controls.hcmsControls.directive('smartGrid', SmartGrid.Factory());
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        //export class Datepicker {
        //    public eInput: any;
        //    // gets called once before the renderer is used
        //    public init = (params) => {
        //        // create the cell
        //        this.eInput = document.createElement('input');
        //        this.eInput.value = params.value;
        //        // https://jqueryui.com/datepicker/
        //        $(this.eInput).datepicker({
        //            dateFormat: 'dd/mm/yy'
        //        });
        //    };
        //    // gets called once when grid ready to insert the element
        //    public getGui = () => {
        //        return this.eInput;
        //    };
        //    // focus and select can be done after the gui is attached
        //    public afterGuiAttached = () => {
        //        this.eInput.focus();
        //        this.eInput.select();
        //    };
        //    // returns the new value after editing
        //    public getValue = () => {
        //        return this.eInput.value;
        //    };
        //    // any cleanup we need to be done here
        //    public destroy = () => {
        //        // but this example is simple, no cleanup, we could
        //        // even leave this method out as it's optional
        //    };
        //    // if true, then this editor will appear in a popup
        //    public isPopup = () => {
        //        // and we could leave this method out also, false is the default
        //        return false;
        //    };
        //}
        //export class Timepicker {
        //    public eInput: any;
        //    // gets called once before the renderer is used
        //    public init = (params) => {
        //        // create the cell
        //        this.eInput = document.createElement('input');
        //        this.eInput.value = params.value;
        //        // https://jqueryui.com/datepicker/
        //        $(this.eInput).timepicker({
        //            timeFormat: 'HH:mm:ss'
        //        });
        //    };
        //    // gets called once when grid ready to insert the element
        //    public getGui = () => {
        //        return this.eInput;
        //    };
        //    // focus and select can be done after the gui is attached
        //    public afterGuiAttached = () => {
        //        this.eInput.focus();
        //        this.eInput.select();
        //    };
        //    // returns the new value after editing
        //    public getValue = () => {
        //        return this.eInput.value;
        //    };
        //    // any cleanup we need to be done here
        //    public destroy = () => {
        //        // but this example is simple, no cleanup, we could
        //        // even leave this method out as it's optional
        //    };
        //    // if true, then this editor will appear in a popup
        //    public isPopup = () => {
        //        // and we could leave this method out also, false is the default
        //        return false;
        //    };
        //}
        function getDatePicker() {
            function Datepicker() { }
            Datepicker.prototype.init = function (params) {
                this.eInput = document.createElement("input");
                this.eInput.value = params.value;
                $(this.eInput).datepicker({ dateFormat: "dd/mm/yy" });
            };
            Datepicker.prototype.getGui = function () {
                return this.eInput;
            };
            Datepicker.prototype.afterGuiAttached = function () {
                this.eInput.focus();
                this.eInput.select();
            };
            Datepicker.prototype.getValue = function () {
                return this.eInput.value;
            };
            Datepicker.prototype.destroy = function () { };
            Datepicker.prototype.isPopup = function () {
                return false;
            };
            return Datepicker;
        }
        Controls.getDatePicker = getDatePicker;
        function getTimePicker() {
            function Timepicker() { }
            Timepicker.prototype.init = (params) => {
                this.eInput = document.createElement("input");
                this.eInput.value = params.value;
                $(this.eInput).timepicker({
                    minuteStep: 1,
                    //template: 'modal',
                    //appendWidgetTo: 'body',
                    showSeconds: true,
                    showMeridian: false,
                    defaultTime: false
                });
            };
            Timepicker.prototype.getGui = () => {
                return this.eInput;
            };
            Timepicker.prototype.afterGuiAttached = () => {
                this.eInput.focus();
                this.eInput.select();
            };
            Timepicker.prototype.getValue = () => {
                return this.eInput.value;
            };
            Timepicker.prototype.destroy = () => { };
            Timepicker.prototype.isPopup = () => {
                return false;
            };
            return Timepicker;
        }
        Controls.getTimePicker = getTimePicker;
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Controls;
    (function (Controls) {
        class SmartAlert {
            constructor() {
                this.warningCounter = 0;
                this.Alert = (message, title) => {
                    if (title == null) {
                        title = window['appConfig'].applicationName;
                    }
                    $['smallBox']({
                        title: message,
                        content: "<i class='fa fa-clock-o'></i> <i>" + title + "</i>",
                        color: "#5F895F",
                        iconSmall: "fa fa-check bounce animated",
                        timeout: 8000
                    });
                    // window.alert(message);
                };
                this.Warning = (message, title) => {
                    if (title == null) {
                        title = window['appConfig'].applicationName;
                    }
                    $['bigBox']({
                        title: title,
                        content: message,
                        // color: "#FF8A65",
                        color: "#C79121",
                        icon: "fa fa-warning shake animated",
                        number: ++this.warningCounter,
                        timeout: 10000
                    });
                };
                this.Error = (message, title) => {
                    if (title == null) {
                        title = window['appConfig'].applicationName;
                    }
                    $['bigBox']({
                        title: title,
                        content: message,
                        color: "#C46A69",
                        icon: "fa fa-warning shake animated",
                        number: ++this.warningCounter,
                        timeout: 10000
                    });
                };
                this.Confirm = (message, title, yesCallBack, noCallBack) => {
                    $['SmartMessageBox']({
                        title: title,
                        content: message,
                        buttons: '[No][Yes]'
                    }, function (ButtonPressed) {
                        if (ButtonPressed === "Yes") {
                            if (yesCallBack != null) {
                                yesCallBack();
                            }
                            return true;
                        }
                        if (ButtonPressed === "No") {
                            if (noCallBack != null) {
                                noCallBack();
                            }
                            return false;
                        }
                    });
                };
            }
        }
        Controls.SmartAlert = SmartAlert;
        //hcmsUtilities.service('smartAlertService', function () {
        //    return new SmartAlert();
        //});
    })(Controls = HCMS.Controls || (HCMS.Controls = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../scripts/typings/angularjs/angular.d.ts" />
/// <reference path="../dataaccess/module.ts" />
/// <reference path="../dataaccess/startup/startup.ts" />
/// <reference path="../dataaccess/services/datamanager.ts" />
/// <reference path="../dataaccess/services/translate.ts" />
/// <reference path="../dataaccess/startup/utility.ts" />
/// <reference path="../dataaccess/startup/currentlogininfo.ts" />
/// <reference path="../dataaccess/startup/databaseprofile.ts" />
/// <reference path="../dataaccess/startup/language.ts" />
/// <reference path="../dataaccess/startup/company.ts" />
/// <reference path="../dataaccess/startup/user.ts" />
var HCMS;
(function (HCMS) {
    var Menus;
    (function (Menus) {
        "use strict";
        Menus.hcmsMenus = angular.module("HCMS.Menus", ['HCMS.DataAccess']);
    })(Menus = HCMS.Menus || (HCMS.Menus = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Menus;
    (function (Menus) {
        class HomeMenus {
            constructor(translateService, dbManager, menuTabsService, $state, $filter, $scope, $timeout) {
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.menuTabsService = menuTabsService;
                this.$onInit = () => { };
                this.orgMenus = [];
                this.allMenus = [];
                this.filteredMenus = [];
                this.selectedRoot = { MenuId: -1, ParentId: -1 };
                //translate Menus
                this.translate = (text) => {
                    return this.translateService.Translate('menu-' + text);
                };
                //Get All Cuurent User Menus
                this.getMenus = () => {
                    var currentLoginInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    if (currentLoginInfo == null)
                        return;
                    var queryString = '?userId=' + currentLoginInfo.User.UserId + ' &langId=' + currentLoginInfo.Language.LangId;
                    this.dbManager.Get("HomeMenus", 'GetAll', queryString, (result) => {
                        this.allMenus = result.data;
                        this.orgMenus = this.allMenus.slice(); // copy all menus
                        this.translateService.Use(currentLoginInfo.Language.LangId);
                    }, function (result) {
                        var alrt = new HCMS.Controls.SmartAlert();
                        alrt.Alert("Can not load menus.");
                    }, null);
                };
                // open Menu in a Tab
                this.openMenu = (menu) => {
                    //sysMenus.selectedMenu = menu
                    //sysMenus.selectedMenu.children = getChildMenus(menu.MenuId)
                    if (angular.isString(menu.StateName)) {
                        var params = { apiController: null, reportId: null, formId: null };
                        if (!HCMS.Validations.CommonValidations.isNull(menu.ReportId)) {
                            params.reportId = menu.ReportId;
                        }
                        if (!HCMS.Validations.CommonValidations.isNull(menu.FormId)) {
                            params.formId = menu.FormId;
                        }
                        if (angular.isDefined(menu.FormController))
                            params.apiController = menu.FormController;
                        this.menuTabsService.AddMenuTab(menu, params);
                        //$state.go(menu.StateName, params);
                        this.state.go("app.tabs.subtabs");
                    }
                };
                this.setSelectedRoot = (menu) => {
                    this.selectedRoot = menu;
                };
                this.getParentMenus = () => {
                    var orderBy = this.filter('orderBy');
                    var children = [];
                    if (this.orgMenus != undefined) {
                        children = this.filter('filter')(this.orgMenus, { ParentId: null }, true);
                    }
                    if (children.length > 0) {
                        return orderBy(children, function (item) { return parseInt(item.MenuOrder); }, false /*Reverse=false*/);
                    }
                    return [];
                };
                this.getChildMenus = (menuId) => {
                    if (angular.isUndefined(menuId) || menuId == '')
                        menuId = null;
                    var orderBy = this.filter('orderBy');
                    var children = [];
                    if (this.allMenus != undefined) {
                        children = this.filter('filter')(this.allMenus, { ParentId: menuId }, true);
                    }
                    if (children.length > 0) {
                        return orderBy(children, function (item) { return parseInt(item.MenuOrder); }, false /*Reverse=false*/);
                    }
                    return [];
                };
                ////filterMenus
                //private filterMenus = (menuId) => {
                //    this.filteredMenus = $(this.orgMenus).filter(function (i, n) { return n.MenuId === menuId });
                //    this.addChildMenus(menuId);
                //    setTimeout(function () {
                //        this.allMenus = [];
                //        this.allMenus = this.filteredMenus.slice();
                //    }, 0);
                //}
                this.addChildMenus = (menuId) => {
                    if (angular.isUndefined(menuId) || menuId == null || menuId == '')
                        return;
                    var orderBy = this.filter('orderBy');
                    var children = [];
                    if (this.orgMenus != undefined) {
                        children = this.filter('filter')(this.orgMenus, { ParentId: menuId }, true);
                        Array.prototype.push.apply(this.filteredMenus, children);
                        //iterate children
                        angular.forEach(children, (value, key) => {
                            this.addChildMenus(value.MenuId);
                        });
                    }
                };
                //================ Create Routing States for config
                this.setStates = (data) => {
                    var state = {
                        "url": "/subtabs",
                        //reloadOnSearch: false,
                        //reload: false,
                        "views": {}
                    };
                    angular.forEach(data, function (value, key) {
                        var viewName = "view" + value.MenuId; //+ "@app";
                        state.views[viewName] = {
                            templateUrl: value.StartView,
                            controller: value.JsController,
                            controllerAs: value.JsControllerAS
                        };
                    });
                    window['$stateProviderRef'].state("app.tabs.subtabs", state);
                    //window['$urlRouter'].sync();
                    //window['$urlRouter'].listen();
                    //$state.go("home");
                };
                this.state = $state;
                this.filter = $filter;
                this.getMenus();
                menuTabsService.ClearMenuTabs();
                //================ Create Routing States for config
                var rootState = this.state; // for test    $rootScope.$state;
                if (!rootState.href("app.tabs.subtabs")) {
                    this.dbManager.Get("MenuStates", 'GetMenuStates', "", (result) => {
                        var states = [];
                        states = result.data;
                        this.setStates(states);
                    }, (result) => {
                        // this.states = [];
                    }, null);
                }
            }
        }
        Menus.HomeMenus = HomeMenus;
        Menus.hcmsMenus.controller('homeMenusController', ['translateService', 'dataManagerService', 'menuTabsService', '$state', '$filter', '$scope', '$timeout', function (translateService, dataManagerService, menuTabsService, $state, $filter, $scope, $timeout) {
                return new HomeMenus(translateService, dataManagerService, menuTabsService, $state, $filter, $scope, $timeout);
            }]);
    })(Menus = HCMS.Menus || (HCMS.Menus = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Menus;
    (function (Menus) {
        class MenuTabsService {
            constructor() {
                this.menuTabs = [];
                this.AddMenuTab = (menuItem, params) => {
                    var index = this.menuTabs.length + 1;
                    this.menuTabs.push({ MenuItem: menuItem, MenuParams: params, active: false });
                };
                this.RemoveMenuTab = (menuTab) => {
                    var index = this.menuTabs.indexOf(menuTab);
                    this.menuTabs.splice(index, 1);
                };
                this.GetMenuTabs = () => {
                    return this.menuTabs;
                };
                this.ClearMenuTabs = () => {
                    this.menuTabs = [];
                };
            }
        }
        Menus.MenuTabsService = MenuTabsService;
        //hcmsMenus.service("menuTabsService", MenuTabsService);
        Menus.hcmsMenus.service('menuTabsService', function () {
            return new MenuTabsService();
        });
    })(Menus = HCMS.Menus || (HCMS.Menus = {}));
})(HCMS || (HCMS = {}));
/// <reference path="menutabsservice.ts" />
var HCMS;
(function (HCMS) {
    var Menus;
    (function (Menus) {
        class MenuTabsController {
            constructor(translateService, dbManager, menuTabsService, $state, $scope, $timeout) {
                this.$onInit = () => { };
                this.tabs = [];
                // translate Function
                this.translateText = (text, viewId) => {
                    return this.translateService.Translate(text, viewId);
                };
                this.addToMenuTabs = (_tabs) => {
                    if (_tabs == undefined)
                        return;
                    var tab = _tabs[_tabs.length - 1];
                    if (tab !== undefined) {
                        this.tabs.push(tab);
                        this.timeout(() => {
                            this.activeTabIndex = this.tabs.length - 1;
                        }, 1000);
                        //tab.active = true;
                        //this.tabs.push({ heading: tab.MenuItem.MenuName, route: tab.MenuItem.StateName + tab.MenuItem.MenuId, params: tab.MenuParams });
                    }
                };
                this.closeTab = (index) => {
                    this.tabs.splice(index, 1);
                };
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.menuTabsService = menuTabsService;
                this.state = $state;
                this.scope = $scope;
                this.timeout = $timeout;
                this.tabs = [];
                this.activeTabIndex = 0;
                //scope.$state = this.$state;
                // check current Login Info
                var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (currentInfo == null) {
                //    currentInfo = new DataAccess.CurrentLoginInfo(this.dbManager);
                //    var currentUser = angular.fromJson(sessionStorage['user']);
                //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                //}
                //this.tabs = this.menuTabsService.GetMenuTabs();
                this.addToMenuTabs(this.menuTabsService.GetMenuTabs());
                this.scope.$watch(() => this.menuTabsService.GetMenuTabs(), (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        //this.tabs = newValue;
                        //this.activeTabIndex = this.tabs.length - 1;
                        this.addToMenuTabs(newValue);
                        //scope.addToMenuTabs(newValue);
                    }
                }, true);
            }
        }
        Menus.MenuTabsController = MenuTabsController;
        //hcmsMenus.controller('menuTabsController', MenuTabsController);
        Menus.hcmsMenus.controller('menuTabsController', ['translateService', 'dataManagerService', 'menuTabsService', '$state', '$scope', '$timeout', function (translateService, dataManagerService, menuTabsService, $state, $scope, $timeout) {
                return new MenuTabsController(translateService, dataManagerService, menuTabsService, $state, $scope, $timeout);
            }]);
    })(Menus = HCMS.Menus || (HCMS.Menus = {}));
})(HCMS || (HCMS = {}));
///// <reference path="menutabsservice.ts" />
//module HCMS.Menus {
//    export class MenuNavTabs implements ng.IDirective {
//        public restrict = 'E';
//        public scope: any = {};// { 'setAddMenuFn': "&?" };
//        public priority = 0;
//        public templateUrl: string = "app_hebs/menus/menuTabs.html";
//        private translateService: DataAccess.TranslateService;
//        private dbManager: DataAccess.DataManagerService;
//        private menuTabsService: MenuTabsService;
//        constructor(translateService: DataAccess.TranslateService, dbManager: DataAccess.DataManagerService, menuTabsService: MenuTabsService, private $state: any) {
//            this.translateService = translateService;
//            this.dbManager = dbManager;
//            this.menuTabsService = menuTabsService;
//        }
//        link: ng.IDirectiveLinkFn = (scope: any, element: JQuery, $attrs: ng.IAttributes) => {
//            scope.menuTabs = [];
//            scope.$state = this.$state;
//            // check current Login Info
//            var currentInfo: DataAccess.ICurrentLoginInfo = DataAccess.StartUp.CurrentLoginInfo;
//            if (currentInfo == null) {
//                currentInfo = new DataAccess.CurrentLoginInfo(this.dbManager);
//                var currentUser = angular.fromJson(sessionStorage['user']);
//                currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
//                DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
//            }
//            // translate Function
//            scope.translateText = (text: string, viewId?: any) => {
//                return this.translateService.Translate(text, viewId);
//            }
//            scope.$watch(() => this.menuTabsService.GetMenuTabs(),
//                (newValue: Array<IMenuTab>, oldValue: Array<IMenuTab>) => {
//                    if (oldValue !== newValue) {
//                        scope.menuTabs = newValue;
//                        //scope.addToMenuTabs(newValue);
//                    }
//                }, true);
//            scope.addToMenuTabs = (tabs: Array<IMenuTab>) => {
//                if (tabs == undefined) return;
//                var tab = tabs[tabs.length - 1];
//                if (tab !== undefined) {
//                    //scope.menuTabs.push(tab);
//                    scope.menuTabs.push({ heading: tab.MenuItem.MenuName, route: tab.MenuItem.StateName + tab.MenuItem.MenuId, params: tab.MenuParams });
//                }
//            }
//            scope.go = (menu: IMenuTab) => {
//                this.$state.go(menu.MenuItem.StateName + menu.MenuItem.MenuId, menu.MenuParams);
//            };
//            scope.getState = (menu: IMenuTab) => {
//                var params = "";
//                if (menu.MenuParams != undefined) {
//                    angular.forEach(menu.MenuParams, (value, key) => {
//                        params += key + ":'" + menu.MenuParams[key] + "',";
//                    });
//                }
//                params = params.substr(0, params.length - 1);
//                var stateName = menu.MenuItem.StateName + menu.MenuItem.MenuId;
//                if (params != "") {
//                    stateName += "({" + params + "})";
//                }
//                return stateName;
//            };
//            //scope.active = (menu: IMenuTab) => {
//            //    return this.$state.is(menu.MenuItem.StateName);
//            //};
//            //scope.$on("$stateChangeSuccess", () => {
//            //    scope.menuTabs.forEach(function (tab) {
//            //        tab.active = scope.active(tab);
//            //    });
//            //});
//        }
//        static Factory(): ng.IDirectiveFactory {
//            var directive: ng.IDirectiveFactory =
//                (translateService: DataAccess.TranslateService, dbManager: DataAccess.DataManagerService, menuTabsService: MenuTabsService, $state: any) => new MenuNavTabs(translateService, dbManager, menuTabsService, $state);
//            //directive's injection list
//            directive.$inject = ["translateService", "dataManagerService", "menuTabsService", "$state"];
//            return directive;
//        }
//    }
//    hcmsMenus.directive('menuNavTabs', MenuNavTabs.Factory());
//} 
/// <reference path="../../scripts/typings/angularjs/angular.d.ts" />
/// <reference path="../dataaccess/module.ts" />
/// <reference path="../dataaccess/services/translate.ts" />
/// <reference path="../dataaccess/services/datamanager.ts" />
/// <reference path="../dataaccess/startup/startup.ts" />
/// <reference path="../dataaccess/startup/company.ts" />
/// <reference path="../dataaccess/startup/currentlogininfo.ts" />
/// <reference path="../dataaccess/startup/databaseprofile.ts" />
/// <reference path="../dataaccess/startup/language.ts" />
/// <reference path="../dataaccess/startup/user.ts" />
/// <reference path="../dataaccess/startup/utility.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        "use strict";
        Forms.hcmsForms = angular.module("HCMS.Forms", ['ui.router', 'HCMS.Controls', 'HCMS.DataAccess', 'HCMS.Authentication']);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../module.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class DynamicForm {
            constructor(translateService, dbManager, $compile, templateRequest) {
                this.restrict = 'E';
                this.scope = { 'formId': "=", 'formTemplateUrl': "=", 'parentIdFieldName': "=?", 'parentItem': "=?", 'controllerName': "@", 'controllerAs': "@" };
                //public controller: string = "@";
                //public name: string = "@controllerName";
                //public controllerAs: string = "dynamicForm";
                this.priority = 0;
                this.link = (scope, element, attrs) => {
                    var currentObject = this;
                    this.templateRequest(scope.formTemplateUrl).then(function (html) {
                        var template = angular.element(html);
                        var controllerStr = "";
                        if (!HCMS.Validations.CommonValidations.isNull(scope.controllerName) && scope.controllerName !== "") {
                            controllerStr = "ng-controller='" + scope.controllerName + " as " + scope.controllerAs + "'";
                        }
                        var div = angular.element("<div " + controllerStr + " ></div>");
                        div.append(template);
                        element.append(div);
                        currentObject.compiler(div)(scope);
                    });
                };
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.templateRequest = templateRequest;
                this.compiler = $compile;
            }
            static Factory() {
                var directive = (translateService, dbManager, compile, templateRequest) => new DynamicForm(translateService, dbManager, compile, templateRequest);
                //directive's injection list
                directive.$inject = ["translateService", "dataManagerService", "$compile", "$templateRequest"];
                return directive;
            }
        }
        Forms.DynamicForm = DynamicForm;
        Forms.hcmsForms.directive('hcmsDynamicForm', DynamicForm.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../module.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class FormNavTabs {
            constructor(translateService, dbManager) {
                this.restrict = 'E';
                this.scope = { 'formId': "=", 'parentIdFieldName': "=?", 'parentItem': "=?", 'hcOptions': "=?" };
                this.priority = 0;
                this.templateUrl = "app_hebs/forms/baseDirectives/views/formNavTabsDirective.html";
                this.link = (scope, element, $attrs) => {
                    //var translateText: (text: string, viewId?: any) => any;
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    //if (currentInfo == null) {
                    //    currentInfo = new DataAccess.CurrentLoginInfo(this.dbManager);
                    //    var currentUser = angular.fromJson(sessionStorage['user']);
                    //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                    //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                    //}
                    if (HCMS.Validations.CommonValidations.isNull(scope.hcOptions)) {
                        scope.hcOptions = {};
                    }
                    scope.hcOptions.api = { activateFirstTab: activateFirstTab };
                    scope.FormSetup = new Forms.BaseFormSetup(this.translateService, this.dbManager, currentInfo.User.UserId, scope.formId);
                    scope.FormSetup.LoadSubForms();
                    function activateFirstTab() {
                        scope.activeFormIndex = 0;
                        //if (!HCMS.Validations.CommonValidations.isNull(scope.formId))
                        //    $('.nav-tabs a[href="#subNavFormTab-r' + scope.formId + '-0"]').tab('show');
                    }
                    ;
                    scope.translateText = (text, viewId) => {
                        return this.translateService.Translate(text, viewId);
                    };
                };
                this.translateService = translateService;
                this.dbManager = dbManager;
            }
            static Factory() {
                var directive = (translateService, dbManager) => new FormNavTabs(translateService, dbManager);
                //directive's injection list
                directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Forms.FormNavTabs = FormNavTabs;
        Forms.hcmsForms.directive('formNavTabs', FormNavTabs.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../module.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class FormStackTabs {
            constructor(translateService, dbManager) {
                this.restrict = 'E';
                this.scope = { 'formId': "=", 'parentIdFieldName': "=?", 'parentItem': "=?", 'hcOptions': "=?" };
                this.priority = 0;
                this.templateUrl = "app_hebs/forms/baseDirectives/views/formStackTabsDirective.html";
                this.link = (scope, element, $attrs) => {
                    //var translateText: (text: string, viewId?: any) => any;
                    var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                    //if (currentInfo == null) {
                    //    currentInfo = new DataAccess.CurrentLoginInfo(this.dbManager);
                    //    var currentUser = angular.fromJson(sessionStorage['user']);
                    //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                    //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                    //}
                    if (HCMS.Validations.CommonValidations.isNull(scope.hcOptions)) {
                        scope.hcOptions = {};
                    }
                    scope.hcOptions.api = { activateFirstTab: activateFirstTab };
                    scope.FormSetup = new Forms.BaseFormSetup(this.translateService, this.dbManager, currentInfo.User.UserId, scope.formId);
                    scope.FormSetup.LoadSubForms();
                    function activateFirstTab() {
                        scope.activeFormIndex = 0;
                        //if (!HCMS.Validations.CommonValidations.isNull(scope.formId))
                        //    $('.nav-tabs a[href="#subFormTab-r' + scope.formId + '-0"]').tab('show');
                    }
                    ;
                    scope.translateText = (text, viewId) => {
                        return this.translateService.Translate(text, viewId);
                    };
                };
                this.translateService = translateService;
                this.dbManager = dbManager;
            }
            static Factory() {
                var directive = (translateService, dbManager) => new FormStackTabs(translateService, dbManager);
                //directive's injection list
                directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Forms.FormStackTabs = FormStackTabs;
        Forms.hcmsForms.directive('formStackTabs', FormStackTabs.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../module.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class IFramAutoResize {
            constructor() {
                this.restrict = 'A';
                this.link = (scope, element, $attrs) => {
                    element.on('load', function () {
                        /* Set the dimensions here,
                           I think that you were trying to do something like this: */
                        var iFrameHeight = element[0]["contentWindow"].document.body.scrollHeight + 'px';
                        var iFrameWidth = '100%';
                        element.css('width', iFrameWidth);
                        element.css('height', iFrameHeight);
                    });
                };
            }
            static Factory() {
                var directive = () => new IFramAutoResize();
                ////directive's injection list
                //directive.$inject = ["translateService", "dataManagerService"];
                return directive;
            }
        }
        Forms.IFramAutoResize = IFramAutoResize;
        Forms.hcmsForms.directive('iframeAutoResize', IFramAutoResize.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class CommonForm {
            //static $inject = ['translateService'];
            constructor(translateService) {
                this.translateService = translateService;
                this.TranslateText = (text, viewId, params) => {
                    return this.translateService.Translate(text, viewId, params);
                };
            }
        }
        Forms.CommonForm = CommonForm;
        ////hcmsForms.controller('commonFormController', CommonFormController);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../baseforms/baseform/commonform.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class BaseReportSetup {
            constructor(filter, translator, dbManager, reportId) {
                this.filter = filter;
                this.translator = translator;
                this.dbManager = dbManager;
                this.reportId = reportId;
                this.title = "";
                this.objectSecurity = { hiddenId: 0, readonlyId: 1, showId: 2 };
                this.reportSetup = {};
                this.operatorsData = [];
                this.selectedGroupByItems = [];
                this.selectedGroupByObject = [];
                this.selectedOrderByItems = [];
                this.selectedOrderByObject = [];
                this.translateText = (text, reportId, params) => {
                    return this.translator.Translate(text, reportId, params);
                };
                this.getCommonParams = () => {
                    return '?userId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId
                        + '&langId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId
                        + '&companyId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                };
                //get report Setup
                this.getReportSetup = (callback) => {
                    var queryString = this.getCommonParams() + '&reportId=' + this.reportId; //'?table=' + baseReport.indexViewSetup.viewSetup.TableName;
                    this.dbManager.Get('ReportForm', 'GetAllReportSetup', queryString, (response) => {
                        this.reportSetup = response.data;
                        if (angular.isDefined(callback) && callback != null) {
                            callback(response.data);
                        }
                    }, null);
                };
                // get Operators
                this.getControlsOperators = (callback) => {
                    this.dbManager.Get("ReportForm", "GetAllControlsOperators", "", (response) => {
                        this.operatorsData = response.data;
                        if (angular.isDefined(callback) && callback != null) {
                            callback(response.data);
                        }
                    }, function (result) {
                        //appService.alert(result);
                    });
                };
                // get Id Field Name
                this.getIdFieldName = (viewFields) => {
                    //set primaryField to gridOptions Object to access in every row
                    for (var prop in viewFields) {
                        if (viewFields[prop].IsPrimary === true) {
                            return viewFields[prop].FieldName;
                        }
                    }
                    return '';
                };
                this.getFieldsAsObjects = (viewFields) => {
                    if (viewFields == null)
                        return null;
                    var result = {};
                    var arr = viewFields;
                    for (var i = 0; i < arr.length; ++i) {
                        var obj = arr[i];
                        //for (var prop in arr[i]) {
                        //    obj[prop] = arr[i][prop];
                        //}
                        result[arr[i]["FieldName"]] = obj;
                    }
                    return result;
                };
                this.addPropertiesToFields = (viewFields, arrObjectSecurity) => {
                    if (viewFields == null)
                        return null;
                    var result = {};
                    var arr = viewFields;
                    for (var i = 0; i < arr.length; ++i) {
                        var obj = arr[i];
                        var securityId = this.getSecurity(obj['ControlId'], arrObjectSecurity);
                        obj.IsHidden = obj.IsHidden || (securityId === this.objectSecurity.hiddenId);
                        obj.IsReadOnly = obj.IsReadOnly || (securityId === this.objectSecurity.readonlyId);
                    }
                    return arr;
                };
                // apply securiy on controls
                this.getSecurity = (controlId, arrSecurity) => {
                    var arrSec = arrSecurity;
                    var myObjects = this.filter(arrSec, { ObjectId: controlId });
                    if (myObjects.length > 0)
                        return myObjects[0]["ObjectSecurityId"];
                    else
                        return this.objectSecurity.showId;
                };
            }
        }
        Forms.BaseReportSetup = BaseReportSetup;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        //export interface ISelectedViewSetup {
        //    viewSetup: Models.SystemFormView;
        //    viewFields: Models.SystemFormViewField[];
        //}
        class CancelEventArgs {
            constructor(data, cancel) {
                this.data = data;
                this.cancel = cancel;
            }
        }
        Forms.CancelEventArgs = CancelEventArgs;
        class CancelEventData {
            constructor() {
                this.handlers = [];
                this.expose = () => {
                    return this;
                };
            }
            addHandler(handler) {
                this.handlers.push(handler);
            }
            RemoveHandler(handler) {
                this.handlers = this.handlers.filter(h => h !== handler);
            }
            trigger(e) {
                if (this.handlers.length > 0)
                    this.handlers.slice(0).forEach(h => h(e));
            }
        }
        Forms.CancelEventData = CancelEventData;
        class EventArgs {
            constructor(data) {
                this.data = data;
            }
        }
        Forms.EventArgs = EventArgs;
        class EventData {
            constructor() {
                this.handlers = [];
                this.expose = () => {
                    return this;
                };
            }
            addHandler(handler) {
                this.handlers.push(handler);
            }
            RemoveHandler(handler) {
                this.handlers = this.handlers.filter(h => h !== handler);
            }
            trigger(e) {
                if (this.handlers.length > 0)
                    this.handlers.slice(0).forEach(h => h(e));
            }
        }
        Forms.EventData = EventData;
        class BaseFormManager {
            constructor(translator, dbManager, formId) {
                this.translator = translator;
                this.dbManager = dbManager;
                //Events
                this.onAdding = new CancelEventData();
                this.onUpdating = new CancelEventData();
                this.onDeleting = new CancelEventData();
                this.onAdded = new EventData();
                this.onUpdated = new EventData();
                this.onDeleted = new EventData();
                this.onEditClicked = new EventData();
                this.onCreateNewClicked = new EventData();
                //===============
                this.onSelectClicked = new EventData();
                this.displayCreateNewTemplate = false;
                this.displayEditTemplate = false;
                this.displayDetailsTemplate = false;
                this.dataList = [];
                this.dataItem = {};
                this.selectedViewSetup = new HCMS.Models.CreateView();
                this.translateText = (text, viewId, param) => {
                    return this.translator.Translate(text, viewId, param);
                };
                //Click Edit Link 
                this.editClicked = (item) => {
                    var currentObject = this;
                    currentObject.selectedViewSetup = currentObject.FormSetup.MyForm.EditView;
                    var id = currentObject.GetIdValue(item);
                    currentObject.FormData.GetDataItem(id, (data) => {
                        currentObject.dataItem = data;
                        currentObject.DisplayEditView();
                        //onEditClicked
                        var e = new EventArgs(data);
                        currentObject.onEditClicked.trigger(e);
                        //currentObject.generalFormService.setSelectedParent(generalForm.getKeyField(), generalForm.dataItem);
                    });
                };
                this.deleteClicked = (item) => {
                    //onDeleting
                    var cancel = false;
                    var cancelE = new CancelEventArgs(item, cancel);
                    this.onDeleting.trigger(cancelE);
                    if (cancelE.cancel == true)
                        return;
                    //----
                    //var currentObject = this;
                    this.selectedViewSetup = this.FormSetup.MyForm.EditView;
                    var id = this.GetIdValue(item);
                    var currentEditId = this.GetIdValue(this.dataItem);
                    this.FormData.DeleteData(id, item, () => {
                        if (currentEditId === id) {
                            this.DisplayIndexView();
                        }
                        //onDeleted
                        var e = new EventArgs(item);
                        this.onDeleted.trigger(e);
                        //currentObject.getDataList();
                    });
                };
                this.selectClicked = (item) => {
                    var currentObject = this;
                    currentObject.selectedViewSetup = currentObject.FormSetup.MyForm.EditView;
                    var id = currentObject.GetIdValue(item);
                    currentObject.FormData.GetDataItem(id, function (data) {
                        currentObject.dataItem = data;
                        currentObject.DisplayEditView();
                        //onSelectClicked
                        var e = new EventArgs(data);
                        currentObject.onSelectClicked.trigger(e);
                    });
                };
                this.saveItem = (valid) => {
                    this.FormData.dataItem = this.dataItem;
                    if (this.displayCreateNewTemplate === true) {
                        //onAdding
                        var cancel = false;
                        var cancelE = new CancelEventArgs(this.dataItem, cancel);
                        this.onAdding.trigger(cancelE);
                        if (cancelE.cancel == true)
                            return;
                        //----
                        this.FormData.AddData(valid, (data) => {
                            //this.FormData.GetDataList((data) => {
                            //    this.dataList = data;
                            //onAdded
                            var e = new EventArgs(data);
                            this.onAdded.trigger(e);
                            //});
                        });
                    }
                    else {
                        //onUpdating
                        var cancel = false;
                        var cancelE = new CancelEventArgs(this.dataItem, cancel);
                        this.onUpdating.trigger(cancelE);
                        if (cancelE.cancel == true)
                            return;
                        //----
                        var id = this.GetIdValue(this.dataItem);
                        this.FormData.UpdateData(valid, id, () => {
                            //this.FormData.GetDataList((data) => {
                            //    this.dataList = data;
                            //onUpdated
                            var e = new EventArgs(this.dataItem);
                            this.onUpdated.trigger(e);
                            //});
                        });
                    }
                };
                //set login Info
                var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (currentInfo == null) {
                //    currentInfo = new DataAccess.CurrentLoginInfo(dbManager);
                //    var currentUser = angular.fromJson(sessionStorage['user']);
                //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                //}
                this.smartAlert = new HCMS.Controls.SmartAlert();
                //set parameters
                this.formId = formId; //$stateParams["formId"];
                //this.apiController = $stateParams["apiController"];
                this.selectedViewSetup.ViewId = 0;
                this.FormSetup = new Forms.BaseFormSetup(translator, dbManager, currentInfo.User.UserId, this.formId);
                this.grid = this.FormSetup.MyForm.IndexView.GridSetup.MyGrid;
            }
            get OnAdding() { return this.onAdding.expose(); }
            get OnUpdating() { return this.onUpdating.expose(); }
            get OnDeleting() { return this.onDeleting.expose(); }
            get OnAdded() { return this.onAdded.expose(); }
            get OnUpdated() { return this.onUpdated.expose(); }
            get OnDeleted() { return this.onDeleted.expose(); }
            get OnEditClicked() { return this.onEditClicked.expose(); }
            get OnCreateNewClicked() { return this.onCreateNewClicked.expose(); }
            get OnSelectClicked() { return this.onSelectClicked.expose(); }
            getIdFieldName(viewFields) {
                //set primaryField to gridOptions Object to access in every row
                for (var prop in viewFields) {
                    if (viewFields[prop].IsPrimary === true) {
                        return viewFields[prop].FieldName;
                    }
                }
                return '';
            }
            GetIdValue(rowData, view) {
                if (view == null) {
                    view = this.selectedViewSetup;
                }
                return rowData[this.getIdFieldName(view.ViewFields)];
            }
            //Click CreateNew Link
            DisplayAddView(callback) {
                this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                this.displayCreateNewTemplate = true;
                this.displayEditTemplate = false;
                this.displayDetailsTemplate = false;
                this.FormData.GetDataItem("0", (data) => {
                    this.dataItem = data;
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, (data) => {
                                this.dataItem[codeField] = data;
                                if (angular.isDefined(callback) && callback != null) {
                                    callback();
                                }
                            });
                        }
                    }
                    else {
                        if (angular.isDefined(callback) && callback != null) {
                            callback();
                        }
                    }
                    //onCreateNewClicked
                    var e = new EventArgs(data);
                    this.onCreateNewClicked.trigger(e);
                    //currentObject.generalFormService.setSelectedParent(generalForm.getKeyField(), generalForm.dataItem);
                });
            }
            ;
            //Click Edit Link 
            DisplayEditView(callback) {
                this.selectedViewSetup = this.FormSetup.MyForm.EditView;
                this.displayCreateNewTemplate = false;
                this.displayEditTemplate = true;
                this.displayDetailsTemplate = false;
                if (angular.isDefined(callback) && callback != null) {
                    callback();
                }
            }
            ;
            //Click Details Link 
            DisplayDetailsView(callback) {
                this.selectedViewSetup = this.FormSetup.MyForm.DetailsView;
                this.displayCreateNewTemplate = false;
                this.displayEditTemplate = false;
                this.displayDetailsTemplate = true;
                if (angular.isDefined(callback) && callback != null) {
                    callback();
                }
            }
            ;
            //Click Index Link 
            DisplayIndexView(callback) {
                this.displayCreateNewTemplate = false;
                this.displayEditTemplate = false;
                if (angular.isDefined(callback) && callback != null) {
                    callback();
                }
            }
            ;
        }
        Forms.BaseFormManager = BaseFormManager;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class GeneralFormSetup extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            if (this.FormSetup.MyForm.HideViewAfterSave) {
                                this.indexItemView();
                            }
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            if (this.FormSetup.MyForm.HideViewAfterSave) {
                                this.indexItemView();
                            }
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.GeneralFormSetup = GeneralFormSetup;
        //hcmsForms.controller('generalFormSetupController', GeneralFormSetup);
        Forms.hcmsForms.controller('generalFormSetupController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new GeneralFormSetup(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class BaseSubFormManager extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope.formId);
                this.onSubFormLoaded = new Forms.EventData();
                this.getDataByParent = (callback) => {
                    if (this.GetDataByParentId !== null) {
                        this.GetDataByParentId(callback);
                    }
                };
                this.beforeAdd = (e) => {
                    this.dataItem[this.parentIdFieldName] = this.parentItem[this.parentIdFieldName];
                };
                this.scope = scope;
                this.parentIdFieldName = scope.parentIdFieldName;
                this.parentItem = scope.parentItem;
                //this.loadData();
                this.FormSetup.LoadForm((form) => __awaiter(this, void 0, void 0, function* () {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    yield this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    //this.GetDataByParentId();
                    this.getDataByParent();
                    setTimeout(() => {
                        var e = new Forms.EventArgs(form);
                        this.onSubFormLoaded.trigger(e);
                    }, 500);
                }));
                this.scope.$watch(() => this.scope.parentItem[this.scope.parentIdFieldName], (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentItem[this.scope.parentIdFieldName] = newValue;
                        this.dataItem = {};
                        this.dataList = [];
                        if (this.GetDataByParentId !== null) {
                            this.GetDataByParentId();
                        }
                    }
                });
                this.scope.$watch(() => this.scope.parentIdFieldName, (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentIdFieldName = newValue;
                    }
                });
                this.OnAdding.addHandler(this.beforeAdd);
                this.OnAdded.addHandler(() => {
                    this.GetDataByParentId((data) => {
                        if (this.FormSetup.MyForm.HideViewAfterSave) {
                            this.indexItemView();
                        }
                    });
                });
                this.OnUpdated.addHandler(() => {
                    this.GetDataByParentId((data) => {
                        if (this.FormSetup.MyForm.HideViewAfterSave) {
                            this.indexItemView();
                        }
                    });
                });
                this.OnDeleted.addHandler(() => {
                    this.GetDataByParentId();
                });
            }
            get OnSubFormLoaded() { return this.onSubFormLoaded.expose(); }
            addItemView(callBack) {
                this.DisplayAddView(callBack);
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
            indexItemView() {
                this.DisplayIndexView();
            }
        }
        Forms.BaseSubFormManager = BaseSubFormManager;
        //hcmsForms.controller('profileContactsController', profileContactsController);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class GeneralSubFormController extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var parentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(parentId))
                        parentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&parentId=' + parentId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&tableName=" + this.FormSetup.MyForm.EditView.TableName;
                    queryString += "&joinField=" + currentObject.parentIdFieldName;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.GeneralSubFormController = GeneralSubFormController;
        // hcmsForms.controller('generalSubFormController', GeneralSubFormController);
        Forms.hcmsForms.controller('generalSubFormController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new GeneralSubFormController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        class Form {
            constructor(translator, dbManager, userId, formId) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.userId = userId;
                this.FormId = 0;
                this.ParentFormId = 0;
                this.FormOrder = 0;
                this.FormName = "";
                this.FormName_ = "";
                this.FormController = "";
                this.JsController = "";
                this.JsControllerAs = "";
                this.StartView = "";
                this.CodeSetupId = 0;
                this.HideViewAfterSave = false;
                this.DontAutoCodeWhenSave = false;
                this.Disabled = false;
                this.StartDate = undefined;
                this.EndDate = undefined;
                this.IndexView = undefined;
                this.CreateView = undefined;
                this.EditView = undefined;
                this.DetailsView = undefined;
                this.SubForms = [];
                this.FormId = formId;
                this.IndexView = new Models.IndexView(this.translator, dbManager, userId, formId);
                this.CreateView = new Models.CreateView(this.translator, dbManager, userId, formId);
                this.EditView = new Models.EditView(this.translator, dbManager, userId, formId);
                this.DetailsView = new Models.DetailsView(this.translator, dbManager, userId, formId);
            }
            //public LoadA() {
            //    var currentForm = this;
            //    var queryString = '?formId=' + this.FormId + '&userId=' + this.userId;
            //    return new Promise<Form>((resolve, reject) => {
            //        this.dbManager.Get('GeneralFormSetup', 'GetFormSetup', queryString, function (result) {
            //            angular.forEach(result.data, (value, key) => {
            //                if (currentForm.hasOwnProperty(key)) {
            //                    currentForm[key] = result.data[key];
            //                }
            //            });
            //            resolve(currentForm);
            //        }, function (err) {
            //            reject(err);
            //        });
            //    });
            //}
            Load(callback) {
                var currentForm = this;
                if (currentForm.FormId == 0) {
                    return;
                }
                var queryString = '?formId=' + currentForm.FormId + '&userId=' + currentForm.userId;
                this.dbManager.Get('GeneralFormSetup', 'GetFormSetup', queryString, function (result) {
                    angular.forEach(result.data, (value, key) => {
                        if (currentForm.hasOwnProperty(key)) {
                            currentForm[key] = result.data[key];
                        }
                    });
                    //currentForm.LoadSubForms(callback);
                    //currentForm.CopyFrom(result.data);
                    if (callback != null) {
                        callback(currentForm);
                    }
                });
            }
            LoadSubForms(callback) {
                var currentForm = this;
                if (HCMS.Validations.CommonValidations.isNull(currentForm.FormId) || currentForm.FormId == 0) {
                    return;
                }
                var queryString = '?formId=' + currentForm.FormId + '&userId=' + currentForm.userId;
                this.dbManager.Get('GeneralFormSetup', 'GetSubForms', queryString, function (result) {
                    let forms = result.data;
                    // iterate forms
                    for (let entry of forms) {
                        let form = new Form(currentForm.translator, currentForm.dbManager, currentForm.userId, currentForm.FormId);
                        //iterate form properties
                        angular.forEach(entry, (value, key) => {
                            if (form.hasOwnProperty(key)) {
                                form[key] = entry[key];
                            }
                        });
                        currentForm.SubForms.push(form);
                    }
                });
                if (callback != null) {
                    callback(currentForm);
                }
            }
        }
        Models.Form = Form;
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        class GridColumnOption {
            constructor() {
                this.ViewId = 0;
                this.FieldId = 0;
                this.ColumnOptionId = 0;
                this.ColumnOptionName = "";
                this.ColumnOptionValue = "";
            }
        }
        Models.GridColumnOption = GridColumnOption;
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        class GridOption {
            constructor() {
                this.ViewId = 0;
                this.GridOptionId = 0;
                this.GridOptionName = "";
                this.GridOptionValue = "";
                this.GridOptionDefaultValue = "";
            }
        }
        Models.GridOption = GridOption;
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        class SystemFormView {
            constructor(translator, dbManager, userId, formId, viewTypeId) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.userId = userId;
                this.ViewId = 0;
                this.FormId = 0;
                this.ViewTypeId = Models.ViewType.Index;
                this.SelectButton = false;
                this.CreateButton = false;
                this.EditButton = false;
                this.SaveButton = false;
                this.DeleteButton = false;
                this.CancelButton = false;
                this.TableName = "";
                this.TableCodeField = "";
                this.SelectQuery = "";
                this.FromQuery = "";
                this.WhereQuery = "";
                this.OrderByQuery = "";
                this.GroupByQuery = "";
                this.StartDate = null;
                this.EndDate = null;
                this.Disabled = false;
                this.EditLink = "";
                this.DeleteLink = "";
                this.CreateLink = "";
                this._viewFields = [];
                this.ViewFieldsObject = {};
                this.addViewField = (viewField) => {
                    this._viewFields.push(viewField);
                    this.ViewFieldsObject[viewField.FieldName] = viewField;
                };
                this.ConvertFieldsAsObjects = (viewFields) => {
                    if (viewFields == null)
                        return null;
                    var result = {};
                    var arr = viewFields;
                    for (var i = 0; i < arr.length; ++i) {
                        var obj = arr[i];
                        //for (var prop in arr[i]) {
                        //    obj[prop] = arr[i][prop];
                        //}
                        result[arr[i].FieldName] = obj;
                    }
                    return result;
                };
                this.Load = () => __awaiter(this, void 0, void 0, function* () {
                    if (this.FormId == 0) {
                        return;
                    }
                    var queryString = '?formId=' + this.FormId + '&viewTypeId=' + this.ViewTypeId + '&userId=' + this.userId;
                    let result = yield this.dbManager.GetPromise('GeneralFormSetup', 'GetViewSetup', queryString);
                    HCMS.DataAccess.Utility.CopyObject(this, result.data);
                    yield this.loadFields(this.ViewId);
                });
                this.loadFields = (viewId) => __awaiter(this, void 0, void 0, function* () {
                    if (viewId == 0)
                        return;
                    // let fields: SystemFormViewField[]=[];
                    var queryString = '?viewId=' + viewId + '&userId=' + this.userId;
                    let result = yield this.dbManager.GetPromise('GeneralFormSetup', 'GetViewFields', queryString);
                    if (result.data != null) {
                        for (var i = 0; i < result.data.length; ++i) {
                            if (result.data[i] !== undefined) {
                                var field = new Models.SystemFormViewField();
                                HCMS.DataAccess.Utility.CopyObject(field, result.data[i]);
                                this.addViewField(field);
                            }
                        }
                    }
                    if (this.CallbackOnLoad != null) {
                        this.CallbackOnLoad(this);
                    }
                });
                this.FormId = formId;
                this.ViewTypeId = viewTypeId;
            }
            get ViewFields() {
                return this._viewFields;
            }
            GetNewCode(viewId, callback) {
                if (viewId == 0)
                    return;
                var currentObject = this;
                var queryString = '?viewId=' + viewId;
                currentObject.dbManager.Get('CodeSetup', "GetNewCode", queryString, function (response) {
                    if (callback != null) {
                        callback(response.data);
                    }
                }, null);
            }
            ;
        }
        Models.SystemFormView = SystemFormView;
        class IndexView extends SystemFormView {
            constructor(translator, dbManager, userId, formId) {
                super(translator, dbManager, userId, formId, Models.ViewType.Index);
                this.GridSetup = new HCMS.Forms.BaseGridSetup(translator, dbManager);
            }
            CallbackOnLoad(view) {
                var _view = view;
                this.GridSetup.LoadGridOptions(_view);
                this.GridSetup.LoadColumnOptions(view, () => {
                    this.GridSetup.SetColumnDefinitions();
                });
            }
        }
        Models.IndexView = IndexView;
        class CreateView extends SystemFormView {
            constructor(translator, dbManager, userId, formId) {
                super(translator, dbManager, userId, formId, Models.ViewType.Edit);
            }
            CallbackOnLoad(view) {
            }
        }
        Models.CreateView = CreateView;
        class EditView extends SystemFormView {
            constructor(translator, dbManager, userId, formId) {
                super(translator, dbManager, userId, formId, Models.ViewType.Edit);
            }
            CallbackOnLoad(view) {
            }
        }
        Models.EditView = EditView;
        class DetailsView extends SystemFormView {
            constructor(translator, dbManager, userId, formId) {
                super(translator, dbManager, userId, formId, Models.ViewType.Details);
            }
            CallbackOnLoad(view) {
            }
        }
        Models.DetailsView = DetailsView;
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        class SystemFormViewField {
            constructor() {
                this.ViewFieldId = 0;
                this.ViewId = 0;
                this.FieldName = "";
                this.DataTypeName = "";
                this.ControlTypeName = "";
                this.IsPrimary = false;
                this.NumberMinValue = 0;
                this.NumberMaxValue = 0;
                this.MinLength = 0;
                this.MaxLength = 0;
                this.Pattern = "";
                this.Placeholder = "";
                this.DateMinValue = null;
                this.DateMaxValue = null;
                this.DefaultValue = "";
                this.IsRequired = false;
                this.FieldOrder = 0;
                this.IsHidden = false;
                this.DefaultDisplayText = "";
                this.IsReadOnly = false;
                this.IsIdentity = false;
                this.SelectQuery = "";
                this.SelectApiUrl = "";
                this.SelectDisplayName = "";
                this.SelectDisplayName_ = "";
                this.SelectDisplayValue = "";
                this.SelectSearchFields = "";
                this.SelectHtmlData = "";
                this.TableSelect = "";
                this.TableFrom = "";
                this.TableWhere = "";
                this.TableGroupBy = "";
                this.TableOrderBy = "";
                this.DropDownId = 0;
                this.FilterField = "";
                this.FilterExpression = "";
            }
        }
        Models.SystemFormViewField = SystemFormViewField;
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Models;
    (function (Models) {
        let ViewType;
        (function (ViewType) {
            ViewType[ViewType["All"] = 0] = "All";
            ViewType[ViewType["Index"] = 1] = "Index";
            ViewType[ViewType["Details"] = 2] = "Details";
            ViewType[ViewType["Edit"] = 3] = "Edit";
        })(ViewType = Models.ViewType || (Models.ViewType = {}));
    })(Models = HCMS.Models || (HCMS.Models = {}));
})(HCMS || (HCMS = {}));
/// <reference path="commonform.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class BaseFormData extends Forms.CommonForm {
            constructor(translateService, dbManager, form) {
                super(translateService);
                this.dbManager = dbManager;
                this.dataItem = {};
                this.dataList = [];
                //private getIdFieldName(viewFields: Models.SystemFormViewField[]): string {
                //    //set primaryField to gridOptions Object to access in every row
                //    for (var prop in viewFields) {
                //        if (viewFields[prop].IsPrimary === true) {
                //            return viewFields[prop].FieldName;
                //        }
                //    }
                //    return '';
                //}
                //private getIdValue(viewFields: Models.SystemFormViewField[], rowData: any): any {
                //    return rowData[this.getIdFieldName(viewFields)];
                //}
                this.MessageConfirmation = (data, successMessge) => {
                    var systemResult = data.SystemMessage;
                    //if (!HCMS.Validations.CommonValidations.isNull(data) && HCMS.Validations.CommonValidations.isNull(systemResult)) {
                    //    this.smartAlert.Error(data);
                    //}else
                    var result = true;
                    if (!HCMS.Validations.CommonValidations.isNull(systemResult)
                        && data.IsErrorMessage == false) {
                        this.smartAlert.Alert(successMessge);
                        result = true;
                    }
                    else {
                        if (systemResult.IsPreventMessage == true) {
                            this.smartAlert.Error(systemResult.SystemMessage.MessageComment, systemResult.SystemMessage.MessageCode); // Error Alert
                            result = false;
                        }
                        else {
                            this.smartAlert.Warning(systemResult.SystemMessage.MessageComment, systemResult.SystemMessage.MessageCode); // Warning Alert
                            this.smartAlert.Alert(successMessge);
                            result = true;
                        }
                    }
                    return result;
                };
                this.UpdateData = (valid, id, callback) => {
                    if (valid == false)
                        return;
                    if (this.MyForm.FormId == 0) {
                        return;
                    }
                    //var id = currentObject.getIdValue(viewFields, currentObject.dataItem);
                    var queryString = this.getCommonParams() + '&id=' + id;
                    this.dbManager.Put(this.MyForm.FormController, 'PutData', queryString, this.dataItem, (result) => {
                        //vm.dataItem = {};
                        //currentObject.dataItem = {};
                        var isValid = this.MessageConfirmation(result.data, "Saved Successfully");
                        if (isValid) {
                            if (angular.isDefined(callback) && callback != null) {
                                callback(result.data);
                            }
                        }
                    }, (result) => {
                        throw result;
                    });
                };
                //add New Data
                this.AddData = (valid, callback) => {
                    if (valid == false)
                        return;
                    if (this.MyForm.FormId == 0) {
                        return;
                    }
                    var queryString = this.getCommonParams();
                    this.dbManager.Post(this.MyForm.FormController, 'PostData', queryString, (this.dataItem), (result) => {
                        //currentObject.dataItem = {};
                        var isValid = this.MessageConfirmation(result.data, "Saved Successfully");
                        if (isValid) {
                            if (angular.isDefined(callback) && callback != null) {
                                callback(result.data);
                            }
                        }
                    }, (result) => {
                        throw result;
                    });
                };
                this.DeleteData = (id, item, callback) => {
                    this.smartAlert.Confirm("Are you sure you want to delete", "", () => {
                        var queryString = this.getCommonParams() + '&id=' + id;
                        this.dbManager.Delete(this.MyForm.FormController, 'DeleteData', queryString, (result) => {
                            this.dataList.splice(this.dataList.indexOf(item), 1);
                            var isValid = this.MessageConfirmation(result.data, "Record has been deleted successfully");
                            if (isValid) {
                                if (angular.isDefined(callback) && callback != null) {
                                    callback(result.data);
                                }
                            }
                        }, (result) => {
                            throw result;
                        });
                    });
                };
                this.smartAlert = new HCMS.Controls.SmartAlert();
                this.MyForm = form;
            }
            getCommonParams() {
                return '?formId=' + this.MyForm.FormId + '&userId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId + '&langId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
            }
            ;
            GetDataItem(id, callback) {
                var currentObject = this;
                var queryString = currentObject.getCommonParams() + '&id=' + id;
                this.dbManager.Get(currentObject.MyForm.FormController, 'GetDetails', queryString, (response) => {
                    currentObject.dataItem = response.data; // vm.formatItemData(response.data);
                    if (!HCMS.DataAccess.Utility.IsNull(callback)) {
                        callback(response.data);
                    }
                }, null);
            }
            ;
            GetDataList(callback) {
                var currentObject = this;
                if (currentObject.MyForm.FormId == 0) {
                    return;
                }
                var queryString = currentObject.getCommonParams();
                this.dbManager.Get(currentObject.MyForm.FormController, 'GetAll', queryString, (response) => {
                    currentObject.dataList = response.data; // vm.formatItemData(response.data);
                    if (!HCMS.DataAccess.Utility.IsNull(callback)) {
                        callback(response.data);
                    }
                }, null);
            }
            ;
        }
        Forms.BaseFormData = BaseFormData;
        //hcmsForms.controller('baseFormController', BaseFormSetup);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="commonform.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class BaseFormSetup extends Forms.CommonForm {
            constructor(translator, dbManager, userId, formId) {
                super(translator);
                this.dbManager = dbManager;
                this.formId = formId;
                this.LoadForm = (callback) => {
                    this.MyForm.Load(callback);
                };
                this.LoadSubForms = (callback) => {
                    this.MyForm.LoadSubForms(callback);
                };
                this.MyForm = new HCMS.Models.Form(translator, this.dbManager, userId, formId);
            }
        }
        Forms.BaseFormSetup = BaseFormSetup;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class BaseGrid {
        }
        Forms.BaseGrid = BaseGrid;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class Grid {
            constructor() {
                this.name = "listGrid";
                this.gridOptions = {};
                this.gridColumnDefs = [];
                //vm.grid = { name: 'listGrid', gridOptions: { enableRtl: appService.getDirection() === 'rtl' ? true : false }, gridColumnDefs: [] };
            }
        }
        Forms.Grid = Grid;
        class BaseGridSetup {
            constructor(translator, dbManager) {
                this.translator = translator;
                this.dbManager = dbManager;
                this.onColumnOptionsLoaded = new Forms.EventData();
                this.onGridOptionsLoaded = new Forms.EventData();
                this.LoadColumnOptions = (view, callBack) => {
                    if (view.ViewId == 0)
                        return;
                    this.MyView = view;
                    var currentObject = this;
                    currentObject.defaultColumnOptions = [];
                    this.dbManager.Get('GeneralFormSetup', 'GetGridDefaultColumnsOptions', "", function (result) {
                        for (var i = 0; i < result.data.length; ++i) {
                            if (result.data[i] !== undefined) {
                                var option = new HCMS.Models.GridColumnOption();
                                HCMS.DataAccess.Utility.CopyObject(option, result.data[i]);
                                currentObject.defaultColumnOptions.push(option);
                            }
                        }
                        currentObject.LoadViewColumnOptions(callBack);
                    });
                };
                this.SetColumnDefinitions = () => {
                    //this.MyGrid.gridColumnDefs = [];
                    var defaultColumnDefs = this.getDefaultColumnDefs();
                    //add select Button
                    this.addSelectButton(this.MyGrid.gridColumnDefs);
                    //add edit Button
                    this.addEditButton(this.MyGrid.gridColumnDefs);
                    //add delete Button
                    this.addDeleteButton(this.MyGrid.gridColumnDefs);
                    if (this.MyView.ViewFields != null && this.MyView.ViewFields.length > 0) {
                        for (var item of this.MyView.ViewFields) {
                            var columnObj = jQuery.extend(true, {}, defaultColumnDefs);
                            if (!HCMS.DataAccess.Utility.IsNull(this.viewColumnOptions)) {
                                var gridColumnOptions = this.viewColumnOptions.filter(function (o) { return o.FieldId === item.ViewFieldId; });
                                for (var f = 0; f < gridColumnOptions.length; f++) {
                                    var optionResult = this.getRightValue(gridColumnOptions[f].ColumnOptionValue);
                                    columnObj[gridColumnOptions[f].ColumnOptionName] = optionResult;
                                }
                            }
                            columnObj.hide = item.IsHidden;
                            columnObj.controlTypeName = item.ControlTypeName;
                            //Set FieldName
                            columnObj.field = item.FieldName;
                            //set header Name
                            columnObj.headerName = (item.DefaultDisplayText == null) ? item.FieldName : item.DefaultDisplayText;
                            ;
                            //set Template
                            columnObj.template = this.getGridControlTemplate(columnObj);
                            columnObj.headerValueGetter = this.getHeaderName;
                            this.MyGrid.gridColumnDefs.push(columnObj);
                        }
                    }
                };
                //Select handler==   
                this.selectCell = (params) => {
                    //var selectCallback = params.api.gridCore.gridOptions.selectCallback;
                    var selectCallback = this.MyView.SelectCallback;
                    var elem = document.createElement("span");
                    //  elem.innerHTML = '<a href="#">{{"Select" | translate }}</a>';
                    elem.innerHTML = '<a class="btn btn-xs btn-primary"><span class="fa fa-hand-pointer-o center-block"></span></a>';
                    if (selectCallback) {
                        elem.addEventListener("click", function () { selectCallback(params.data); });
                    }
                    return elem;
                };
                //edit handler== 
                this.editCell = (params) => {
                    //var editCallback = params.api.gridCore.gridOptions.editCallback;
                    var editCallback = this.MyView.EditCallback;
                    var elem = document.createElement("span");
                    //elem.innerHTML = '<a href="#">{{"Edit" | translate }}</a>';
                    elem.innerHTML = '<a class="btn btn-xs btn-primary"><span class="fa fa-pencil center-block"></span></a>';
                    if (editCallback) {
                        elem.addEventListener("click", function () { editCallback(params.data); });
                    }
                    return elem;
                };
                //delete handler== 
                this.deleteCell = (params) => {
                    //var deleteCallback = params.api.gridCore.gridOptions.deleteCallback;
                    var deleteCallback = this.MyView.DeleteCallback;
                    var elem = document.createElement("span");
                    //elem.innerHTML = '<a href="#">{{"Delete" | translate }}</a>';
                    elem.innerHTML = '<a class="btn btn-xs btn-danger"><span class="fa fa-times center-block"></span></a>';
                    if (deleteCallback) {
                        elem.addEventListener("click", function () { deleteCallback(params.data); });
                    }
                    return elem;
                };
                //get column name used by ag-grid to render column header name
                this.getHeaderName = (params) => {
                    return this.translator.Translate(params.colDef.headerName);
                };
                this.getRightValue = function (value) {
                    var result = value;
                    switch (result) {
                        case "":
                            result = null;
                            break;
                        case "false":
                            result = false;
                            break;
                        case "true":
                            result = true;
                            break;
                        default:
                    }
                    return result;
                };
                this.getGridControlTemplate = function (gridColumn) {
                    var result = null;
                    switch (gridColumn.controlTypeName) {
                        case "":
                            result = null;
                            break;
                        case "check":
                        case "checkbox":
                            result = "<input type='checkbox' ng-model='data." + gridColumn.field + "' ng-disabled='" + !(gridColumn.editable) + "' />";
                            break;
                        case "datetime":
                        case "date":
                            result = "<p>{{data." + gridColumn.field + " | date:'dd/MM/yyyy'}}</p>";
                            break;
                        default:
                    }
                    return result;
                };
                this.MyGrid = new Grid();
                this.MyGrid.gridOptions["enableRtl"] = HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false;
                //this.LoadGridOptions();
            }
            get OnColumnOptionsLoaded() { return this.onColumnOptionsLoaded.expose(); }
            get OnGridOptionsLoaded() { return this.onGridOptionsLoaded.expose(); }
            LoadGridOptions(view, callbak) {
                if (view.ViewId == 0)
                    return;
                this.MyView = view;
                var currentObject = this;
                this.dbManager.Get('GeneralFormSetup', 'GetGridOptions', "", (result) => {
                    for (var i = 0; i < result.data.length; ++i) {
                        if (result.data[i] !== undefined) {
                            var option = new HCMS.Models.GridOption();
                            HCMS.DataAccess.Utility.CopyObject(option, result.data[i]);
                            currentObject.MyGrid.gridOptions[option.GridOptionName] = option.GridOptionDefaultValue;
                        }
                    }
                    this.LoadViewGridOptions(callbak);
                });
            }
            LoadViewGridOptions(callBack) {
                var currentObject = this;
                //currentObject.MyGrid.gridOptions['viewFields'] = view.ViewFields;
                var queryString = "?viewId=" + currentObject.MyView.ViewId;
                this.dbManager.Get('GeneralFormSetup', 'GetViewGridOptions', queryString, (result) => {
                    for (var i = 0; i < result.data.length; ++i) {
                        if (result.data[i] !== undefined) {
                            var option = new HCMS.Models.GridOption();
                            HCMS.DataAccess.Utility.CopyObject(option, result.data[i]);
                            currentObject.MyGrid.gridOptions[option.GridOptionName] = option.GridOptionValue;
                        }
                    }
                    //onGridOptionsLoaded
                    var e = new Forms.EventArgs(currentObject.MyGrid.gridOptions);
                    this.onGridOptionsLoaded.trigger(e);
                });
            }
            LoadViewColumnOptions(callBack) {
                var currentObject = this;
                if (currentObject.MyView.ViewId == 0)
                    return;
                currentObject.viewColumnOptions = [];
                var queryString = '?viewId=' + currentObject.MyView.ViewId;
                this.dbManager.Get('GeneralFormSetup', 'GetGridViewColumnsOptions', queryString, (result) => {
                    for (var i = 0; i < result.data.length; ++i) {
                        if (result.data[i] !== undefined) {
                            var option = new HCMS.Models.GridColumnOption();
                            HCMS.DataAccess.Utility.CopyObject(option, result.data[i]);
                            currentObject.viewColumnOptions.push(option);
                        }
                    }
                    if (callBack != null) {
                        callBack();
                    }
                    //onColumnOptionsLoaded
                    var e = new Forms.EventArgs(currentObject.viewColumnOptions);
                    this.onColumnOptionsLoaded.trigger(e);
                });
            }
            //Add select button
            addSelectButton(resultColumns) {
                var currentObject = this;
                if (this.MyView.SelectButton) {
                    resultColumns.push({ headerName: "", headerValueGetter: currentObject.getHeaderName, width: 50, cellRenderer: currentObject.selectCell, suppressMenu: true, suppressSorting: true, suppressSizeToFit: true });
                }
            }
            //Add edit button
            addEditButton(resultColumns) {
                var currentObject = this;
                if (this.MyView.EditButton) {
                    resultColumns.push({ headerName: "", headerValueGetter: currentObject.getHeaderName, width: 50, cellRenderer: currentObject.editCell, suppressMenu: true, suppressSorting: true, suppressSizeToFit: true });
                }
            }
            //Add delete button
            addDeleteButton(resultColumns) {
                var currentObject = this;
                if (this.MyView.DeleteButton) {
                    resultColumns.push({ headerName: "", headerValueGetter: currentObject.getHeaderName, width: 50, cellRenderer: currentObject.deleteCell, suppressMenu: true, suppressSorting: true, suppressSizeToFit: true });
                }
            }
            getDefaultColumnDefs() {
                var columnsDefs = {};
                for (var item of this.defaultColumnOptions) {
                    columnsDefs[item.ColumnOptionName] = item.ColumnOptionValue;
                }
                return columnsDefs;
            }
        }
        Forms.BaseGridSetup = BaseGridSetup;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../scripts/typings/angularjs/angular.d.ts" />
/// <reference path="../dataaccess/module.ts" />
/// <reference path="../dataaccess/startup/startup.ts" />
/// <reference path="../dataaccess/startup/company.ts" />
/// <reference path="../dataaccess/startup/currentlogininfo.ts" />
/// <reference path="../dataaccess/startup/databaseprofile.ts" />
/// <reference path="../dataaccess/startup/language.ts" />
/// <reference path="../dataaccess/startup/startup.ts" />
/// <reference path="../dataaccess/startup/user.ts" />
/// <reference path="../dataaccess/startup/utility.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EntityService {
            constructor(apiControllerName) {
                this.apiControllerName = apiControllerName;
                this.Add = (queryString, entity) => {
                    return this.dbManager.PostPromise(this.apiControllerName, "Post", queryString, entity);
                };
                this.Update = (queryString, entity) => {
                    return this.dbManager.PutPromise(this.apiControllerName, "Put", queryString, entity);
                };
                this.Delete = (queryString, entity) => {
                    return this.dbManager.PutPromise(this.apiControllerName, "Delete", queryString, entity);
                };
                this.Get = (queryString) => {
                    return this.dbManager.GetPromise(this.apiControllerName, "GetById", queryString);
                };
                this.GetAll = (queryString) => {
                    return this.dbManager.GetPromise(this.apiControllerName, "GetAll", queryString);
                };
                this.dbManager = new HCMS.DataAccess.DataManagerService();
            }
        }
        Forms.EntityService = EntityService;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ExcelHeader extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                super(translateService, dbManager, scope.tab.MenuItem.FormId);
                this.scope = scope;
                this.$onInit = () => { };
                this.xlsOptions = { data: [], fileName: "", onChanged: null, onClick: null };
                this.RefNo = 0;
                this.FileName = "";
                this.LoadFromExcel = () => __awaiter(this, void 0, void 0, function* () {
                    //this.dbManager.Post(this.FormSetup.MyForm.FormController, "GetList", "", data, (result) => {
                    //    this.dataList = result.data;
                    //}, (result) => {
                    //    this.smartALert.Error(result.data);
                    //})
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    //this.FileName = (this.xlsOptions.fileName == null || this.xlsOptions.fileName == "" ? "text" : this.xlsOptions.fileName);
                    this.FileName = this.xlsOptions.fileName;
                    var data = this.xlsOptions.data;
                    if (this.FileName == null || this.FileName == "" || data == null || data.length <= 0) {
                        this.smartALert.Warning("Please select file for upload.");
                        return false;
                    }
                    var queryString = "?refNo=" + this.RefNo + "&fileName=" + this.FileName;
                    //if (data == null || data.length <= 0) return false;
                    var postResult = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "SaveList", queryString, data);
                    this.getList();
                });
                this.clearSelectedFile = (e) => {
                    e.wrap('<form>').closest('form').get(0).reset();
                    e.unwrap();
                    //// Prevent form submission
                    //e.stopPropagation();
                    //e.preventDefault();
                };
                this.getList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetList", queryString);
                    this.dataList = result.data;
                });
                this.createNew = () => __awaiter(this, void 0, void 0, function* () {
                    this.dataList = [];
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetMaxRefNo", "");
                    this.RefNo = result.data;
                });
                this.loadByRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    this.getList();
                });
                this.postItemList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ RefId }) => RefId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "PostList", queryString, selectedIds);
                        //var result2 = await this.getList();
                        this.smartALert.Alert("Records has been posted successfully");
                        this.getList();
                    }
                    else {
                        this.smartALert.Warning("You must select record(s) to post.");
                    }
                });
                this.unPostItemList = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        let selectedIds = selectedRows.map(({ RefId }) => RefId);
                        if (selectedRows.length > 0) {
                            var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "UnPostList", queryString, selectedIds);
                            //var result2 = await this.getList();
                            this.smartALert.Alert("Records has been posted successfully");
                            this.getList();
                        }
                        else {
                            this.smartALert.Warning("You must select record(s) to unpost.");
                        }
                        //for (let entry of selectedRows) {
                        //    var index = this.dataList.indexOf(entry);
                        //    this.dataList.splice(index, 1);
                        //}
                    }));
                });
                //private saveItemList = (valid) => {
                //    if (this.xlsOptions.data !== null) {
                //        // var data = JSON.parse(this.xlsOptions.data.toString());
                //        var data = this.dataList;// JSON.stringify(this.xlsOptions.data);
                //        this.dbManager.Post(this.FormSetup.MyForm.FormController, "SaveList", "", data, (result) => {
                //            this.smartALert.Alert("Saved Successfully");
                //        }, (result) => {
                //            this.smartALert.Error(result.data);
                //        })
                //    }
                //}
                this.deleteClicked = (item) => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var index = this.dataList.indexOf(item);
                        this.dataList.splice(index, 1);
                    });
                };
                this.deleteSelectedRows = () => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        for (let entry of selectedRows) {
                            var index = this.dataList.indexOf(entry);
                            this.dataList.splice(index, 1);
                        }
                    });
                };
                this.smartALert = new HCMS.Controls.SmartAlert();
                this.FormSetup.LoadForm((form) => {
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.createNew();
                });
                this.xlsOptions.onClick = this.clearSelectedFile;
                //this.xlsOptions.onChanged = this.emportDataChanged;
            }
            ;
        }
        Forms.ExcelHeader = ExcelHeader;
        Forms.hcmsForms.controller('uploadExcelHeader', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ExcelHeader(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ExcelHeaderService {
            constructor(dbManager) {
                this.$onInit = () => { };
                this.RefNo = 0;
                this.FileName = "";
            }
            ;
        }
        Forms.ExcelHeaderService = ExcelHeaderService;
        Forms.hcmsForms.controller('excelHeaderService', ['dataManagerService', function (dataManagerService) {
                return new ExcelHeaderService(dataManagerService);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LogOut {
            //public selectedProfile: SelectedProfile;
            constructor(state) {
                this.state = state;
                this.$onInit = () => { };
                this.logout = () => {
                    HCMS.DataAccess.StartUp.SetCurrentLoginInfo(null);
                    sessionStorage.clear();
                    localStorage.clear();
                    var $body = $('body');
                    $body.removeClass("smart-rtl");
                    //window['$stateProviderRef']. 
                    this.state.go('login');
                };
            }
        }
        Forms.LogOut = LogOut;
        Forms.hcmsForms.controller('logoutController', ['$state', function ($state) {
                return new LogOut($state);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class GeneralReportForm extends Forms.BaseReportSetup {
            constructor(sce, filter, translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(filter, translateService, dbManager, $scope.tab.MenuItem.ReportId);
                this.sce = sce;
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.iFrameSource = "";
                this.activeTabIndex = 0;
                this.activaTab = (index) => {
                    $('.nav-tabs a:first').tab('show');
                };
                this.reportTabClick = (index) => {
                    $('.nav-tabs a[href="#general-report-tab-r' + index + '"]').tab('show');
                };
                this.resizeIframe = (iframe) => {
                    var iFrameHeight = iframe.contentWindow.document.body.scrollHeight + 'px';
                    var iFrameWidth = '100%';
                    iframe.css('width', iFrameWidth);
                    iframe.css('height', iFrameHeight);
                };
                this.copyOptions = (source, operator) => {
                    var options;
                    options = HCMS.DataAccess.Utility.CopyData(source);
                    options.IsReadOnly = (operator !== "BETWEEN");
                    return options;
                };
                this.print = (valid) => {
                    if (valid == false)
                        return;
                    this.reportSetup.FilterSelect = this.getSelectedGroupBy();
                    this.reportSetup.FilterOrderBy = this.getSelectedOrderBy();
                    var data = this.reportSetup; //{ report: generalReport.reportSetup.report, reportTabs: generalReport.reportSetup.reportTabs }
                    var queryString = this.getCommonParams();
                    this.dbManager.Post("ReportForm", "Print", queryString, data, (response) => {
                        var result = response.data;
                        if (result.Success == true) {
                            ////result.ReportViewerId
                            //window.open("/Reports/RDLViewer.aspx?ViewerId=" + result.ReportViewerId, "_blank");
                            var reportsUrl = HCMS.DataAccess.StartUp.reportsUrl + "/RDLViewer.aspx?ViewerId=" + result.ReportViewerId;
                            this.iFrameSource = this.sce.trustAsResourceUrl(reportsUrl);
                            window.open(reportsUrl, "_blank");
                        }
                    }, (result) => {
                        this.smartAlert.Alert(result);
                    });
                };
                this.getSelectedGroupBy = () => {
                    var str = "";
                    var data = this.selectedGroupByObject;
                    var count = 1;
                    angular.forEach(data, (value, key) => {
                        if (count <= 7) {
                            //var result = $filter('filter')(generalReport.selectedGroupByItems, { ReportOrderById: value.id })[0];
                            var result = $.grep(this.selectedGroupByItems, function (e) { return e.ReportGroupById == value.id; })[0];
                            str += "," + result.ValueField + " as GroupLevel" + count;
                            str += "," + result.DescriptionField + " as GroupName" + count;
                        }
                        count += 1;
                    });
                    for (var i = count; i <= 7; i++) {
                        str += ",0 as GroupLevel" + i;
                        str += ",'' as GroupName" + i;
                    }
                    return str;
                };
                this.addGroupByItem = (item) => {
                    this.selectedGroupByItems.push(item);
                    $('#reportGroupByDiv ol').trigger('change');
                    var index = this.reportSetup.ReportGroupBy.indexOf(item);
                    this.reportSetup.ReportGroupBy.splice(index, 1);
                };
                this.removeGroupByItem = (item) => {
                    this.reportSetup.ReportGroupBy.push(item);
                    var index = this.selectedGroupByItems.indexOf(item);
                    this.selectedGroupByItems.splice(index, 1);
                    $('#reportGroupByDiv ol').trigger('change');
                };
                this.getSelectedOrderBy = () => {
                    var str = "";
                    var data = this.selectedOrderByObject;
                    angular.forEach(data, (value, key) => {
                        var result = $.grep(this.selectedOrderByItems, function (e) { return e.ReportOrderById == value.id; })[0];
                        str += result.FieldName + " " + (HCMS.Validations.CommonValidations.isNull(result.Direction) || result.Direction == false ? "asc" : "desc");
                        str += ",";
                    });
                    str = str.slice(0, -1);
                    return str;
                };
                this.addOrderByItem = (item) => {
                    this.selectedOrderByItems.push(item);
                    $('#reportOrderByDiv ol').trigger('change');
                    var index = this.reportSetup.ReportOrderBy.indexOf(item);
                    this.reportSetup.ReportOrderBy.splice(index, 1);
                };
                this.removeOrderByItem = (item) => {
                    this.reportSetup.ReportOrderBy.push(item);
                    var index = this.selectedOrderByItems.indexOf(item);
                    this.selectedOrderByItems.splice(index, 1);
                    $('#reportOrderByDiv ol').trigger('change');
                };
                this.smartAlert = new HCMS.Controls.SmartAlert();
                this.getReportSetup((data) => {
                    this.title = this.translateText(data.ReportName);
                    this.reportSetup.ReportDecimalScale = HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.DecimalScale;
                    $(document).ready(() => {
                        if (this.reportSetup.ReportFields.length > 0) {
                            this.activeTabIndex = 0;
                            //this.activaTab(0);
                        }
                        else {
                            setTimeout(() => {
                                this.activeTabIndex = 1;
                                //this.activaTab(1);
                            }, 500);
                        }
                        this.reportSetup.ReportFields2 = HCMS.DataAccess.Utility.CopyData(this.reportSetup.ReportFields);
                        for (let entry of this.reportSetup.ReportFields) {
                            entry.IsRequired = entry.IsRequired || entry.IsParameter;
                            entry.FieldDescription = this.translateText(entry.FieldName, this.reportId);
                            entry.FieldOptions2 = HCMS.DataAccess.Utility.CopyData(entry);
                            entry.FieldOptions2.IsRequired = function () { return (entry.IsRequired || entry.IsParameter) && entry.ReportOperator == 'BETWEEN'; };
                        }
                        for (let entry of this.reportSetup.ReportTabs) {
                            for (let subEntry of entry.ReportTabFields) {
                                subEntry.IsRequired = subEntry.IsRequired || subEntry.IsParameter;
                                subEntry.FieldDescription = this.translateText(subEntry.FieldName, this.reportId);
                            }
                        }
                        for (let entry of this.reportSetup.ReportTabs) {
                            for (let subEntry of entry.ReportTabFields) {
                                subEntry.IsRequired = subEntry.IsRequired || subEntry.IsParameter;
                                subEntry.FieldDescription = this.translateText(subEntry.FieldName, this.reportId);
                                subEntry.FieldOptions2 = HCMS.DataAccess.Utility.CopyData(subEntry);
                                subEntry.FieldOptions2.IsRequired = function () { return (subEntry.IsRequired || subEntry.IsParameter) && subEntry.ReportOperator == 'BETWEEN'; };
                            }
                        }
                    });
                });
                this.getControlsOperators();
            }
        }
        Forms.GeneralReportForm = GeneralReportForm;
        Forms.hcmsForms.controller('generalReportController', ['$sce', '$filter', 'translateService', 'dataManagerService', '$scope', '$stateParams', function ($sce, $filter, translateService, dataManagerService, $scope, $stateParams) {
                return new GeneralReportForm($sce, $filter, translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
///// <reference path="../../../forms/module.ts" />
//module HCMS.Forms {
//    export class Chart {
//        $onInit = () => { };
//        private chartData: { labels: Array<any>, seriesName: Array<string>, data: any, colors: Array<any> } = { labels: null, seriesName: null, data: null, colors: null };
//        constructor(translateService: DataAccess.TranslateService, private dbManager: DataAccess.DataManagerService, scope: any, $stateParams: any) {
//            this.getChart(1);
//        }
//        private getChart = (chartId: number) => {
//            this.dbManager.Get("Chart", "GetChart", "?chartId=" + chartId, (result) => {
//                this.chartData.labels = result.data.Labels;
//                this.chartData.seriesName = result.data.SeriesName;
//                this.chartData.data = result.data.data;
//                this.chartData.colors = ['#45b7cd', '#ff6384'];
//            }, null, null)
//        }
//    }
//    hcmsForms.config(function (ChartJsProvider) {
//        ChartJsProvider.setOptions({ colors: ['#803690', '#00ADF9', '#DCDCDC', '#46BFBD', '#FDB45C', '#949FB1', '#4D5360'] });
//    }).controller('chartController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
//        return new Chart(translateService, dataManagerService, $scope, $stateParams);
//    }]);
//} 
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class Login {
            constructor(state, accountService) {
                this.state = state;
                this.accountService = accountService;
                this.$onInit = () => { };
                //public selectedProfile: SelectedProfile;
                this.account = {
                    username: '',
                    password: '',
                    databaseProfileId: null,
                    companyId: null,
                    langId: null
                };
                this.message = "";
                //private changeLanguage = (langId) => {
                //    this.dbManager.Get('Lookups', 'GetDetails', "?table=SystemLanguages&id=" + langId, function (result) {
                //        var lang = result.data;
                //        var info: HCMS.DataAccess.ICurrentLoginInfo;
                //    }, null);
                //}
                this.login = (valid) => {
                    if (valid !== true) {
                        return false;
                    }
                    this.accountService.login(this.account).then((data) => {
                        //this.changeLanguage(this.account.langId);
                        this.state.go("app.home");
                    }, (error) => {
                        this.message = error.error_description;
                    });
                };
            }
        }
        Forms.Login = Login;
        Forms.hcmsForms.controller('loginController', ['$state', 'accountService', function ($state, accountService) {
                return new Login($state, accountService);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class CreatedTransByMonth {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.$onInit = () => { };
                this.getSalaryData = (year, month) => __awaiter(this, void 0, void 0, function* () {
                    var result = yield this.dbManager.GetPromise("CreatedTransactionsChart", "GetCreatedTransactionsByMonth", "?year=" + year + "&month=" + month);
                    this.chartOptions.setRowData(result.data);
                });
                this.chartOptions = {
                    title: this.translateService.Translate("Total Transactions"),
                    colFields: [
                        { headerName: this.translateService.Translate('Week'), fieldName: 'TransWeekName' },
                        { headerName: this.translateService.Translate('Vacations'), fieldName: 'Vacations' },
                        { headerName: this.translateService.Translate('Missions'), fieldName: 'Missions' },
                        { headerName: this.translateService.Translate('Permissions'), fieldName: 'Permissions' },
                        { headerName: this.translateService.Translate('Penalties'), fieldName: 'Penalties' },
                        { headerName: this.translateService.Translate('Loans'), fieldName: 'Loans' }
                    ],
                    rowData: []
                };
                this.getSalaryData(2017, 11);
            }
        }
        Forms.CreatedTransByMonth = CreatedTransByMonth;
        Forms.hcmsForms.controller('createdTransByMonth', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new CreatedTransByMonth(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class TotalSalaryChartByYear {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.translateService = translateService;
                this.dbManager = dbManager;
                this.$onInit = () => { };
                this.getSalaryData = (year) => __awaiter(this, void 0, void 0, function* () {
                    var result = yield this.dbManager.GetPromise("SalaryChart", "GetTotalSalaryByYear", "?year=" + year);
                    this.chartOptions.setRowData(result.data);
                });
                this.chartOptions = {
                    title: this.translateService.Translate("Total Salary"),
                    colFields: [
                        { headerName: this.translateService.Translate('Month'), fieldName: 'PayrollMonthName' },
                        { headerName: this.translateService.Translate('Earning'), fieldName: 'TotalEarning' },
                        { headerName: this.translateService.Translate('Deduction'), fieldName: 'TotalDeduction' },
                        { headerName: this.translateService.Translate('NetSalary'), fieldName: 'NetSalary' }
                    ],
                    rowData: []
                };
                this.getSalaryData(2017);
            }
        }
        Forms.TotalSalaryChartByYear = TotalSalaryChartByYear;
        Forms.hcmsForms.controller('totalSalaryChartByYear', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new TotalSalaryChartByYear(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class HcmsHighChart {
            constructor(dbManager, timeout) {
                this.dbManager = dbManager;
                this.timeout = timeout;
                this.restrict = 'E';
                this.scope = {
                    hcOptions: "=?",
                    hcEvents: "=?"
                };
                this.template = `
  <div class="col-sm-12 well">
    <div class="row">
        <div class="col-sm-6">
            <table class="highchart table table-hover table-bordered" data-highchart-table data-graph-container=".. .. .highchart-container33" data-graph-type="column">
                <caption>{{::hcOptions.title}}</caption>
                <thead>
                    <tr>
                        <th ng-repeat="header in hcOptions.colFields">{{::header.headerName}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in hcOptions.rowData">
                        <td ng-repeat="col in hcOptions.colFields">{{::item[col.fieldName]}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-sm-6">
             <div class="highchart-container33"></div>
        </div>
  </div>
 </div>
`;
                this.link = (scope, element, attrs) => {
                    scope.hcOptions.setRowData = (data) => {
                        scope.hcOptions.rowData = data;
                        this.timeout(() => {
                            var table = $(element).find('table')[0];
                            $(table).highchartTable();
                        });
                    };
                };
            }
            static Factory() {
                var directive = (dbManager, $timeout) => new HcmsHighChart(dbManager, $timeout);
                directive.$inject = ["dataManagerService", "$timeout"];
                return directive;
            }
        }
        Forms.HcmsHighChart = HcmsHighChart;
        Forms.hcmsForms.directive('hcmsHighChart', HcmsHighChart.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class HcmsPieChart {
            constructor(dbManager, timeout) {
                this.dbManager = dbManager;
                this.timeout = timeout;
                this.restrict = 'E';
                this.scope = {
                    hcOptions: "=?",
                    hcEvents: "=?"
                };
                this.template = `
               <canvas height="120" ></canvas>
            `;
                this.link = (scope, element, attrs) => {
                    var pieOptions = {
                        //Boolean - Whether we should show a stroke on each segment
                        segmentShowStroke: true,
                        //String - The colour of each segment stroke
                        segmentStrokeColor: "#fff",
                        //Number - The width of each segment stroke
                        segmentStrokeWidth: 2,
                        //Number - Amount of animation steps
                        animationSteps: 100,
                        //String - types of animation
                        animationEasing: "easeOutBounce",
                        //Boolean - Whether we animate the rotation of the Doughnut
                        animateRotate: true,
                        //Boolean - Whether we animate scaling the Doughnut from the centre
                        animateScale: false,
                        //Boolean - Re-draw chart on page resize
                        responsive: true,
                        //String - A legend template
                        legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>"
                    };
                    var pieData;
                    scope.hcOptions.setRowData = (data) => {
                        let opt = scope.hcOptions;
                        for (let entry of data) {
                            pieData.push({ value: data[opt.valueField], label: data[opt.labelField], color: getRandomColor(), highlight: getRandomColor() });
                        }
                        this.timeout(() => {
                            var canvas = $(element).find('canvas')[0];
                            var ctx = $(canvas).getContext("2d");
                            var myNewChart = new Chart(ctx).Pie(pieData, pieOptions);
                        });
                    };
                    var getRandomColor = () => {
                        var letters = '0123456789ABCDEF';
                        var color = '#';
                        for (var i = 0; i < 6; i++) {
                            color += letters[Math.floor(Math.random() * 16)];
                        }
                        return color;
                    };
                };
            }
            static Factory() {
                var directive = (dbManager, $timeout) => new HcmsPieChart(dbManager, $timeout);
                directive.$inject = ["dataManagerService", "$timeout"];
                return directive;
            }
        }
        Forms.HcmsPieChart = HcmsPieChart;
        Forms.hcmsForms.directive('hcmsPieChart', HcmsPieChart.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class TotalSalaryPieChart {
            constructor(dbManager, timeout) {
                this.dbManager = dbManager;
                this.timeout = timeout;
                this.restrict = 'E';
                this.scope = {
                    hcOptions: "=?",
                };
                this.template = `
                <hcms-pie-chart hc-options=="pieChartOptions"> </hcms-pie-chart>
            `;
                this.link = (scope, element, attrs) => {
                    scope.pieChartOptions = { valueField: "NetSalary", labelField: "PayrollMonthName" };
                    var pieData;
                    var getSalaryData = (year) => __awaiter(this, void 0, void 0, function* () {
                        var result = yield this.dbManager.GetPromise("SalaryChart", "GetTotalSalaryByYear", "?year=" + year);
                        scope.pieChartOptions.setRowData(result.data);
                    });
                    scope.hcOptions.setYear = (year) => {
                        getSalaryData(year);
                    };
                };
            }
            static Factory() {
                var directive = (dbManager, $timeout) => new TotalSalaryPieChart(dbManager, $timeout);
                directive.$inject = ["dataManagerService", "$timeout"];
                return directive;
            }
        }
        Forms.TotalSalaryPieChart = TotalSalaryPieChart;
        Forms.hcmsForms.directive('totalSalaryPieChart', TotalSalaryPieChart.Factory());
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AllProfiles extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, timeout, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope.tab.MenuItem.FormId);
                this.scope = scope;
                this.timeout = timeout;
                this.$onInit = () => { };
                // static $inject = ['translateService', 'dataManagerService','$scope', '$stateParams'];
                //private formId: number;
                //private apiController: string;
                //public selectedProfile: SelectedProfile;
                this.selectedHeaderView = new HCMS.Models.EditView();
                this.navTabOptions = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    //var currentObject = this;
                    this.selectedHeaderView = this.FormSetup.MyForm.EditView;
                    var id = this.GetIdValue(item, this.selectedHeaderView);
                    this.FormData.GetDataItem(id, (data) => {
                        this.dataItem = data;
                        this.dbManager.Get(this.FormSetup.MyForm.FormController, "GetDefaultAssignmentByProfileId", `?formId=${this.formId}&profileID=${this.dataItem.ProfileId}`, (result) => {
                            this.dataItem.EmpAssignmentId = (result.data != null ? result.data.EmpAssignmentId : 0);
                            this.DisplayEditView();
                            this.activeTabIndex = 1;
                            // this.activateTab('selectedProfile');
                            this.navTabOptions.api.activateFirstTab();
                            //currentObject.DisplayIndexView();
                        });
                    });
                };
                this.getFullName = () => {
                    HCMS.Validations.CommonValidations.isNull("");
                    this.dataItem.ProfileName_ = HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileFirstName_, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileSecondName_, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileThirdName_, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileFourthName_, '');
                    this.dataItem.ProfileName = HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileFirstName, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileSecondName, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileThirdName, '') + ' ' + HCMS.Validations.CommonValidations.isNullReplace(this.dataItem.ProfileFourthName, '');
                    //this.dataItem.ProfileName = this.dataItem.ProfileFirstName + ' ' + this.dataItem.ProfileSecondName + ' ' + this.dataItem.ProfileThirdName + ' ' + this.dataItem.ProfileFourthName;
                    if (HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection == "rtl") {
                        return this.dataItem.ProfileName_;
                    }
                    else {
                        return this.dataItem.ProfileName;
                    }
                };
                //this.selectedProfile = selectedProfileService;
                //this.selectedHeaderView.ViewId = 0;
                this.selectedHeaderView = this.FormSetup.MyForm.EditView;
                // this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdding.addHandler(() => {
                        // set profileTypeId=1 means Employee
                        this.dataItem.ProfileTypeId = 1;
                    });
                    this.OnUpdating.addHandler(() => {
                        // set profileTypeId=1 means Employee
                        this.dataItem.ProfileTypeId = 1;
                    });
                    this.OnAdded.addHandler((result) => {
                        this.timeout(() => {
                            this.dataItem.ProfileId = result.data.Result[0];
                        });
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayEditView();
                            this.navTabOptions.api.activateFirstTab();
                        });
                    });
                    this.OnUpdated.addHandler((result) => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            //this.DisplayIndexView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                });
            }
            addNewClicked() {
                //var currentObject = this;
                //$scope.active = 1; //set the index of the profile tab
                this.FormData.GetDataItem("0", (data) => {
                    this.dataItem = data;
                    this.DisplayAddView();
                    this.activeTabIndex = 1;
                    // this.activateTab('selectedProfile');
                });
            }
        }
        Forms.AllProfiles = AllProfiles;
        // hcmsForms.controller('allProfilesNewController', AllProfiles);
        Forms.hcmsForms.controller('allProfilesNewController', ['translateService', 'dataManagerService', '$scope', '$timeout', '$stateParams', function (translateService, dataManagerService, $scope, $timeout, $stateParams) {
                return new AllProfiles(translateService, dataManagerService, $scope, $timeout, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ProfilePhotoController extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, Upload, scope, $stateParams) {
                //inherit BaseSubFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.Upload = Upload;
                this.$onInit = () => { };
                this.errorMsg = "";
                //empPhoto.selectedProfile = profileService.getSelectedProfile();
                //var currentUser = loginInfo.getCurrentUser();
                this.setEmployeePhoto = (photo) => {
                    if (photo === null || photo == "") {
                        this.picFile = "/styles/img/noProfile.png";
                    }
                    else {
                        this.picFile = "data:image/jpeg;base64," + photo;
                    }
                };
                this.clearPhoto = () => {
                    this.picFile = "/styles/img/noProfile.png";
                };
                this.isCleared = () => {
                    return this.picFile == "/styles/img/noProfile.png";
                };
                this.isNewProfile = () => {
                    if (this.parentItem !== undefined) {
                        var profileId = this.parentItem[this.parentIdFieldName];
                        return profileId == null || profileId == 0;
                    }
                    return false;
                };
                this.getCommonParams = () => {
                    return '?userId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId + '&langId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                };
                this.getPhoto = (id) => {
                    var queryString = this.getCommonParams() + '&id=' + id;
                    this.dbManager.Get('EmpPhotos', 'GetDetails', queryString, (response) => {
                        this.dataItem = response.data;
                        if (response.data !== null) {
                            this.setEmployeePhoto(this.dataItem.Photo);
                        }
                        else
                            this.setEmployeePhoto(null);
                    }, null);
                };
                //scope.$watch(function () {
                //    return profileService.getSelectedProfile();
                //},
                //    function (newVal, oldVal) {
                //        var profileId = 0;
                //        if (angular.isDefined(newVal) && newVal !== null) {
                //            empPhoto.selectedProfile = newVal;
                //            if (angular.isDefined(newVal.ProfileId)) {
                //                profileId = newVal.ProfileId;
                //            }
                //        }
                //        if (angular.isUndefined(profileId)) profileId = 0;
                //        empPhoto.getPhoto(profileId);
                //    }, true);
                this.uploadPic = (file) => {
                    var profileId = this.parentItem[this.parentIdFieldName];
                    let url = HCMS.DataAccess.StartUp.apiUrl + "/EmpPhotos/PostPhoto";
                    this.Upload.upload({
                        url: url,
                        data: { Photo: file, ProfileId: profileId, UserId: HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId }
                    }).then((resp) => {
                        file.result = resp.data;
                        //console.log('Success ' + resp.config.data.file.name + 'uploaded. Response: ' + resp.data);
                    }, (resp) => {
                        if (resp.status > 0)
                            this.errorMsg = resp.status + ': ' + resp.data;
                        //console.log('Error status: ' + resp.status);
                    }, (evt) => {
                        file.progress = Math.min(100, parseInt((100.0 * evt.loaded / evt.total).toString()));
                        //var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
                        //console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);
                    });
                };
                //this.GetDataByParentCallBack = this.GetByParentCallBack;
                this.GetDataByParentId = (callBack) => {
                    if (this.parentItem === undefined)
                        return;
                    //var currentObject = this;
                    var profileId = this.parentItem[this.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    //var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    //this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                    //    currentObject.dataList = response.data;
                    //    if (response.data.length > 0) {
                    //        currentObject.dataItem = response.data[0];
                    //    } else {
                    //        currentObject.dataItem = {};
                    //    }
                    //    if (!DataAccess.Utility.IsNull(callBack)) {
                    //        callBack(response.data);
                    //    }
                    //}, null);
                    var queryString = this.getCommonParams() + '&id=' + profileId;
                    this.dbManager.Get('EmpPhotos', 'GetDetails', queryString, (response) => {
                        this.dataItem = response.data;
                        if (response.data !== null) {
                            this.setEmployeePhoto(this.dataItem.Photo);
                        }
                        else
                            this.setEmployeePhoto(null);
                    }, null);
                };
            }
        }
        Forms.ProfilePhotoController = ProfilePhotoController;
        // hcmsForms.controller('profilePhotoController', ProfilePhotoController);
        Forms.hcmsForms.controller('profilePhotoController', ['translateService', 'dataManagerService', 'Upload', '$scope', '$stateParams', function (translateService, dataManagerService, Upload, $scope, $stateParams) {
                return new ProfilePhotoController(translateService, dataManagerService, Upload, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PersonalDataTabsController {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.$onInit = () => { };
                this.stackTabOptions = {};
                //inherit BaseFormManager
                //set login Info
                this.scope = scope;
                this.parentIdFieldName = scope.parentIdFieldName;
                this.parentItem = scope.parentItem;
                var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (currentInfo == null) {
                //    currentInfo = new DataAccess.CurrentLoginInfo(dbManager);
                //    var currentUser = angular.fromJson(sessionStorage['user']);
                //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                //}
                this.FormSetup = new Forms.BaseFormSetup(translateService, dbManager, currentInfo.User.UserId, scope.formId);
                this.FormSetup.LoadForm();
                this.scope.$watch(() => this.scope.parentItem, (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentItem = newValue;
                        this.stackTabOptions.api.activateFirstTab();
                    }
                });
            }
        }
        Forms.PersonalDataTabsController = PersonalDataTabsController;
        // hcmsForms.controller('personalDataTabsController', PersonalDataTabsController);
        Forms.hcmsForms.controller('personalDataTabsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PersonalDataTabsController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ProfilePersonalDataController extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseSubFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.DisplayEditView();
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var profileId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (response.data.length > 0) {
                            currentObject.dataItem = response.data[0];
                        }
                        else {
                            currentObject.dataItem = {};
                        }
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                //this.OnUpdating.addHandler((e?: CancelEventArgs) => {
                //    this.FormData.dataItem = this.dataItem;
                //})
            }
        }
        ProfilePersonalDataController.$inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
        Forms.ProfilePersonalDataController = ProfilePersonalDataController;
        //hcmsForms.controller('profilePersonalDataController', ProfilePersonalDataController);
        Forms.hcmsForms.controller('profilePersonalDataController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ProfilePersonalDataController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ProfileSubFormController extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var profileId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.ProfileSubFormController = ProfileSubFormController;
        // hcmsForms.controller('profileSubFormController', ProfileSubFormController);
        Forms.hcmsForms.controller('profileSubFormController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ProfileSubFormController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
//module HCMS.Forms {
//    export class SelectedProfile {
//        private _currentProfile: any = null;
//        //constructor(profile?: any) {
//        //    this._currentProfile = profile;
//        //}
//        public SetCurrentProfile(profile: any) {
//            this._currentProfile = profile;
//        }
//        public get CurrentProfile(): any {
//            return this._currentProfile;
//        }
//    }
//    hcmsForms.service("selectedProfileService", SelectedProfile);
//} 
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class SystemProgressBar {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getByProgressId = (progressId) => {
                    return this.dbManager.GetPromise("SystemProgress", "GetByProgressTypeId", "?progressTypeId=" + progressId);
                };
            }
        }
        Forms.SystemProgressBar = SystemProgressBar;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        let ProgressTypes;
        (function (ProgressTypes) {
            ProgressTypes[ProgressTypes["Loan"] = 1] = "Loan";
            ProgressTypes[ProgressTypes["CalcSalary"] = 2] = "CalcSalary";
            ProgressTypes[ProgressTypes["CalcSalaryTransaction"] = 3] = "CalcSalaryTransaction";
            ProgressTypes[ProgressTypes["ImportAttendance"] = 4] = "ImportAttendance";
            ProgressTypes[ProgressTypes["CloseDayAttendance"] = 5] = "CloseDayAttendance";
        })(ProgressTypes = Forms.ProgressTypes || (Forms.ProgressTypes = {}));
        class SystemProgressType {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getBy = () => {
                    let quesryString = "";
                    return this.dbManager.GetPromise("AttendanceDayTypes", "GetAll", quesryString);
                };
            }
        }
        Forms.SystemProgressType = SystemProgressType;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AllApplicants extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                // static $inject = ['translateService', 'dataManagerService','$scope', '$stateParams'];
                //private formId: number;
                //private apiController: string;
                //public selectedApplicant: selectedApplicant;
                this.selectedHeaderView = new HCMS.Models.EditView();
                this.selectClicked = (item) => {
                    //var currentObject = this;
                    this.selectedHeaderView = this.FormSetup.MyForm.EditView;
                    var id = this.GetIdValue(item, this.selectedHeaderView);
                    this.FormData.GetDataItem(id, (data) => {
                        this.dataItem = data;
                        this.DisplayEditView();
                        //Selected Applicant not profile like html file
                        this.activateTab('selectedApplicant');
                        //currentObject.DisplayIndexView();
                    });
                };
                //this.selectedApplicant = selectedApplicantService;
                //this.selectedHeaderView.ViewId = 0;
                this.selectedHeaderView = this.FormSetup.MyForm.EditView;
                // this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                });
            }
            activateTab(tab) {
                //$('.nav-tabs a').removeClass("active");
                //$('.nav-tabs a[href="#' + tab + '"]').addClass("active");
                //$('.nav-tabs a[href="#' + tab + '"]').show();
                $('.nav-tabs a[href="#' + tab + '"]').tab('show');
            }
            ;
            addNewClicked() {
                //var currentObject = this;
                //$scope.active = 1; //set the index of the profile tab
                this.FormData.GetDataItem("0", (data) => {
                    this.dataItem = data;
                    this.DisplayAddView();
                    //Selected Applicant not profile like html file
                    this.activateTab('selectedApplicant');
                });
            }
        }
        Forms.AllApplicants = AllApplicants;
        // hcmsForms.controller('AllApplicantsNewController', AllApplicants);
        Forms.hcmsForms.controller('allApplicantsNewController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new AllApplicants(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ApplicantPersonalDataController extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseSubFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //this.GetDataByParentCallBack = this.GetByParentCallBack;
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var profileId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (response.data.length > 0) {
                            currentObject.dataItem = response.data[0];
                        }
                        else {
                            currentObject.dataItem = {};
                        }
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        ApplicantPersonalDataController.$inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
        Forms.ApplicantPersonalDataController = ApplicantPersonalDataController;
        //hcmsForms.controller('profilePersonalDataController', ProfilePersonalDataController);
        Forms.hcmsForms.controller('applicantPersonalDataController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ApplicantPersonalDataController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ApplicantPersonalDataTabsController {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.$onInit = () => { };
                //inherit BaseFormManager
                //set login Info
                this.scope = scope;
                this.parentIdFieldName = scope.parentIdFieldName;
                this.parentItem = scope.parentItem;
                var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (currentInfo == null) {
                //    currentInfo = new DataAccess.CurrentLoginInfo(dbManager);
                //    var currentUser = angular.fromJson(sessionStorage['user']);
                //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                //}
                this.FormSetup = new Forms.BaseFormSetup(translateService, dbManager, currentInfo.User.UserId, scope.formId);
                this.FormSetup.LoadForm();
                this.scope.$watch(() => this.scope.parentItem, (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentItem = newValue;
                    }
                });
            }
        }
        Forms.ApplicantPersonalDataTabsController = ApplicantPersonalDataTabsController;
        // hcmsForms.controller('personalDataTabsController', PersonalDataTabsController);
        Forms.hcmsForms.controller('applicantPersonalDataTabsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ApplicantPersonalDataTabsController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ApplicantPhotoController extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, Upload, scope, $stateParams) {
                //inherit BaseSubFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.Upload = Upload;
                this.$onInit = () => { };
                this.errorMsg = "";
                //empPhoto.selectedProfile = profileService.getSelectedProfile();
                //var currentUser = loginInfo.getCurrentUser();
                this.setEmployeePhoto = (photo) => {
                    if (photo === null || photo == "") {
                        this.picFile = "/styles/img/noProfile.png";
                    }
                    else {
                        this.picFile = "data:image/jpeg;base64," + photo;
                    }
                };
                this.clearPhoto = () => {
                    this.picFile = "/styles/img/noProfile.png";
                };
                this.isCleared = () => {
                    return this.picFile == "/styles/img/noProfile.png";
                };
                this.isNewProfile = () => {
                    if (this.parentItem !== undefined) {
                        var profileId = this.parentItem[this.parentIdFieldName];
                        return profileId == null || profileId == 0;
                    }
                    return false;
                };
                this.getCommonParams = () => {
                    return '?userId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId + '&langId=' + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                };
                this.getPhoto = (id) => {
                    var queryString = this.getCommonParams() + '&id=' + id;
                    this.dbManager.Get('ApplicantPhotos', 'GetDetails', queryString, (response) => {
                        this.dataItem = response.data;
                        if (response.data !== null) {
                            this.setEmployeePhoto(this.dataItem.Photo);
                        }
                        else
                            this.setEmployeePhoto(null);
                    }, null);
                };
                //scope.$watch(function () {
                //    return profileService.getSelectedProfile();
                //},
                //    function (newVal, oldVal) {
                //        var profileId = 0;
                //        if (angular.isDefined(newVal) && newVal !== null) {
                //            empPhoto.selectedProfile = newVal;
                //            if (angular.isDefined(newVal.ProfileId)) {
                //                profileId = newVal.ProfileId;
                //            }
                //        }
                //        if (angular.isUndefined(profileId)) profileId = 0;
                //        empPhoto.getPhoto(profileId);
                //    }, true);
                this.uploadPic = (file) => {
                    var profileId = this.parentItem[this.parentIdFieldName];
                    let url = HCMS.DataAccess.StartUp.apiUrl + "/ApplicantPhotos/PostPhoto";
                    this.Upload.upload({
                        url: url,
                        data: { Photo: file, ProfileId: profileId, UserId: HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId }
                    }).then((resp) => {
                        file.result = resp.data;
                        //console.log('Success ' + resp.config.data.file.name + 'uploaded. Response: ' + resp.data);
                    }, (resp) => {
                        if (resp.status > 0)
                            this.errorMsg = resp.status + ': ' + resp.data;
                        //console.log('Error status: ' + resp.status);
                    }, (evt) => {
                        file.progress = Math.min(100, parseInt((100.0 * evt.loaded / evt.total).toString()));
                        //var progressPercentage = parseInt(100.0 * evt.loaded / evt.total);
                        //console.log('progress: ' + progressPercentage + '% ' + evt.config.data.file.name);
                    });
                };
                //this.GetDataByParentCallBack = this.GetByParentCallBack;
                this.GetDataByParentId = (callBack) => {
                    if (this.parentItem === undefined)
                        return;
                    //var currentObject = this;
                    var profileId = this.parentItem[this.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    //var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    //this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                    //    currentObject.dataList = response.data;
                    //    if (response.data.length > 0) {
                    //        currentObject.dataItem = response.data[0];
                    //    } else {
                    //        currentObject.dataItem = {};
                    //    }
                    //    if (!DataAccess.Utility.IsNull(callBack)) {
                    //        callBack(response.data);
                    //    }
                    //}, null);
                    var queryString = this.getCommonParams() + '&id=' + profileId;
                    this.dbManager.Get('ApplicantPhotos', 'GetDetails', queryString, (response) => {
                        this.dataItem = response.data;
                        if (response.data !== null) {
                            this.setEmployeePhoto(this.dataItem.Photo);
                        }
                        else
                            this.setEmployeePhoto(null);
                    }, null);
                };
            }
        }
        Forms.ApplicantPhotoController = ApplicantPhotoController;
        // hcmsForms.controller('profilePhotoController', ProfilePhotoController);
        Forms.hcmsForms.controller('applicantPhotoController', ['translateService', 'dataManagerService', 'Upload', '$scope', '$stateParams', function (translateService, dataManagerService, Upload, $scope, $stateParams) {
                return new ApplicantPhotoController(translateService, dataManagerService, Upload, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ApplicantSubFormController extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var profileId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.ApplicantSubFormController = ApplicantSubFormController;
        // hcmsForms.controller('profileSubFormController', ProfileSubFormController);
        Forms.hcmsForms.controller('applicantSubFormController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new ApplicantSubFormController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDayTypes {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getAll = () => {
                    let quesryString = "";
                    return this.dbManager.GetPromise("AttendanceDayTypes", "GetAll", quesryString);
                };
            }
        }
        Forms.AttendanceDayTypes = AttendanceDayTypes;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EditAttendanceHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedAttendanceProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EditAttendanceHome = EditAttendanceHome;
        Forms.hcmsForms.controller('editAttendanceHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EditAttendanceHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EditAttendanceTransaction extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.header = {
                    fromDate: {
                        value: null,
                        options: { DataTypeName: 'date', ControlTypeName: 'date' }
                    },
                    toDate: {
                        value: null,
                        options: { DataTypeName: 'date', ControlTypeName: 'date' }
                    }
                };
                this.saveModifiedData = (valid) => {
                    if (!valid)
                        return;
                    try {
                        let result = this.dbManager.PostPromise("EmpAttendanceTransactions", "SaveDataEdit", "", this.dataList);
                        this.smartAlert.Alert("Saved Successfully");
                    }
                    catch (ex) {
                        this.smartAlert.Error(ex);
                    }
                };
                this.displayAttendanceTransData = () => __awaiter(this, void 0, void 0, function* () {
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    let fromDate = this.header.fromDate.value;
                    let toDate = this.header.toDate.value;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) || !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    let empAssignmentId = this.parentItem['EmpAssignmentId'];
                    if (empAssignmentId === undefined || empAssignmentId === null) {
                        return;
                    }
                    fromDate = fromDate.toUTCString(); // HCMS.Validations.DateValidations.toDate(fromDate);
                    toDate = toDate.toUTCString(); // HCMS.Validations.DateValidations.toDate(toDate);
                    let queryString = `?empAssignmentId=${empAssignmentId}&fromDate=${fromDate}&toDate=${toDate}`;
                    let result = yield this.dbManager.GetPromise("EmpAttendanceTransactions", "GetDataForEdit", queryString);
                    this.dataList = result.data;
                });
                this.setEmpTimeSetter = () => {
                    let inFields = this.grid.gridColumnDefs.filter(function (o) { return o.field === "EmpTimeIn"; });
                    if (inFields.length > 0) {
                        for (var item of inFields) {
                            item.valueSetter = this.inValueSetter;
                        }
                    }
                    let outFields = this.grid.gridColumnDefs.filter(function (o) { return o.field === "EmpTimeOut"; });
                    if (outFields.length > 0) {
                        for (var item of outFields) {
                            item.valueSetter = this.outValueSetter;
                        }
                    }
                };
                this.inValueSetter = (params) => {
                    var newValue = params.newValue;
                    newValue = this.getFormattedTime(newValue);
                    var data = params.data;
                    var oldValue = data.EmpTimeIn;
                    if (oldValue === undefined || oldValue === null) {
                        oldValue = "";
                    }
                    if (oldValue !== newValue) {
                        data.IsModified = true;
                        data.EmpTimeIn = newValue;
                        return true;
                    }
                    else {
                        return false;
                    }
                };
                this.outValueSetter = (params) => {
                    var newValue = params.newValue;
                    newValue = this.getFormattedTime(newValue);
                    var data = params.data;
                    var oldValue = data.EmpTimeOut;
                    if (oldValue === undefined || oldValue === null) {
                        oldValue = "";
                    }
                    if (oldValue !== newValue) {
                        data.IsModified = true;
                        data.EmpTimeOut = newValue;
                        return true;
                    }
                    else {
                        return false;
                    }
                };
                this.getFormattedTime = (time) => {
                    if (time !== undefined && time !== null && time !== "") {
                        let splitStr = time.split(":");
                        let h = '00';
                        let m = '00';
                        let s = '00';
                        if (splitStr.length > 0) {
                            h = splitStr[0];
                            h = HCMS.Validations.CommonValidations.pad(h, 2);
                        }
                        if (splitStr.length > 1) {
                            m = splitStr[1];
                            m = HCMS.Validations.CommonValidations.pad(m, 2);
                        }
                        if (splitStr.length > 2) {
                            s = splitStr[2];
                            s = HCMS.Validations.CommonValidations.pad(s, 2);
                        }
                        time = `${h}:${m}:${s}`;
                    }
                    return time;
                };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                };
                this.grid.gridOptions['onGridReady'] = (params) => {
                    params.api.sizeColumnsToFit();
                };
                this.FormSetup.MyForm.IndexView.GridSetup.OnColumnOptionsLoaded.addHandler(() => {
                    this.setEmpTimeSetter();
                });
            }
        }
        Forms.EditAttendanceTransaction = EditAttendanceTransaction;
        Forms.hcmsForms.controller('editAttendanceTranController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EditAttendanceTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceCalculationPeriod {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.controllerName = "AttendanceCalculationPeriod";
                this.getCalculationPeriodByMonth = (calculationPeriodId, year, month) => {
                    if (calculationPeriodId === null || year === null || month === null)
                        return;
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&year=${year}&month=${month}`;
                    return this.dbManager.GetPromise(this.controllerName, "GetCalculationPeriodByMonth", quesryString);
                };
            }
        }
        Forms.AttendanceCalculationPeriod = AttendanceCalculationPeriod;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceMonthlyCalculation {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.controllerName = "AttendanceMonthlyDeduction";
                this.calculateMonthlyAttendance = (attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise(this.controllerName, "CalculateMonthlyAttendance", quesryString, empAssignmentIds);
                };
            }
        }
        Forms.AttendanceMonthlyCalculation = AttendanceMonthlyCalculation;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDailyAttendance {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                //private selectPostedRows = () => {
                //    this.attendanceGrid.gridOptions.api.forEachNode(function (node) {
                //        if (node.data.DeductionStatusId === 4) {
                //            node.setSelected(true);
                //        }
                //    });
                //}
                this.getDailyAttendanceData = (fromDate, toDate, empAssignmentIds) => {
                    let quesryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "GetDailyAttendance", quesryString, empAssignmentIds);
                };
                this.postDailyAttendanceData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "PostDailyAttendance", quesryString, dailyDeductionIds);
                };
                this.unPostDailyAttendanceData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "UnPostDailyAttendance", quesryString, dailyDeductionIds);
                };
                var attGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("DeductionDate"), field: "DeductionDate", template: "<p>{{data.DeductionDate | date:'dd/MM/yyyy'}}</p>" },
                    { headerName: this.translator.Translate("AttendanceTypeName"), field: "AttendanceTypeName" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.attendanceGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: attGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                        //if (params.node.rowIndex % 2 === 0) {
                        //    return { background: 'red' }
                        //}
                        //onGridReady: () => {
                        //    this.selectPostedRows();
                        //},
                    },
                    gridColumnDefs: attGridColumnDefs,
                };
            }
        }
        Forms.AttendanceDailyAttendance = AttendanceDailyAttendance;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDailyCloseDay {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.dayTypes = [];
                this.datTypeId = -1;
                this.isExternalFilterPresent = () => {
                    // if datTypeId is not 0, then we are filtering
                    return this.datTypeId != -1;
                };
                this.doesExternalFilterPass = (node) => {
                    return node.data.AttendanceDayTypeId == this.datTypeId;
                };
                this.dayTypeFilterChanged = (newValue) => {
                    this.datTypeId = newValue;
                    this.closeDayGrid.gridOptions.api.onFilterChanged();
                };
                this.applyAttendanceDayTypesColor = () => __awaiter(this, void 0, void 0, function* () {
                    var result = yield this.attendanceDayTypes.getAll();
                    this.dayTypes = result.data;
                    this.closeDayGrid.gridOptions.getRowStyle = (params) => {
                        return { background: this.getDayTypeBackColor(result.data, params.data.AttendanceDayTypeId) };
                    };
                });
                this.getDayTypeBackColor = (dayTypeList, attendanceDayTypeId) => {
                    for (var i = 0; i < dayTypeList.length; ++i) {
                        if (dayTypeList[i] !== undefined && dayTypeList[i].AttendanceDayTypeId === attendanceDayTypeId) {
                            return dayTypeList[i].AttendanceDayTypeColor;
                        }
                    }
                };
                this.getCloseDayData = (fromDate, toDate, empAssignmentIds) => {
                    let queryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceCalc", "GetCloseDayData", queryString, empAssignmentIds);
                };
                this.CalcCloseDay = (fromDate, toDate, empAssignmentIds) => {
                    let queryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceCalc", "CloseDayAttendance", queryString, empAssignmentIds);
                };
                this.attendanceDayTypes = new Forms.AttendanceDayTypes(dbManager, translator);
                var closeDayGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("AttendanceDate"), field: "AttendanceDate", template: "<p>{{data.AttendanceDate | date:'dd/MM/yyyy'}}</p>" },
                    { headerName: this.translator.Translate("CalendarDayTypeName"), field: "CalendarDayTypeName" },
                    { headerName: this.translator.Translate("AttendanceDayTypeId"), field: "AttendanceDayTypeId", hidden: true },
                    { headerName: this.translator.Translate("AttendanceDayTypeName"), field: "AttendanceDayTypeName" },
                    { headerName: this.translator.Translate("CalendarName"), field: "CalendarName" },
                    { headerName: this.translator.Translate("LocationName"), field: "LocationName" },
                    { headerName: this.translator.Translate("WorkingMinutes"), field: "WorkingMinutes" },
                    { headerName: this.translator.Translate("OverTime"), field: "OverTime" },
                    { headerName: this.translator.Translate("MorningOverTime"), field: "MorningOverTime" },
                    { headerName: this.translator.Translate("EveningOverTime"), field: "EveningOverTime" },
                    { headerName: this.translator.Translate("LateTime"), field: "LateTime" },
                    { headerName: this.translator.Translate("EarlyLeaveTime"), field: "EarlyLeaveTime" },
                    { headerName: this.translator.Translate("StatusName"), field: "StatusName" },
                ];
                this.closeDayGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: closeDayGridColumnDefs,
                        animateRows: true,
                        enableFilter: true,
                        isExternalFilterPresent: this.isExternalFilterPresent,
                        doesExternalFilterPass: this.doesExternalFilterPass
                    },
                    gridColumnDefs: closeDayGridColumnDefs,
                };
                this.applyAttendanceDayTypesColor();
            }
        }
        Forms.AttendanceDailyCloseDay = AttendanceDailyCloseDay;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDailyImportDay {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getImportDayData = (fromDate, toDate, empAssignmentIds) => {
                    let queryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceCalc", "GetImportData", queryString, empAssignmentIds);
                };
                this.CalcImportDay = (fromDate, toDate, empAssignmentIds) => {
                    let queryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceCalc", "ImportAttendance", queryString, empAssignmentIds);
                };
                var importDayGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode" },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("TransactionDate"), field: "TransactionDate", template: "<p>{{data.TransactionDate | date:'dd/MM/yyyy'}}</p>" },
                    { headerName: this.translator.Translate("EmpTimeIn"), field: "EmpTimeIn" },
                    { headerName: this.translator.Translate("EmpTimeOut"), field: "EmpTimeOut" }
                ];
                this.importDayGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: importDayGridColumnDefs,
                        getRowStyle: (params) => {
                            if (params.data && params.data.IsModified === true) {
                                return { background: "silver" };
                            }
                        }
                    },
                    gridColumnDefs: importDayGridColumnDefs,
                };
            }
        }
        Forms.AttendanceDailyImportDay = AttendanceDailyImportDay;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDailyPenalties {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getDailyPenaltyData = (fromDate, toDate, empAssignmentIds) => {
                    let quesryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "GetDailyPenalties", quesryString, empAssignmentIds);
                };
                this.postDailyPenaltyData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "PostDailyPenalties", quesryString, dailyDeductionIds);
                };
                this.unPostDailyPenaltyData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "UnPostDailyPenalties", quesryString, dailyDeductionIds);
                };
                var penaltyGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("DeductionDate"), field: "DeductionDate", template: "<p>{{data.DeductionDate | date:'dd/MM/yyyy'}}</p>" },
                    { headerName: this.translator.Translate("PenaltyName"), field: "PenaltyName" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.penaltyGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: penaltyGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: penaltyGridColumnDefs
                };
            }
        }
        Forms.AttendanceDailyPenalties = AttendanceDailyPenalties;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceDailyVacations {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getDailyVacationData = (fromDate, toDate, empAssignmentIds) => {
                    let quesryString = `?fromDate=${fromDate}&toDate=${toDate}`;
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "GetDailyVacations", quesryString, empAssignmentIds);
                };
                this.postDailyVacationData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "PostDailyVacations", quesryString, dailyDeductionIds);
                };
                this.unPostDailyVacationData = (dailyDeductionIds) => {
                    let quesryString = '';
                    return this.dbManager.PostPromise("AttendanceDailyDeduction", "UnPostDailyVacations", quesryString, dailyDeductionIds);
                };
                var vacationGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("DeductionDate"), field: "DeductionDate", template: "<p>{{data.DeductionDate | date:'dd/MM/yyyy'}}</p>" },
                    { headerName: this.translator.Translate("BalanceCategoryName"), field: "BalanceCategoryName" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.vacationGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: vacationGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //}, 
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: vacationGridColumnDefs
                };
            }
        }
        Forms.AttendanceDailyVacations = AttendanceDailyVacations;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class ImportCloseDayAttendance extends Forms.BaseFormManager {
            //private dayTypes: Array<any> = [];
            constructor(translateService, dbManager, $filter, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.translateService = translateService;
                this.$onInit = () => { };
                this.runStatus = false;
                this.stopStatus = false;
                this.showProgressStatus = false;
                this.displayDataStatus = false;
                //private importGrid: any = { gridOptions: {}, gridColumnDefs: [] };
                //private closeGrid: any = { gridOptions: {}, gridColumnDefs: [] };
                this.importData = [];
                this.closeData = [];
                this.progressId = 0;
                this.progressTypeId = 4;
                //private applyIsModifiedColor = () => {
                //    this.importGrid.gridOptions.getRowStyle = (params) => {
                //        if (params.data && params.data.IsModified === true) {
                //            return { background: "silver" };
                //        }
                //    }
                //}
                //private applyAttendanceDayTypesColor = async () => {
                //    var result = await this.attendanceDayTypes.getAll();
                //    this.dayTypes = result.data;
                //    this.grid.gridOptions.getRowStyle = (params) => {
                //        return { background: this.getDayTypeBackColor(result.data, params.data.AttendanceDayTypeId) };
                //    }
                //}
                //private getDayTypeBackColor = (dayTypeList, attendanceDayTypeId) => {
                //    for (var i = 0; i < dayTypeList.length; ++i) {
                //        if (dayTypeList[i] !== undefined && dayTypeList[i].AttendanceDayTypeId === attendanceDayTypeId) {
                //            return dayTypeList[i].AttendanceDayTypeColor;
                //        }
                //    }
                //}
                this.yearMonthPeriodChanged = (year, month, calculationPeriodId) => __awaiter(this, void 0, void 0, function* () {
                    if (year > 0 && month > 0 && calculationPeriodId > 0) {
                        let result = yield this.attendanceCalculationPeriod.getCalculationPeriodByMonth(calculationPeriodId, year, month);
                        this.dataItem.FromDate = result.data.fromDate;
                        this.dataItem.ToDate = result.data.toDate;
                    }
                });
                this.calculationPeriodChanged = (calculationPeriodId) => __awaiter(this, void 0, void 0, function* () {
                    const year = this.dataItem.PayrollYear;
                    const month = this.dataItem.PayrollMonth;
                    this.yearMonthPeriodChanged(year, month, calculationPeriodId);
                });
                this.yearChanged = (year) => __awaiter(this, void 0, void 0, function* () {
                    const calculationPeriodId = this.dataItem.CalculationPeriodId;
                    const month = this.dataItem.PayrollMonth;
                    this.yearMonthPeriodChanged(year, month, calculationPeriodId);
                });
                this.monthChanged = (month) => __awaiter(this, void 0, void 0, function* () {
                    const calculationPeriodId = this.dataItem.CalculationPeriodId;
                    const year = this.dataItem.PayrollYear;
                    this.yearMonthPeriodChanged(year, month, calculationPeriodId);
                });
                this.run = (valid) => __awaiter(this, void 0, void 0, function* () {
                    if (valid) {
                        this.progressCalcOptions.api.setProgressTypeId(Forms.ProgressTypes.ImportAttendance);
                        let progressBar = new Forms.SystemProgressBar(this.dbManager, this.translateService);
                        let progressResult = yield progressBar.getByProgressId(Forms.ProgressTypes.ImportAttendance);
                        this.progressId = progressResult.data.ProgressId;
                        this.progressCalcOptions.api.setProgressId(this.progressId);
                        this.progressCalcOptions.api.checkIfProgressRunning(this.progressCalcOptions.api.startProgress(() => {
                            this.showModal();
                            this.disableRun();
                        }), () => __awaiter(this, void 0, void 0, function* () {
                            this.progressCalcOptions.api.setProgressTypeId(Forms.ProgressTypes.CloseDayAttendance);
                            let progressBar = new Forms.SystemProgressBar(this.dbManager, this.translateService);
                            let progressResult = yield progressBar.getByProgressId(Forms.ProgressTypes.CloseDayAttendance);
                            this.progressId = progressResult.data.ProgressId;
                            this.progressCalcOptions.api.setProgressId(this.progressId);
                            this.progressCalcOptions.api.checkIfProgressRunning(this.progressCalcOptions.api.startProgress(() => {
                                this.showModal();
                                this.disableRun();
                            }), this.startCalc);
                        }));
                    }
                });
                this.startCalc = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.getFromDate();
                    let toDate = this.getToDate();
                    var empAssignmentIds = this.getEmpAssignmentIds();
                    let importResult = yield this.importDayCalc(fromDate, toDate, empAssignmentIds);
                    let closeResult = yield this.closeDayCalc(fromDate, toDate, empAssignmentIds);
                });
                this.importDayCalc = (fromDate, toDate, empAssignmentIds) => __awaiter(this, void 0, void 0, function* () {
                    if (this.useImport !== true) {
                        return;
                    }
                    this.progressCalcOptions.api.setProgressTypeId(Forms.ProgressTypes.ImportAttendance);
                    try {
                        let progressBar = new Forms.SystemProgressBar(this.dbManager, this.translateService);
                        let progressResult = yield progressBar.getByProgressId(Forms.ProgressTypes.ImportAttendance);
                        this.progressId = progressResult.data.ProgressId;
                        this.progressCalcOptions.api.setProgressId(this.progressId);
                        this.progressCalcOptions.api.startProgress(() => __awaiter(this, void 0, void 0, function* () {
                            this.showModal();
                            this.disableRun();
                            let closeResult = yield this.dailyImportDay.CalcImportDay(fromDate, toDate, empAssignmentIds);
                            if (this.useCloseDay !== true) {
                                this.stopCalc();
                            }
                        }));
                    }
                    catch (err) {
                        this.stopCalc();
                    }
                });
                this.closeDayCalc = (fromDate, toDate, empAssignmentIds) => __awaiter(this, void 0, void 0, function* () {
                    if (this.useCloseDay !== true) {
                        this.stopCalc();
                        return;
                    }
                    this.progressCalcOptions.api.setProgressTypeId(Forms.ProgressTypes.CloseDayAttendance);
                    try {
                        let progressBar = new Forms.SystemProgressBar(this.dbManager, this.translateService);
                        let progressResult = yield progressBar.getByProgressId(Forms.ProgressTypes.CloseDayAttendance);
                        this.progressId = progressResult.data.ProgressId;
                        this.progressCalcOptions.api.setProgressId(this.progressId);
                        this.progressCalcOptions.api.startProgress(() => __awaiter(this, void 0, void 0, function* () {
                            this.showModal();
                            this.disableRun();
                            let closeResult = yield this.dailyCloseDay.CalcCloseDay(fromDate, toDate, empAssignmentIds);
                            this.stopCalc();
                        }));
                    }
                    catch (err) {
                        this.stopCalc();
                    }
                });
                this.showModal = () => {
                    $('#importCloseAttendanceModal').modal('show');
                };
                this.hideModal = () => {
                    $('#importCloseAttendanceModal').modal('hide');
                };
                this.stopCalc = () => {
                    this.progressCalcOptions.api.stopProgress(() => {
                        this.hideModal();
                        this.enableRun();
                    });
                };
                this.showProgress = () => {
                    this.progressCalcOptions.api.checkIfProgressRunning(() => {
                        this.showModal();
                        this.disableRun();
                    }, null);
                };
                this.enableRun = () => {
                    this.runStatus = true;
                    this.stopStatus = false;
                    this.showProgressStatus = false;
                    this.displayDataStatus = true;
                };
                this.disableRun = () => {
                    this.runStatus = false;
                    this.stopStatus = true;
                    this.showProgressStatus = true;
                    this.displayDataStatus = false;
                };
                this.getFromDate = () => {
                    let fromDate = this.dataItem.FromDate;
                    return fromDate.toUTCString();
                };
                this.getToDate = () => {
                    let toDate = this.dataItem.ToDate;
                    return toDate.toUTCString();
                };
                this.getEmpAssignmentIds = () => {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    return empAssignmentIds;
                };
                // Display All Daily
                this.displayAllDailyData = () => __awaiter(this, void 0, void 0, function* () {
                    //var queryString = this.getCommonQueryString();
                    let fromDate = this.getFromDate();
                    let toDate = this.getToDate();
                    var empAssignmentIds = this.getEmpAssignmentIds();
                    let importResult = yield this.dailyImportDay.getImportDayData(fromDate, toDate, empAssignmentIds);
                    this.importData = importResult.data;
                    let closeResult = yield this.dailyCloseDay.getCloseDayData(fromDate, toDate, empAssignmentIds);
                    this.dataList = closeResult.data;
                    let dailyAttendanceResult = yield this.dailyAttendance.getDailyAttendanceData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.attendanceDataList = dailyAttendanceResult.data;
                    let dailyPenaltyResult = yield this.dailyPenalties.getDailyPenaltyData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.penaltyDataList = dailyPenaltyResult.data;
                    let dailyVacationResult = yield this.dailyVacations.getDailyVacationData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.vacationDataList = dailyVacationResult.data;
                });
                // Daily ImportDay
                this.displayImportData = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.getFromDate();
                    let toDate = this.getToDate();
                    var empAssignmentIds = this.getEmpAssignmentIds();
                    let importResult = yield this.dailyImportDay.getImportDayData(fromDate, toDate, empAssignmentIds);
                    this.importData = importResult.data;
                });
                // Daily CloseDay
                this.displayCloseData = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.getFromDate();
                    let toDate = this.getToDate();
                    var empAssignmentIds = this.getEmpAssignmentIds();
                    let closeResult = yield this.dailyCloseDay.getCloseDayData(fromDate, toDate, empAssignmentIds);
                    this.dataList = closeResult.data;
                });
                // Daily Attendance
                this.displayAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.dataItem.FromDate;
                    let toDate = this.dataItem.ToDate;
                    fromDate = fromDate.toUTCString();
                    toDate = toDate.toUTCString();
                    let empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let result = yield this.dailyAttendance.getDailyAttendanceData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.attendanceDataList = result.data;
                });
                this.postAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyAttendance.attendanceGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyAttendance.postDailyAttendanceData(selectedIds);
                        this.displayAttendanceData();
                    }
                });
                this.unPostAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyPenalties.unPostDailyPenaltyData(selectedIds);
                        this.displayAttendanceData();
                    }
                });
                // DailyPenalty
                this.displayPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.dataItem.FromDate;
                    let toDate = this.dataItem.ToDate;
                    fromDate = fromDate.toUTCString();
                    toDate = toDate.toUTCString();
                    let empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let result = yield this.dailyPenalties.getDailyPenaltyData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.penaltyDataList = result.data;
                });
                this.postPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyPenalties.penaltyGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyPenalties.postDailyPenaltyData(selectedIds);
                        this.displayPenaltyData();
                    }
                });
                this.unPostPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyPenalties.unPostDailyPenaltyData(selectedIds);
                        this.displayPenaltyData();
                    }
                });
                // DailyVacation
                this.displayVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.dataItem.FromDate;
                    let toDate = this.dataItem.ToDate;
                    fromDate = fromDate.toUTCString();
                    toDate = toDate.toUTCString();
                    let empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let result = yield this.dailyVacations.getDailyVacationData(fromDate, toDate, empAssignmentIds);
                    this.dailyData.vacationDataList = result.data;
                });
                this.postVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyVacations.postDailyVacationData(selectedIds);
                        this.displayVacationData();
                    }
                });
                this.unPostVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.dailyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ DailyDeductionId }) => DailyDeductionId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dailyVacations.unPostDailyVacationData(selectedIds);
                        this.displayVacationData();
                    }
                });
                //Monthly Calculation
                this.calculateMonthlyAttendance = (isValid) => __awaiter(this, void 0, void 0, function* () {
                    if (!isValid)
                        return;
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    var result = yield this.attendanceMonthlyCalculation.calculateMonthlyAttendance(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    let data = result.data;
                });
                // Display All Monthly
                this.displayAllMonthlyData = () => __awaiter(this, void 0, void 0, function* () {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    let monthlyAttendanceResult = yield this.monthlyAttendance.getMonthlyAttendanceData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.attendanceDataList = monthlyAttendanceResult.data;
                    let monthlyPenaltyResult = yield this.monthlyPenalties.getMonthlyPenaltyData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.penaltyDataList = monthlyPenaltyResult.data;
                    let monthlyVacationResult = yield this.monthlyVacations.getMonthlyVacationData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.vacationDataList = monthlyVacationResult.data;
                    let monthlySalaryResult = yield this.monthlySalary.getMonthlySalaryData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.salaryDataList = monthlySalaryResult.data;
                });
                // Monthly Attendance
                this.displayMonthlyAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    let result = yield this.monthlyAttendance.getMonthlyAttendanceData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.attendanceDataList = result.data;
                });
                this.postMonthlyAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyAttendance.attendanceGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyAttendance.postMonthlyAttendanceData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyAttendanceData();
                    }
                });
                this.unPostMonthlyAttendanceData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyAttendance.attendanceGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyAttendance.unPostMonthlyAttendanceData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyAttendanceData();
                    }
                });
                // MonthlyPenalty
                this.displayMonthlyPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    let result = yield this.monthlyPenalties.getMonthlyPenaltyData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.penaltyDataList = result.data;
                });
                this.postMonthlyPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyPenalties.penaltyGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyPenalties.postMonthlyPenaltyData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyPenaltyData();
                    }
                });
                this.unPostMonthlyPenaltyData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyPenalties.penaltyGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyPenalties.unPostMonthlyPenaltyData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyPenaltyData();
                    }
                });
                // MonthlyVacation
                this.displayMonthlyVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    let result = yield this.monthlyVacations.getMonthlyVacationData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.vacationDataList = result.data;
                });
                this.postMonthlyVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyVacations.postMonthlyVacationData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyVacationData();
                    }
                });
                this.unPostMonthlyVacationData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlyVacations.vacationGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlyVacations.unPostMonthlyVacationData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlyVacationData();
                    }
                });
                // MonthlySalary
                this.displayMonthlySalaryData = () => __awaiter(this, void 0, void 0, function* () {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    let result = yield this.monthlySalary.getMonthlySalaryData(attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds);
                    this.monthlyData.salaryDataList = result.data;
                });
                this.postMonthlySalaryData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlySalary.salaryGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlySalary.postMonthlySalaryData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlySalaryData();
                    }
                });
                this.unPostMonthlySalaryData = () => __awaiter(this, void 0, void 0, function* () {
                    var selectedRows = this.monthlySalary.salaryGrid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ MonthlyDeductionId }) => MonthlyDeductionId);
                    let attendanceYear = this.dataItem.PayrollYear;
                    let attendanceMonth = this.dataItem.PayrollMonth;
                    let calculationPeriodId = this.dataItem.CalculationPeriodId;
                    if (selectedRows.length > 0) {
                        var result = yield this.monthlySalary.unPostMonthlySalaryData(attendanceYear, attendanceMonth, calculationPeriodId, selectedIds);
                        this.displayMonthlySalaryData();
                    }
                });
                this.dailyImportDay = new Forms.AttendanceDailyImportDay(dbManager, translateService);
                this.dailyCloseDay = new Forms.AttendanceDailyCloseDay(dbManager, translateService);
                this.dailyAttendance = new Forms.AttendanceDailyAttendance(dbManager, translateService);
                this.dailyPenalties = new Forms.AttendanceDailyPenalties(dbManager, translateService);
                this.dailyVacations = new Forms.AttendanceDailyVacations(dbManager, translateService);
                this.monthlyAttendance = new Forms.AttendanceMonthlyAttendance(dbManager, translateService);
                this.monthlyPenalties = new Forms.AttendanceMonthlyPenalties(dbManager, translateService);
                this.monthlyVacations = new Forms.AttendanceMonthlyVacations(dbManager, translateService);
                this.monthlySalary = new Forms.AttendanceMonthlySalary(dbManager, translateService);
                this.attendanceCalculationPeriod = new Forms.AttendanceCalculationPeriod(dbManager, translateService);
                this.attendanceMonthlyCalculation = new Forms.AttendanceMonthlyCalculation(dbManager, translateService);
                //this.attendanceDayTypes = new AttendanceDayTypes(dbManager, translateService);
                this.calculationPeriodChangeEvent = {
                    defaultAction: this.calculationPeriodChanged
                };
                this.yearChangeEvent = {
                    defaultAction: this.yearChanged
                };
                this.monthChangeEvent = {
                    defaultAction: this.monthChanged
                };
                this.dailyData = { attendanceDataList: [], penaltyDataList: [], vacationDataList: [], importDayDataList: [], closeDayDataList: [] };
                this.monthlyData = { attendanceDataList: [], penaltyDataList: [], vacationDataList: [], salaryDataList: [] };
                this.dataItem.EmpAssignmentId = null;
                this.filter = $filter;
                this.dataItem = {};
                this.progressCalcOptions = { progressTitle: "Import & Close Attendance" };
                //this.dbManager.Get("SystemProgress", "GetByProgressTypeId", "?progressTypeId=4", (result) => {
                //    this.progressId = result.data.ProgressId;
                //})
                //var importGridColumnDefs = [
                //    { headerName: "EmployeeCode", field: "EmployeeCode" },
                //    { headerName: "ProfileName", field: "ProfileName" },
                //    { headerName: "TransactionDate", field: "TransactionDate", template: "<p>{{data.TransactionDate | date:'dd/MM/yyyy'}}</p>" },
                //    { headerName: "EmpTimeIn", field: "EmpTimeIn" },
                //    { headerName: "EmpTimeOut", field: "EmpTimeOut" }
                //];
                //this.importGrid = {
                //    gridOptions: {
                //        rowData: this.importData,
                //        columnDefs: importGridColumnDefs
                //    },
                //    gridColumnDefs: importGridColumnDefs
                //};
                //this.applyIsModifiedColor();
                //this.applyAttendanceDayTypesColor();
                this.FormSetup.LoadForm((form) => {
                    this.headerViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    //this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    //this.FormSetup.MyForm.IndexView.Load();
                });
            }
        }
        ImportCloseDayAttendance.getPostedStyle = (params) => {
            if (params.data && params.data.DeductionStatusId === 4) {
                return { background: "silver", 'border-bottom': "0.2px solid silver" };
            }
            else {
                return { background: "white", 'border-bottom': "0.2px solid silver" };
            }
        };
        Forms.ImportCloseDayAttendance = ImportCloseDayAttendance;
        Forms.hcmsForms.controller('importCloseDayAttendanceController', ['translateService', 'dataManagerService', '$filter', '$scope', '$stateParams', function (translateService, dataManagerService, $filter, $scope, $stateParams) {
                return new ImportCloseDayAttendance(translateService, dataManagerService, $filter, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceMonthlyAttendance {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getMonthlyAttendanceData = (attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "GetMonthlyAttendance", quesryString, empAssignmentIds);
                };
                this.postMonthlyAttendanceData = (attendanceYear, attendanceMonth, calculationPeriodId, monthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "PostMonthlyAttendance", quesryString, monthlyDeductionIds);
                };
                this.unPostMonthlyAttendanceData = (attendanceYear, attendanceMonth, calculationPeriodId, monthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "UnPostMonthlyAttendance", quesryString, monthlyDeductionIds);
                };
                var attGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("AttendanceYear"), field: "AttendanceYear" },
                    { headerName: this.translator.Translate("AttendanceMonth"), field: "AttendanceMonth" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.attendanceGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: attGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: attGridColumnDefs
                };
            }
        }
        Forms.AttendanceMonthlyAttendance = AttendanceMonthlyAttendance;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceMonthlyPenalties {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getMonthlyPenaltyData = (attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "GetMonthlyPenalties", quesryString, empAssignmentIds);
                };
                this.postMonthlyPenaltyData = (attendanceYear, attendanceMonth, calculationPeriodId, monthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "PostMonthlyPenalties", quesryString, monthlyDeductionIds);
                };
                this.unPostMonthlyPenaltyData = (attendanceYear, attendanceMonth, calculationPeriodId, monthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "UnPostMonthlyPenalties", quesryString, monthlyDeductionIds);
                };
                var penaltyGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("AttendanceYear"), field: "AttendanceYear" },
                    { headerName: this.translator.Translate("AttendanceMonth"), field: "AttendanceMonth" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.penaltyGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: penaltyGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: penaltyGridColumnDefs
                };
            }
        }
        Forms.AttendanceMonthlyPenalties = AttendanceMonthlyPenalties;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceMonthlySalary {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getMonthlySalaryData = (attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "GetMonthlySalary", quesryString, empAssignmentIds);
                };
                this.postMonthlySalaryData = (attendanceYear, attendanceMonth, calculationPeriodId, MonthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "PostMonthlySalary", quesryString, MonthlyDeductionIds);
                };
                this.unPostMonthlySalaryData = (attendanceYear, attendanceMonth, calculationPeriodId, MonthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "UnPostMonthlySalary", quesryString, MonthlyDeductionIds);
                };
                var salaryGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("AttendanceYear"), field: "AttendanceYear" },
                    { headerName: this.translator.Translate("AttendanceMonth"), field: "AttendanceMonth" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.salaryGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: salaryGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: salaryGridColumnDefs
                };
            }
        }
        Forms.AttendanceMonthlySalary = AttendanceMonthlySalary;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceMonthlyVacations {
            constructor(dbManager, translator) {
                this.dbManager = dbManager;
                this.translator = translator;
                this.getMonthlyVacationData = (attendanceYear, attendanceMonth, calculationPeriodId, empAssignmentIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "GetMonthlyVacations", quesryString, empAssignmentIds);
                };
                this.postMonthlyVacationData = (attendanceYear, attendanceMonth, calculationPeriodId, MonthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "PostMonthlyVacations", quesryString, MonthlyDeductionIds);
                };
                this.unPostMonthlyVacationData = (attendanceYear, attendanceMonth, calculationPeriodId, MonthlyDeductionIds) => {
                    let quesryString = `?calculationPeriodId=${calculationPeriodId}&attendanceYear=${attendanceYear}&attendanceMonth=${attendanceMonth}`;
                    return this.dbManager.PostPromise("AttendanceMonthlyDeduction", "UnPostMonthlyVacations", quesryString, MonthlyDeductionIds);
                };
                var vacationGridColumnDefs = [
                    { headerName: this.translator.Translate("EmployeeCode"), field: "EmployeeCode", headerCheckboxSelection: true, checkboxSelection: true },
                    { headerName: this.translator.Translate("ProfileName"), field: "ProfileName" },
                    { headerName: this.translator.Translate("RuleTypeName"), field: "RuleTypeName" },
                    { headerName: this.translator.Translate("AttendanceYear"), field: "AttendanceYear" },
                    { headerName: this.translator.Translate("AttendanceMonth"), field: "AttendanceMonth" },
                    { headerName: this.translator.Translate("DeductionValue"), field: "DeductionValue" },
                    { headerName: this.translator.Translate("PostedValue"), field: "PostedValue" },
                    { headerName: this.translator.Translate("DeductionStatusName"), field: "DeductionStatusName" }
                ];
                this.vacationGrid = {
                    gridOptions: {
                        rowData: [],
                        rowSelection: 'multiple',
                        suppressRowClickSelection: true,
                        columnDefs: vacationGridColumnDefs,
                        //isRowSelectable: function (rowNode) {
                        //    return rowNode.data ? rowNode.data.DeductionStatusId !== 4 : false;
                        //},
                        getRowStyle: HCMS.Forms.ImportCloseDayAttendance.getPostedStyle
                    },
                    gridColumnDefs: vacationGridColumnDefs
                };
            }
        }
        Forms.AttendanceMonthlyVacations = AttendanceMonthlyVacations;
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpChangeSalaryTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.itemsList = [];
                this.itemDateOptions = {};
                this.payItemOptions = {};
                this.AddViewClicked = (callback) => {
                    //this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    //this.displayCreateNewTemplate = true;
                    //this.displayEditTemplate = false
                    //this.displayDetailsTemplate = false;
                    this.displayAssignmentInfo();
                    this.displayAssigmentPayItems();
                };
                this.displayData = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, (response) => {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                this.displayAssignmentInfo = () => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetEmpAssignmentInfo', queryString, (response) => {
                        var dta = response.data;
                        currentObject.dataItem.UnitId = dta.UnitId;
                        currentObject.dataItem.PositionId = dta.PositionId;
                        currentObject.dataItem.PayrollGroupID = dta.PayrollGroupID;
                        currentObject.dataItem.LocationId = dta.LocationId;
                        currentObject.dataItem.JobId = dta.JobId;
                        currentObject.dataItem.GradeId = dta.GradeId;
                        currentObject.dataItem.CurrencyId = dta.CurrencyId;
                        currentObject.dataItem.CostCenterId = dta.CostCenterId;
                        currentObject.dataItem.ContractTypeId = dta.ContractTypeId;
                    }, null);
                };
                this.displayAssigmentPayItems = () => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetAssignmentBasicItems', queryString, (response) => {
                        currentObject.itemsList = response.data;
                    }, null);
                };
                this.displayChangeSalaryPayItems = () => {
                    var currentObject = this;
                    let empPayrollChangeSalaryId = 0;
                    if (currentObject.dataItem !== null) {
                        empPayrollChangeSalaryId = currentObject.dataItem.EmpPayrollChangeSalaryId;
                    }
                    var queryString = currentObject.FormData.getCommonParams() + '&changeSalaryId=' + empPayrollChangeSalaryId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetChangeDetails', queryString, (response) => {
                        currentObject.itemsList = response.data;
                    }, null);
                };
                this.newValueChanged = (item) => {
                    if (item.PayItemOldValue == null || item.PayItemOldValue == 0) {
                        item.PayItemPercentage = item.PayItemNewValue / 100;
                    }
                    else {
                        item.PayItemPercentage = (item.PayItemNewValue - item.PayItemOldValue) / item.PayItemOldValue; // , HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.DecimalScale);
                    }
                };
                this.addPayItem = () => {
                    if (this.selectedPayItem !== null) {
                        this.itemsList.push({ PayItemId: this.selectedPayItem.PayItemId, PayItemCode: this.selectedPayItem.PayItemCode, PayItemName: this.selectedPayItem.PayItemName, PayItemOldValue: 0, PayItemNewValue: 0, PayItemPercentage: 0, IsRetroActive: 0, RetroActiveValidDate: null });
                    }
                };
                this.payItemChangeEvent = {
                    selectedItemChanged: (item) => {
                        this.selectedPayItem = item;
                    }
                };
                this.decimals = HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.DecimalScale;
                this.payItemOptions = { DropDownId: 81, SelectDisplayValue: 'PayItemId', SelectDisplayName: 'PayItemName', SelectDisplayName_: 'PayItemName_' };
                // GetDataByParentId
                this.GetDataByParentId = this.displayData;
                this.displayCreateNewTemplate;
                //let gridOptions = { singleClickEdit: true };
                //let gridColumnDefs = [
                //    //{ headerName: scope.selectText, width: 50, cellRenderer: selectCell, suppressMenu: true, suppressSorting: true },
                //    { field: 'PayItemCode', hide: false, controlTypeName: 'text', headerName: this.translateText('PayItemCode') },
                //    { field: 'PayItemName', hide: false, controlTypeName: 'text', headerName: this.translateText('PayItemName') },
                //    { field: 'PayItemOldValue', hide: false, controlTypeName: 'number', headerName: this.translateText('PayItemOldValue') },
                //    { field: 'PayItemNewValue', hide: false, editable: true, controlTypeName: 'number', headerName: this.translateText('PayItemNewValue') },
                //    { field: 'PayItemPercentage', hide: false, controlTypeName: 'number', headerName: this.translateText('PayItemPercentage') },
                //    { field: 'IsRetroActive', hide: false, controlTypeName: 'check', headerName: this.translateText('IsRetroActive') },
                //    { field: 'RetroActiveValidDate', hide: false, controlTypeName: 'date', headerName: this.translateText('RetroActiveValidDate') }
                //];
                //this.itemsGrid = { name: 'itemsGrid', gridOptions: gridOptions, gridColumnDefs: gridColumnDefs };
                this.OnAdding.addHandler((e) => {
                    this.dataItem.ChangeSalaryDetailsList = this.itemsList;
                });
                this.OnCreateNewClicked.addHandler(this.AddViewClicked);
                this.OnEditClicked.addHandler(this.displayChangeSalaryPayItems);
            }
        }
        Forms.EmpChangeSalaryTransaction = EmpChangeSalaryTransaction;
        Forms.hcmsForms.controller('empChangeSalaryTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpChangeSalaryTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpChangeSalaryTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('empChangeSalarySelectedProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EmpChangeSalaryTransHome = EmpChangeSalaryTransHome;
        Forms.hcmsForms.controller('empChangeSalaryTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpChangeSalaryTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/module.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class OrgChart {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.dbManager = dbManager;
                this.$onInit = () => { };
                this.orgChart = { treeOptions: null };
                this.formId = 0;
                this.formId = scope.tab.MenuItem.FormId; // $stateParams.formId;
                var currentLogin = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                this.orgChart.treeOptions = {
                    formId: this.formId, userId: currentLogin.User.UserId, langId: currentLogin.Language.LangId,
                    companyId: currentLogin.Company.CompanyId, treeId: 2, valueField: 'TreeNodeId', textField: 'content'
                };
            }
        }
        Forms.OrgChart = OrgChart;
        Forms.hcmsForms.controller('unitOrgChartController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new OrgChart(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpBasicItemTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.EmpBasicItemTransaction = EmpBasicItemTransaction;
        Forms.hcmsForms.controller('empBasicItemTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpBasicItemTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpBasicItemTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedEmpBasicItemProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EmpBasicItemTransHome = EmpBasicItemTransHome;
        Forms.hcmsForms.controller('empBasicItemTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpBasicItemTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpPaymentMethod extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.EmpPaymentMethod = EmpPaymentMethod;
        Forms.hcmsForms.controller('empPaymentMethodController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpPaymentMethod(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpPaymentMethodHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedEmpPaymentMethod');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EmpPaymentMethodHome = EmpPaymentMethodHome;
        Forms.hcmsForms.controller('empPaymentMethodHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpPaymentMethodHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class stopSal extends Forms.BaseSubFormManager {
            //private loanTransGrid: Grid
            //private loanTransactions: [];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.stopSal = stopSal;
        Forms.hcmsForms.controller('stopSalController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new stopSal(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class stopSalHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedVacationProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = {
                    selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false
                };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.stopSalHome = stopSalHome;
        Forms.hcmsForms.controller('stopSalHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new stopSalHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LoanTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.displayTimeRange = false;
                this.LoanTransactionRule = {};
                this.loanTransactions = [];
                this.getEmpLoanInstallments = (empLoanId) => {
                    if (HCMS.Validations.CommonValidations.isNull(empLoanId))
                        return;
                    var queryString = '?empLoanId=' + empLoanId;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetEmpLoanInstallments', queryString, (response) => {
                        this.loanTransactions = response.data;
                    }, null);
                };
                //Event loanId Changed
                this.loanIdChanged = (loanId) => {
                };
                //check Loan Installment Number By LoanAmountChanged
                this.checkLoanAmountCahnged = (loanAmount) => {
                    if (loanAmount != null) {
                        this.dataItem.LoanInstalmentNumber = loanAmount / this.dataItem.LoanInstalmentAmount;
                    }
                };
                //check Loan Installment Amount By LoanInstallmentNumberChanged
                this.checkLoanInstallmentAmount = (installmentAmount) => {
                    if (installmentAmount > 0) {
                        this.dataItem.LoanInstalmentNumber = Math.ceil(this.dataItem.LoanAmount / installmentAmount);
                    }
                };
                //check Loan Installment Amount By LoanInstallmentNumberChanged
                this.checkLoanInstallmentNumber = (installmentNumber) => {
                    if (installmentNumber > 0) {
                        this.dataItem.LoanInstalmentAmount = this.dataItem.LoanAmount / installmentNumber;
                    }
                };
                // set Transaction Events
                this.loanIdEvents = { defaultAction: this.loanIdChanged };
                this.LoanAmountEvents = { defaultAction: this.checkLoanAmountCahnged };
                this.LoanInstallmentAmountEvents = { defaultAction: this.checkLoanInstallmentAmount };
                this.LoanInstallmentNumberEvents = { defaultAction: this.checkLoanInstallmentNumber };
                var loanTransGridColumnDefs = [
                    { headerName: "PayrollYear", field: "PayrollYear" },
                    { headerName: "PayrollMonth", field: "PayrollMonth" },
                    { headerName: "PayrollRunName", field: "PayrollRunName" },
                    { headerName: "EmpLoanSettlementCode", field: "EmpLoanSettlementCode" },
                    { headerName: "InstallmentAmount", field: "InstallmentAmount" }
                ];
                this.loanTransGrid = {
                    name: 'loanTransGrid',
                    gridOptions: {
                        rowData: this.loanTransactions,
                        columnDefs: loanTransGridColumnDefs
                    },
                    gridColumnDefs: loanTransGridColumnDefs
                };
                this.OnEditClicked.addHandler(() => {
                    this.getEmpLoanInstallments(this.dataItem.EmpLoanId);
                });
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.LoanTransaction = LoanTransaction;
        Forms.hcmsForms.controller('loanTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new LoanTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LoanTransactionHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedLoanTransactionProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.LoanTransactionHome = LoanTransactionHome;
        Forms.hcmsForms.controller('loanTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new LoanTransactionHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpPayrollVariableItemTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.EmpPayrollVariableItemTransaction = EmpPayrollVariableItemTransaction;
        Forms.hcmsForms.controller('empPayrollVariableItemTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpPayrollVariableItemTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpPayrollVariableItemTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedEmpPayrollVariableItemTransactionProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EmpPayrollVariableItemTransHome = EmpPayrollVariableItemTransHome;
        Forms.hcmsForms.controller('empPayrollVariableItemTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpPayrollVariableItemTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class excelHeadersHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                //public listOptions: any = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.activeTabIndex = 1;
                    // this.activateTab('selectedexcelHeader');
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                this.addNewClicked = () => {
                    //this.dataItem = {};
                    this.dataItem.RefNo = undefined;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedexcelHeader');
                };
                // this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                    //this.FormSetup.MyForm.IndexView.EditCallback = this.selectClicked;
                    //  this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.FormSetup.MyForm.LoadSubForms();
                });
            }
        }
        Forms.excelHeadersHome = excelHeadersHome;
        Forms.hcmsForms.controller('excelHeadersHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new excelHeadersHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class UploadPayrollVariableItemsHome extends Forms.excelHeadersHome {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope, $stateParams);
                this.$onInit = () => { };
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    //this.activateTab('selectedexcelMonthlySettlHeader');
                    this.activeTabIndex = 1;
                };
                this.addNewClicked = () => {
                    //this.dataItem = {};
                    this.dataItem.RefNo = undefined;
                    this.activeTabIndex = 1;
                };
            }
        }
        Forms.UploadPayrollVariableItemsHome = UploadPayrollVariableItemsHome;
        Forms.hcmsForms.controller('uploadPayrollVariableItemsHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadPayrollVariableItemsHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
        class UploadPayrollVariableItems extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                super(translateService, dbManager, scope.formId);
                this.scope = scope;
                this.$onInit = () => { };
                this.xlsOptions = { data: [], fileName: "", onChanged: null, onClick: null };
                this.RefNo = 0;
                this.FileName = "";
                this.LoadFromExcel = () => __awaiter(this, void 0, void 0, function* () {
                    //this.dbManager.Post(this.FormSetup.MyForm.FormController, "GetList", "", data, (result) => {
                    //    this.dataList = result.data;
                    //}, (result) => {
                    //    this.smartALert.Error(result.data);
                    //})
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    //this.FileName = (this.xlsOptions.fileName == null || this.xlsOptions.fileName == "" ? "text" : this.xlsOptions.fileName);
                    this.FileName = this.xlsOptions.fileName;
                    var data = this.xlsOptions.data;
                    if (this.FileName == null || this.FileName == "" || data == null || data.length <= 0) {
                        this.smartALert.Warning("Please select file for upload.");
                        return false;
                    }
                    var queryString = "?refNo=" + this.RefNo + "&fileName=" + this.FileName;
                    //if (data == null || data.length <= 0) return false;
                    var postResult = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "SaveList", queryString, data);
                    this.getList();
                });
                this.clearSelectedFile = (e) => {
                    e.wrap('<form>').closest('form').get(0).reset();
                    e.unwrap();
                    //// Prevent form submission
                    //e.stopPropagation();
                    //e.preventDefault();
                };
                this.getList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetList", queryString);
                    this.dataList = result.data;
                });
                this.createNew = () => __awaiter(this, void 0, void 0, function* () {
                    this.dataList = [];
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetMaxRefNo", "");
                    this.RefNo = result.data;
                });
                this.loadByRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    this.getList();
                });
                this.postItemList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ RefId }) => RefId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "PostList", queryString, selectedIds);
                        //var result2 = await this.getList();
                        this.smartALert.Alert("Records has been posted successfully");
                        this.getList();
                    }
                    else {
                        this.smartALert.Warning("You must select record(s) to post.");
                    }
                });
                this.unPostItemList = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        let selectedIds = selectedRows.map(({ RefId }) => RefId);
                        if (selectedRows.length > 0) {
                            var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "UnPostList", queryString, selectedIds);
                            //var result2 = await this.getList();
                            this.smartALert.Alert("Records has been posted successfully");
                            this.getList();
                        }
                        else {
                            this.smartALert.Warning("You must select record(s) to unpost.");
                        }
                        //for (let entry of selectedRows) {
                        //    var index = this.dataList.indexOf(entry);
                        //    this.dataList.splice(index, 1);
                        //}
                    }));
                });
                this.deleteRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var result = yield this.dbManager.DeletePromise(this.FormSetup.MyForm.FormController, "Delete", queryString);
                        var message = new HCMS.Controls.messageHandler();
                        message.MessageConfirmation(result.data, "Deleted Successfuly");
                        this.loadByRefNo();
                    }));
                });
                //private saveItemList = (valid) => {
                //    if (this.xlsOptions.data !== null) {
                //        // var data = JSON.parse(this.xlsOptions.data.toString());
                //        var data = this.dataList;// JSON.stringify(this.xlsOptions.data);
                //        this.dbManager.Post(this.FormSetup.MyForm.FormController, "SaveList", "", data, (result) => {
                //            this.smartALert.Alert("Saved Successfully");
                //        }, (result) => {
                //            this.smartALert.Error(result.data);
                //        })
                //    }
                //}
                this.deleteClicked = (item) => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var index = this.dataList.indexOf(item);
                        this.dataList.splice(index, 1);
                    });
                };
                this.deleteSelectedRows = () => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        for (let entry of selectedRows) {
                            var index = this.dataList.indexOf(entry);
                            this.dataList.splice(index, 1);
                        }
                    });
                };
                this.smartALert = new HCMS.Controls.SmartAlert();
                this.FormSetup.LoadForm((form) => {
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.scope.$watch(() => this.scope.parentItem.RefNo, (newValue, oldValue) => {
                        if (oldValue !== newValue) {
                            if (newValue !== undefined) {
                                this.RefNo = Number.parseInt(newValue);
                                this.RefNo = this.RefNo;
                                this.loadByRefNo();
                            }
                            else {
                                this.createNew();
                            }
                        }
                    });
                    //this.createNew();
                    //  this.RefNo = ExcelHeader.selectedProfile
                });
                this.xlsOptions.onClick = this.clearSelectedFile;
                //this.xlsOptions.onChanged = this.emportDataChanged;
            }
            ;
        }
        Forms.UploadPayrollVariableItems = UploadPayrollVariableItems;
        Forms.hcmsForms.controller('uploadPayrollVariableItemsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadPayrollVariableItems(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class loanSettlement extends Forms.BaseSubFormManager {
            //private loanTransGrid: Grid
            //private loanTransactions: [];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.displayPostPonRange = false;
                this.displaySetllmentAmount = false;
                this.empLoan = {};
                this.loanTransOptions = {};
                this.closeLoanSettlement = (callback) => {
                    var queryString = "?empLoanSettlementId=" + this.dataItem.EmpLoanSettlementId;
                    this.dbManager.Post("EmpLoanSettlement", "CloseTransaction", queryString, null, (result) => {
                        if (callback != null)
                            callback(result.data);
                        var message = new HCMS.Controls.messageHandler();
                        message.MessageConfirmation(result.data, "Closed Successfuly");
                    });
                };
                //Event empLoanId Changed
                this.empLoanIdChanged = (item) => {
                    this.dataItem.OriginalFromYear = item.FromYear;
                    this.dataItem.OriginalFromMonth = item.FromMonth;
                    this.dataItem.RemainingAmount = item.LoanRemainingAmount;
                    this.globalRemaining = item.LoanRemainingAmount;
                    this.dataItem.LoanTotalPaidAmount = item.LoanTotalPaidAmount;
                    this.dataItem.LoanAmount = item.LoanAmount;
                };
                this.getEmpLoans = (empAssignmentId) => {
                    if (HCMS.Validations.CommonValidations.isNull(empAssignmentId))
                        return;
                    let queryString = "?&empAssignmentId=" + empAssignmentId;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetEmpLoans', queryString, (response) => {
                        this.loanTransOptions.api.setItemsList(response.data);
                    }, null);
                };
                //Event SystemLoanSettlementTypeId Changed
                this.SystemLoanSettlementTypeIdChanged = (systemLoanSettlementTypeId) => {
                    this.CheckSysemLoanSettlemntType(systemLoanSettlementTypeId);
                };
                //Event SettlmentAmount Changed
                this.SettlementAmountChanged = (settlementAmount) => {
                    this.CheckSettlementAmountChanged(settlementAmount);
                };
                // set Transaction Events
                //this.LoanFromDateEvents = { defaultAction: this.fromDateChanged };
                //this.LoanToDateEvents = { defaultAction: this.toDateChanged };
                //this.LoanDaysEvents = { defaultAction: this.daysChanged };
                //this.LoanPartDateEvents = { defaultAction: this.partDateChanged };
                this.empLoanIdEvents = { selectedItemChanged: this.empLoanIdChanged };
                this.systemLoansettlementType = { defaultAction: this.SystemLoanSettlementTypeIdChanged };
                this.settlementAmountEvents = { defaultAction: this.SettlementAmountChanged };
                this.loanTransOptions = { ControlTypeName: 'select', DropDownId: 0, SelectDisplayValue: 'EmpLoanId', SelectDisplayName: 'LoanDetails', SelectDisplayName_: 'LoanDetails_' };
                //this.loanTransGrid.gridOptions
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                this.OnEditClicked.addHandler(() => {
                    this.getEmpLoans(this.dataItem.EmpAssignmentId);
                    this.CheckSysemLoanSettlemntType(this.dataItem.SystemLoanSettlementTypeId);
                });
                this.OnCreateNewClicked.addHandler(() => {
                    this.getEmpLoans(this.parentItem[this.parentIdFieldName]);
                });
            }
            CloseSettlementTransaction() {
                this.closeLoanSettlement((data) => {
                    //this.handleCloseButton();
                });
            }
            CheckSysemLoanSettlemntType(systemLoanSettlementTypeId) {
                if (HCMS.Validations.CommonValidations.isNull(systemLoanSettlementTypeId))
                    return;
                if (systemLoanSettlementTypeId == 2) {
                    this.displaySetllmentAmount = true;
                    this.displayPostPonRange = false;
                    this.dataItem.SettlementAmount = this.dataItem.RemainingAmount;
                    this.dataItem.RemainingAmount = this.globalRemaining - this.dataItem.SettlementAmount;
                }
                else if (systemLoanSettlementTypeId == 3) {
                    this.displaySetllmentAmount = false;
                    this.displayPostPonRange = true;
                    this.dataItem.SettlementAmount = 0;
                }
            }
            CheckSettlementAmountChanged(settlementAmount) {
                if (HCMS.Validations.CommonValidations.isNull(settlementAmount))
                    return;
                this.dataItem.RemainingAmount = this.globalRemaining - settlementAmount;
                //if (this.dataItem.SystemLoanSettlementTypeId = 2 && settlementAmount < this.empLoan.LoanRemainingAmount) //Fukk Setllemtnt
                //{
                //    //Show Error Message
                //}
            }
        }
        Forms.loanSettlement = loanSettlement;
        Forms.hcmsForms.controller('loanSettlementController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new loanSettlement(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LoanSettlementHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedVacationProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = {
                    selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false
                };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.LoanSettlementHome = LoanSettlementHome;
        Forms.hcmsForms.controller('loanSettlementHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new LoanSettlementHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LoanPostTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, timeout, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.runStatus = false;
                this.stopStatus = false;
                this.showProgressStatus = false;
                this.displayDataStatus = false;
                this.gridOptions = {};
                this.run = (valid) => {
                    if (valid) {
                        this.progressCalcOptions.checkIfProgressRunning(this.progressCalcOptions.startProgress(() => {
                            this.showModal();
                            this.disableRun();
                        }), this.startCalc);
                    }
                };
                this.startCalc = () => {
                    var queryString = "?formId=" + 0;
                    queryString += "&userId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId;
                    queryString += "&langId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + this.dataItem.PayrollGroupId;
                    queryString += "&payrollRunNo=" + this.dataItem.RunNo;
                    queryString += "&payrollYear=" + this.dataItem.PayrollYear;
                    queryString += "&payrollMonth=" + this.dataItem.PayrollMonth;
                    this.progressCalcOptions.startProgress(() => {
                        this.showModal();
                        this.disableRun();
                    });
                    this.dbManager.Post("LoanPost", "Run", queryString, this.dataItem.LoanId, (response) => {
                        this.progressCalcOptions.stopProgress(() => {
                            this.hideModal();
                            this.enableRun();
                            this.getCalculatedData();
                        });
                    }, (response) => {
                        this.stopCalc();
                    });
                };
                this.showModal = () => {
                    $('#loanPostModal').modal('show');
                };
                this.hideModal = () => {
                    $('#loanPostModal').modal('hide');
                };
                this.stopCalc = () => {
                    this.progressCalcOptions.stopProgress(() => {
                        this.hideModal();
                        this.enableRun();
                    });
                };
                this.showProgress = () => {
                    this.progressCalcOptions.checkIfProgressRunning(() => {
                        this.showModal();
                        this.disableRun();
                    }, null);
                };
                this.enableRun = () => {
                    this.runStatus = true;
                    this.stopStatus = false;
                    this.showProgressStatus = false;
                    this.displayDataStatus = true;
                };
                this.disableRun = () => {
                    this.runStatus = false;
                    this.stopStatus = true;
                    this.showProgressStatus = true;
                    this.displayDataStatus = false;
                };
                this.getCalculatedData = () => {
                    var queryString = "?formId=" + 0;
                    queryString += "&userId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId;
                    queryString += "&langId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + this.dataItem.PayrollGroupId;
                    queryString += "&payrollRunNo=" + this.dataItem.RunNo;
                    queryString += "&payrollYear=" + this.dataItem.PayrollYear;
                    queryString += "&payrollMonth=" + this.dataItem.PayrollMonth;
                    this.dbManager.Post("LoanPost", "GetCalculatedEmployees", queryString, this.dataItem.LoanId, (response) => {
                        this.dataList = response.data;
                    }, (response) => {
                    });
                };
                this.gridColumns = [
                    { field: 'ProfileCode', hide: false, controlTypeName: 'text', headerName: this.translateText('ProfileCode') },
                    { field: 'ProfileName', hide: false, controlTypeName: 'text', headerName: this.translateText('ProfileName') },
                    { field: 'LoanName', hide: false, controlTypeName: 'text', headerName: this.translateText('LoanName') },
                    { field: 'InstallmentAmount', hide: false, controlTypeName: 'number', headerName: this.translateText('InstallmentAmount') }
                ];
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.profileId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.profileId))
                        currentObject.profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + currentObject.profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                this.gridOptions = { SelectButton: false, EditButton: false, DeleteButton: false, enableQuickFilter: true, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === 'rtl' ? true : false };
                this.gridOptions.columnDefs = this.gridColumns;
                this.gridOptions.rowData = this.dataList;
                timeout(() => {
                    this.progressCalcOptions.checkIfProgressRunning(() => {
                        this.progressCalcOptions.startProgress(() => {
                            this.showModal();
                            this.disableRun();
                        });
                    }, null);
                }, 2000);
            }
        }
        Forms.LoanPostTransaction = LoanPostTransaction;
        Forms.hcmsForms.controller('loanPostTransactionController', ['translateService', 'dataManagerService', '$scope', '$timeout', '$stateParams', function (translateService, dataManagerService, $scope, $timeout, $stateParams) {
                return new LoanPostTransaction(translateService, dataManagerService, $scope, $timeout, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        //interface IEmpPayrollHeader {
        //    EmpPayrollHeaderId: number;
        //    EmpAssignmentId: number;
        //    PayrollYear: number;
        //    PayrollMonth: number;
        //    PayrollRunId: number;
        //    PayrollGroupId: number;
        //}
        class EmpPayrollHeader {
            constructor() {
                this.EmpPayrollHeaderId = 0;
                this.EmpAssignmentId = 0;
                this.PayrollYear = 0;
                this.PayrollMonth = 0;
                this.PayrollRunId = 0;
                this.PayrollGroupId = 0;
            }
        }
        Forms.EmpPayrollHeader = EmpPayrollHeader;
        class PayrollCalcSalary extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $filter, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.runStatus = false;
                this.stopStatus = false;
                this.showProgressStatus = false;
                this.displayDataStatus = false;
                this.payrollGroup = {};
                this.progressId = 0;
                this.progressTypeId = 2;
                this.salaryHeaderData = [];
                this.earningGrid = { gridOptions: {}, gridColumnDefs: [] };
                this.deductionGrid = { gridOptions: {}, gridColumnDefs: [] };
                this.salaryEarningData = [];
                this.salaryDeductionData = [];
                this.selectedAssignments = [];
                this.selectedHeaderData = {};
                this.totalRunSalary = {
                    totalEarning: 0, totalDeduction: 0, totalNet: 0
                };
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedHeaderData = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('salaryDetailsData');
                    this.displaySalaryDetailsData();
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                this.run = (valid) => {
                    if (valid) {
                        this.progressCalcOptions.api.checkIfProgressRunning(this.progressCalcOptions.api.startProgress(() => {
                            this.showModal();
                            this.disableRun();
                        }), this.startCalc);
                    }
                };
                this.startCalc = () => {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                        //let idString = this.dataItem.EmpAssignmentId as string;
                        //let ids = idString.split(',');
                        //if (ids.length > 0) {
                        //    for (let id of ids) {
                        //        empAssignmentIds.push(parseInt(id));
                        //    }
                        //}
                    }
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&userId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId;
                    queryString += "&langId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + this.dataItem.PayrollGroupId;
                    queryString += "&payrollRunId=" + this.dataItem.PayrollRunId;
                    queryString += "&payrollYear=" + this.dataItem.PayrollYear;
                    queryString += "&payrollMonth=" + this.dataItem.PayrollMonth;
                    this.progressCalcOptions.api.startProgress(() => {
                        this.showModal();
                        this.disableRun();
                    });
                    this.dbManager.Post("PayrollCalcSalary", "Run", queryString, empAssignmentIds, (response) => {
                        this.stopCalc();
                    }, (response) => {
                        this.stopCalc();
                    });
                };
                this.showModal = () => {
                    $('#payrollCalcSalaryModal').modal('show');
                };
                this.hideModal = () => {
                    $('#payrollCalcSalaryModal').modal('hide');
                };
                this.stopCalc = () => {
                    this.progressCalcOptions.api.stopProgress(() => {
                        this.hideModal();
                        this.enableRun();
                    });
                };
                this.showProgress = () => {
                    this.progressCalcOptions.api.checkIfProgressRunning(() => {
                        this.showModal();
                        this.disableRun();
                    }, null);
                };
                this.enableRun = () => {
                    this.runStatus = true;
                    this.stopStatus = false;
                    this.showProgressStatus = false;
                    this.displayDataStatus = true;
                };
                this.disableRun = () => {
                    this.runStatus = false;
                    this.stopStatus = true;
                    this.showProgressStatus = true;
                    this.displayDataStatus = false;
                };
                this.displaySalaryData = () => {
                    this.displaySalaryHeaderData();
                    this.displaySalaryDetailsData();
                };
                this.displaySalaryHeaderData = () => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                        //let idString = this.dataItem.EmpAssignmentId as string;
                        //let ids = idString.split(',');
                        //if (ids.length > 0) {
                        //    for (let id of ids) {
                        //        empAssignmentIds.push(parseInt(id));
                        //    }
                        //}
                    }
                    this.dbManager.Post("PayrollCalcSalary", "GetSalaryHeaderData", queryString, empAssignmentIds, (result) => {
                        this.salaryHeaderData = result.data;
                        this.activeTabIndex = 0;
                        // this.activateTab('salaryHeaderData');
                    });
                };
                this.displaySalaryDetailsData = () => {
                    if (this.selectedHeaderData == null || this.selectedHeaderData.EmpAssignmentId == undefined || this.selectedHeaderData.EmpAssignmentId == null || this.selectedHeaderData.EmpAssignmentId === 0) {
                        return;
                    }
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    var empAssignments = 'empAssignmentIds=' + this.selectedHeaderData.EmpAssignmentId;
                    //if (this.selectedHeaderData.EmpAssignmentId != null && this.selectedHeaderData.EmpAssignmentId.length > 0) {
                    //    empAssignments = this.selectedHeaderData.EmpAssignmentId.map(item => 'empAssignmentIds=' + item.EmpAssignmentId).join('&');
                    //}
                    queryString += "&" + empAssignments;
                    this.dbManager.Get("PayrollCalcSalary", "GetSalaryDetailsData", queryString, (result) => {
                        var salaryFilter = this.filter('filter');
                        var orderFilter = this.filter('orderBy');
                        var data = result.data;
                        //order data by Item code
                        data = orderFilter(data, (item) => { return item.PayItemCode; }, false /*Reverse=false*/);
                        ;
                        //filter to get Earning Items
                        this.salaryEarningData = salaryFilter(data, (entry) => {
                            return entry.Amount > 0;
                        }, true);
                        //filter to get Deduction Items
                        this.salaryDeductionData = salaryFilter(data, (entry) => {
                            return entry.Amount < 0;
                        }, true);
                        this.DisplayTotalSalary(this.selectedHeaderData);
                    });
                };
                this.DisplayTotalSalary = (item) => {
                    this.totalRunSalary.totalEarning = (item.TotalEarning == null ? 0 : item.TotalEarning);
                    this.totalRunSalary.totalDeduction = (item.TotalDeduction == null ? 0 : item.TotalDeduction);
                    this.totalRunSalary.totalNet = (item.NetSalary == null ? 0 : item.NetSalary);
                };
                this.getPayrollGroup = (payrollGroupId) => {
                    if (HCMS.Validations.CommonValidations.isNull(payrollGroupId))
                        return;
                    var queryString = '?payrollGroupId=' + payrollGroupId;
                    this.dbManager.Get("PayrollGroup", 'GetByPayrollGroupId', queryString, (response) => {
                        this.payrollGroup = response.data;
                        this.dataItem.PayrollYear = this.payrollGroup.CurrentYear;
                        this.dataItem.PayrollMonth = this.payrollGroup.CurrentMonth;
                        this.dataItem.PayrollRunId = this.payrollGroup.CurrentRunId;
                        //  this.isPartDay(this.vacationRule.IsDayFraction);
                    }, null);
                };
                // set Transaction Events
                this.payrollGroupIdEvents = { defaultAction: this.getPayrollGroup };
                this.filter = $filter;
                this.progressCalcOptions = { progressTitle: "Payroll Calc Salary" };
                this.dbManager.Get("SystemProgress", "GetByProgressTypeId", "?progressTypeId=2", (result) => {
                    this.progressId = result.data.ProgressId;
                });
                //this.listOptions = { selectCallback: this.selectClicked, indexController: this };
                //this.selectedProfile = {};
                this.dataItem = {};
                var earningGridColumnDefs = [
                    { headerName: "PayItemCode", field: "PayItemCode" },
                    { headerName: "PayItemName", field: "PayItemName" },
                    { headerName: "Amount", field: "Amount" }
                ];
                var deductionGridColumnDefs = [
                    { headerName: "PayItemCode", field: "PayItemCode", suppressFilter: true },
                    { headerName: "PayItemName", field: "PayItemName", suppressFilter: true },
                    { headerName: "Amount", field: "Amount", suppressFilter: true }
                ];
                this.earningGrid = {
                    gridOptions: {
                        rowData: this.salaryEarningData,
                        columnDefs: earningGridColumnDefs
                    },
                    gridColumnDefs: earningGridColumnDefs
                };
                this.deductionGrid = {
                    gridOptions: {
                        rowData: this.salaryDeductionData,
                        columnDefs: deductionGridColumnDefs
                    },
                    gridColumnDefs: deductionGridColumnDefs
                };
                //this.columnDefs = [
                //    { headerName: "PayItemCode", field: "PayItemCode", suppressFilter: true },
                //    { headerName: "PayItemName", field: "PayItemName", suppressFilter: true},
                //    {
                //        headerName: "ProfileName", field: "ProfileName", rowGroup: true, hide: true, filter: 'text'
                //    },
                //    {
                //        headerName: "EmployeeCode", field: "EmployeeCode", rowGroup: true, hide: true, filter: 'text'
                //    },
                //    { headerName: "Amount", field: "Amount", aggFunc: 'sum', suppressFilter: true, enableValue: true }
                //];
                //        this.gridOptions = {
                //    columnDefs: this.columnDefs,
                //    rowData: this.salaryHeaderData,
                //    animateRows: true,
                //    enableRangeSelection: true,
                //    enableSorting: true,
                //    enableFilter: true
                //};
                //this.grid.gridOptions.selectCallback = this.selectClicked;
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    //this.grid.gridColumnDefs = columnDefs;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    //this.grid.gridOptions.suppressAutoSize = true;
                    this.FormSetup.MyForm.IndexView.Load();
                });
            }
        }
        Forms.PayrollCalcSalary = PayrollCalcSalary;
        Forms.hcmsForms.controller('payrollCalcSalaryController', ['translateService', 'dataManagerService', '$filter', '$scope', '$stateParams', function (translateService, dataManagerService, $filter, $scope, $stateParams) {
                return new PayrollCalcSalary(translateService, dataManagerService, $filter, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PayrollCalcTransaction extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $filter, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.runStatus = false;
                this.stopStatus = false;
                this.showProgressStatus = false;
                this.displayDataStatus = false;
                this.progressId = 0;
                this.progressTypeId = 3;
                this.payrollTransactionHeaderData = [];
                this.payrollTransactionIsClosed = false;
                this.gridOptions = {};
                this.detailsGrid = { gridOptions: {}, gridColumnDefs: [] };
                this.detailsData = [];
                this.selectedHeaderData = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedHeaderData = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('payrollTransactionDetailsData');
                    this.displayDetailsData();
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                //Event year Changed   
                this.payrollYearChanged = (payrollYear) => {
                    this.dataItem.PayrollYear = payrollYear;
                    this.handleCloseButton();
                };
                //Event Month Changed   
                this.payrollMonthChanged = (payrollMonth) => {
                    this.dataItem.PayrollMonth = payrollMonth;
                    this.handleCloseButton();
                };
                //Event RunId Changed   
                this.payrollRunIdChanged = (runId) => {
                    this.dataItem.PayrollRunId = runId;
                    this.handleCloseButton();
                };
                //Event PayrollGroup Changed   
                this.payrollPayrollGroupIdChanged = (payrollGroupId) => {
                    this.dataItem.PayrollGroupId = payrollGroupId;
                    this.handleCloseButton();
                };
                //Event PayrollGroup Changed   
                this.payrollTransTypeIdChanged = (transactionTypeId) => {
                    this.dataItem.PayrollTransactionTypeId = transactionTypeId;
                    this.handleCloseButton();
                };
                this.run = (valid) => {
                    if (valid) {
                        this.progressCalcOptions.api.checkIfProgressRunning(this.progressCalcOptions.api.startProgress(() => {
                            this.showModal();
                            this.disableRun();
                        }), this.startCalc);
                    }
                };
                this.startCalc = () => {
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    ;
                    //queryString += "&userId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.User.UserId;
                    //queryString += "&langId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + this.dataItem.PayrollGroupId;
                    queryString += "&payrollRunId=" + this.dataItem.PayrollRunId;
                    queryString += "&payrollYear=" + this.dataItem.PayrollYear;
                    queryString += "&payrollMonth=" + this.dataItem.PayrollMonth;
                    queryString += "&transactionTypeId=" + this.dataItem.PayrollTransactionTypeId;
                    this.progressCalcOptions.api.startProgress(() => {
                        this.showModal();
                        this.disableRun();
                    });
                    // this.dbManager.Post("PayrollCalcTransaction", "Run", queryString, empAssignmentIds, (response) => {
                    this.dbManager.Post("PayrollCalcTransaction", "Run", queryString, empAssignmentIds, (response) => {
                        this.stopCalc();
                        this.displayPayrollTransactionData();
                    }, (response) => {
                        this.stopCalc();
                    });
                };
                this.showModal = () => {
                    $('#payrollCalcTransModal').modal('show');
                };
                this.hideModal = () => {
                    $('#payrollCalcTransModal').modal('hide');
                };
                this.stopCalc = () => {
                    this.progressCalcOptions.api.stopProgress(() => {
                        this.hideModal();
                        this.enableRun();
                    });
                };
                this.showProgress = () => {
                    this.progressCalcOptions.api.checkIfProgressRunning(() => {
                        this.showModal();
                        this.disableRun();
                    }, null);
                };
                this.enableRun = () => {
                    this.runStatus = true;
                    this.stopStatus = false;
                    this.showProgressStatus = false;
                    this.displayDataStatus = true;
                };
                this.disableRun = () => {
                    this.runStatus = false;
                    this.stopStatus = true;
                    this.showProgressStatus = true;
                    this.displayDataStatus = false;
                };
                this.displayPayrollTransactionHeaderData = () => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    queryString += "&transactionTypeId=" + this.dataItem.PayrollTransactionTypeId;
                    var empAssignmentIds = [];
                    if (this.dataItem.EmpAssignmentId.length > 0) {
                        empAssignmentIds = this.dataItem.EmpAssignmentId;
                    }
                    this.dbManager.Post("PayrollCalcTransaction", "GetPayrollTransHeaderData", queryString, empAssignmentIds, (result) => {
                        this.payrollTransactionHeaderData = result.data;
                        // this.activateTab('payrollTransactionHeaderData');
                        this.activeTabIndex = 0;
                    });
                };
                this.displayDetailsData = () => {
                    if (this.selectedHeaderData == null || this.selectedHeaderData.EmpAssignmentId == undefined || this.selectedHeaderData.EmpAssignmentId == null || this.selectedHeaderData.EmpAssignmentId === 0) {
                        return;
                    }
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    queryString += "&transactionTypeId=" + this.dataItem.PayrollTransactionTypeId;
                    var empAssignments = 'empAssignmentId=' + this.selectedHeaderData.EmpAssignmentId;
                    //if (this.selectedHeaderData.EmpAssignmentId != null && this.selectedHeaderData.EmpAssignmentId.length > 0) {
                    //    empAssignments = this.selectedHeaderData.EmpAssignmentId.map(item => 'empAssignmentIds=' + item.EmpAssignmentId).join('&');
                    //}
                    queryString += "&" + empAssignments;
                    this.dbManager.Get("PayrollCalcTransaction", "GetPayrollTransDetailsData", queryString, (result) => {
                        this.detailsData = result.data;
                    });
                };
                this.openPayrollTransactionPeriod = (callback) => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var transactionTypeId = this.dataItem.PayrollTransactionTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    queryString += "&transactionTypeId=" + transactionTypeId;
                    this.dbManager.Post("PayrollCalcTransaction", "OpenPayrollTransactionPeriod", queryString, null, (result) => {
                        if (callback != null)
                            callback(result.data);
                    });
                };
                this.closePayrollTransactionPeriod = (callback) => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var transactionTypeId = this.dataItem.PayrollTransactionTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    queryString += "&transactionTypeId=" + transactionTypeId;
                    this.dbManager.Post("PayrollCalcTransaction", "ClosePayrollTransactionPeriod", queryString, null, (result) => {
                        if (callback != null)
                            callback(result.data);
                    });
                };
                this.IsClosed = (callback) => {
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollYear))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollMonth))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollRunId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollGroupId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollTransactionTypeId))
                        return;
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    var transactionTypeId = this.dataItem.PayrollTransactionTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    queryString += "&transactionTypeId=" + transactionTypeId;
                    this.dbManager.Get("PayrollCalcTransaction", "GetPayrollTransactionPeriodIsClosed", queryString, (result) => {
                        this.payrollTransactionIsClosed = result.data;
                        if (callback != null)
                            callback(result.data);
                    });
                };
                // set Transaction Events
                this.payrollTransYearEvents = { defaultAction: this.payrollYearChanged };
                this.payrollTransMonthEvents = { defaultAction: this.payrollMonthChanged };
                this.payrollTransRunIdEvents = { defaultAction: this.payrollRunIdChanged };
                this.payrollTransPayrollGroupIdEvents = { defaultAction: this.payrollPayrollGroupIdChanged };
                this.payrollTransTypeIdEvents = { defaultAction: this.payrollTransTypeIdChanged };
                this.filter = $filter;
                this.progressCalcOptions = { progressTitle: "Payroll Calc Transactions" };
                this.dbManager.Get("SystemProgress", "GetByProgressTypeId", "?progressTypeId=3", (result) => {
                    this.progressId = result.data.ProgressId;
                });
                this.dataItem = {};
                var detailsGridColumnDefs = [
                    { headerName: "PayItemCode", field: "PayItemCode" },
                    { headerName: "PayItemName", field: "PayItemName" },
                    { headerName: "InputAmount", field: "InputAmount" },
                ];
                this.detailsGrid = {
                    gridOptions: {
                        rowData: this.detailsData,
                        columnDefs: detailsGridColumnDefs
                    },
                    gridColumnDefs: detailsGridColumnDefs
                };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    //this.grid.gridColumnDefs = columnDefs;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.createViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.CreateView.Load();
                });
                this.handleCloseButton();
            }
            openPayrollTransaction() {
                this.openPayrollTransactionPeriod((data) => {
                    this.handleCloseButton();
                });
            }
            closePayrollTransaction() {
                this.closePayrollTransactionPeriod((data) => {
                    this.handleCloseButton();
                });
            }
            displayPayrollTransactionData() {
                this.displayPayrollTransactionHeaderData();
            }
            handleCloseButton() {
                this.IsClosed((data) => {
                    if (data === true) {
                        var closeBtn = document.getElementById("closeBtn");
                        closeBtn.disabled = true;
                        var openBtn = document.getElementById("openBtn");
                        openBtn.disabled = false;
                        var runBtn = document.getElementById("runBtn");
                        runBtn.disabled = true;
                    }
                    else {
                        var closeBtn = document.getElementById("closeBtn");
                        closeBtn.disabled = false;
                        var openBtn = document.getElementById("openBtn");
                        openBtn.disabled = true;
                        var runBtn = document.getElementById("runBtn");
                        runBtn.disabled = false;
                    }
                });
            }
        }
        Forms.PayrollCalcTransaction = PayrollCalcTransaction;
        Forms.hcmsForms.controller('payrollCalcTransactionController', ['translateService', 'dataManagerService', '$filter', '$scope', '$stateParams', function (translateService, dataManagerService, $filter, $scope, $stateParams) {
                return new PayrollCalcTransaction(translateService, dataManagerService, $filter, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class payrollCloseCalcSalary extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $filter, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.runStatus = false;
                this.stopStatus = false;
                this.showProgressStatus = false;
                this.displayDataStatus = false;
                this.progressId = 0;
                //  private payrollTransTypeIdEvents: IPayrollTransEvent;
                this.PayrollSalaryHeaderData = [];
                this.PayrollSalaryIsClosed = false;
                this.gridOptions = {};
                //Event year Changed   
                this.payrollYearChanged = (payrollYear) => {
                    this.dataItem.PayrollYear = payrollYear;
                    this.handleCloseButton();
                };
                //Event Month Changed   
                this.payrollMonthChanged = (payrollMonth) => {
                    this.dataItem.PayrollMonth = payrollMonth;
                    this.handleCloseButton();
                };
                //Event RunId Changed   
                this.payrollRunIdChanged = (runId) => {
                    this.dataItem.PayrollRunId = runId;
                    this.handleCloseButton();
                };
                //Event PayrollGroup Changed   
                this.payrollPayrollGroupIdChanged = (payrollGroupId) => {
                    this.dataItem.PayrollGroupId = payrollGroupId;
                    this.handleCloseButton();
                };
                this.showModal = () => {
                    $('#payrollCalcTransModal').modal('show');
                };
                this.hideModal = () => {
                    $('#payrollCalcTransModal').modal('hide');
                };
                this.openPayrollSalaryPeriod = (callback) => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    //var transactionTypeId = this.dataItem.PayrollSalaryTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    this.dbManager.Post("PayrollCloseCalcSalary", "OpenPayrollSalaryPeriod", queryString, null, (result) => {
                        if (callback != null)
                            callback(result.data);
                    });
                };
                this.closePayrollSalaryPeriod = (callback) => {
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    //  var transactionTypeId = this.dataItem.PayrollSalaryTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    this.dbManager.Post("PayrollCloseCalcSalary", "ClosePayrollSalaryPeriod", queryString, null, (result) => {
                        if (callback != null)
                            callback(result.data);
                    });
                };
                this.displayPayrollSalaryHeaderData = () => {
                    //var yer = this.dataItem.PayrollYear;
                    //var mon = this.dataItem.PayrollMonth;
                    //var runId = this.dataItem.PayrollRunId;
                    //var groupId = this.dataItem.PayrollGroupId;
                    //var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    // var queryString = "?companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    this.dbManager.Get("PayrollCloseCalcSalary", "GetAllSalaryClose", "", (result) => {
                        this.PayrollSalaryHeaderData = result.data;
                        // this.activateTab('PayrollSalaryHeaderData');
                    });
                };
                this.IsClosed = (callback) => {
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollYear))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollMonth))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollRunId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(this.dataItem.PayrollGroupId))
                        return;
                    var yer = this.dataItem.PayrollYear;
                    var mon = this.dataItem.PayrollMonth;
                    var runId = this.dataItem.PayrollRunId;
                    var groupId = this.dataItem.PayrollGroupId;
                    // var transactionTypeId = this.dataItem.PayrollSalaryTypeId;
                    var queryString = "?formId=" + this.FormSetup.MyForm.FormId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&payrollGroupId=" + groupId;
                    queryString += "&payrollRunId=" + runId;
                    queryString += "&payrollYear=" + yer;
                    queryString += "&payrollMonth=" + mon;
                    // queryString += "&transactionTypeId=" + transactionTypeId;
                    this.dbManager.Get("PayrollCloseCalcSalary", "GetPayrollSalaryPeriodIsClosed", queryString, (result) => {
                        this.PayrollSalaryIsClosed = result.data;
                        if (callback != null)
                            callback(result.data);
                    });
                };
                // set Transaction Events
                this.payrollTransYearEvents = { defaultAction: this.payrollYearChanged };
                this.payrollTransMonthEvents = { defaultAction: this.payrollMonthChanged };
                this.payrollTransRunIdEvents = { defaultAction: this.payrollRunIdChanged };
                this.payrollTransPayrollGroupIdEvents = { defaultAction: this.payrollPayrollGroupIdChanged };
                //  this.payrollTransTypeIdEvents = { defaultAction: this.payrollTransTypeIdChanged };
                this.filter = $filter;
                this.progressCalcOptions = { progressTitle: "Payroll Calc Transactions" };
                this.progressId = 3;
                this.dataItem = {};
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    //this.grid.gridColumnDefs = columnDefs;
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.displayPayrollSalaryData();
                    this.FormSetup.MyForm.IndexView.Load();
                });
                this.handleCloseButton();
                //this.gridOptions = { SelectButton: false, EditButton: false, DeleteButton: false, enableQuickFilter: true, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === 'rtl' ? true : false };
                //this.gridOptions.columnDefs = this.gridColumns;
                //this.gridOptions.rowData = this.dataList;
                //timeout(() => {
                //    this.progressCalcOptions.api.checkIfProgressRunning(() => {
                //        this.progressCalcOptions.api.startProgress(() => {
                //            this.showModal();
                //            this.disableRun();
                //        })
                //    }, null);
                //}, 2000);
            }
            openPayrollSalary() {
                this.openPayrollSalaryPeriod((data) => {
                    this.handleCloseButton();
                    this.displayPayrollSalaryData();
                });
            }
            closePayrollSalary() {
                this.closePayrollSalaryPeriod((data) => {
                    this.handleCloseButton();
                    this.displayPayrollSalaryData();
                });
            }
            displayPayrollSalaryData() {
                this.displayPayrollSalaryHeaderData();
            }
            handleCloseButton() {
                this.IsClosed((data) => {
                    if (data === true) {
                        var closeBtn = document.getElementById("closeBtn");
                        closeBtn.disabled = true;
                        var openBtn = document.getElementById("openBtn");
                        openBtn.disabled = false;
                        //var runBtn = <HTMLInputElement>document.getElementById("runBtn");
                        //runBtn.disabled = true;
                    }
                    else {
                        var closeBtn = document.getElementById("closeBtn");
                        closeBtn.disabled = false;
                        var openBtn = document.getElementById("openBtn");
                        openBtn.disabled = true;
                        //var runBtn = <HTMLInputElement>document.getElementById("runBtn");
                        //runBtn.disabled = false;
                    }
                });
                //  this.displayPayrollSalaryData();
            }
            activateTab(tab) {
                $('.nav-tabs a[href="#' + tab + '"]').tab('show');
            }
            ;
        }
        Forms.payrollCloseCalcSalary = payrollCloseCalcSalary;
        Forms.hcmsForms.controller('payrollCloseCalcSalaryController', ['translateService', 'dataManagerService', '$filter', '$scope', '$stateParams', function (translateService, dataManagerService, $filter, $scope, $stateParams) {
                return new payrollCloseCalcSalary(translateService, dataManagerService, $filter, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EndOfServiceTransaction extends Forms.BaseSubFormManager {
            // private vacationFromDateEvents: IEndOfServiceTransEvent;
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.displayTimeRange = false;
                this.vacationRule = {};
                this.empEndOfServiceIsClosed = false;
                //Event fromDate Changed   
                this.fromDateChanged = (fromDate) => {
                    fromDate = HCMS.Validations.DateValidations.toUtcDate(fromDate);
                    this.setFromToDateChanged(fromDate, this.dataItem.EmpEndOfServiceDate);
                    //this.getVacationBalance(this.dataItem.VacationId, this.empAssignmentId, this.dataItem.EmpVacationId, fromDate)
                };
                //Event toDate Changed 
                this.toDateChanged = (toDate) => {
                    toDate = HCMS.Validations.DateValidations.toUtcDate(toDate);
                    this.setFromToDateChanged(this.dataItem.EndOfServiceNoticeDate, toDate);
                };
                //set fromDate or toDate Changed
                this.setFromToDateChanged = (fromDate, toDate) => {
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) || !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    this.dataItem.EndOfServiceNoticeDays = HCMS.Validations.DateValidations.dateDiffDays(fromDate, toDate) + 1;
                };
                //Event days Changed
                this.daysChanged = (days) => {
                    var fromDate = this.dataItem.EndOfServiceNoticeDate;
                    var toDate = this.dataItem.EmpEndOfServiceDate;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) && !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    if (HCMS.Validations.DateValidations.isDate(fromDate)) {
                        if (days < 1)
                            var d = HCMS.Validations.DateValidations.dateAddDays(fromDate, days);
                        else
                            var d = HCMS.Validations.DateValidations.dateAddDays(fromDate, days - 1);
                        this.dataItem.EmpEndOfServiceDate = HCMS.Validations.DateValidations.toUtcDate(d);
                    }
                };
                this.closeEmployee = () => {
                    this.smartAlert.Confirm("Are you sure you want to deactivate Employee?", "", () => {
                        var empEndOfServiceId = this.dataItem.EmpEndOfServiceId;
                        var queryString = "?empEndOfServiceId=" + empEndOfServiceId;
                        this.dbManager.Post("EndOfService", "CloseEmployee", queryString, null, (result) => {
                            this.GetDataByParentId();
                            this.IsClosed();
                        });
                    });
                };
                this.openEmployee = () => {
                    this.smartAlert.Confirm("Are you sure you want to activate Employee?", "", () => {
                        var empEndOfServiceId = this.dataItem.EmpEndOfServiceId;
                        var queryString = "?empEndOfServiceId=" + empEndOfServiceId;
                        this.dbManager.Post("EndOfService", "OpenEmployee", queryString, null, (result) => {
                            this.GetDataByParentId();
                            this.IsClosed();
                        });
                    });
                };
                this.IsClosed = (callback) => {
                    var empEndOfServiceId = this.dataItem.EmpEndOfServiceId;
                    var queryString = "?empEndOfServiceId=" + empEndOfServiceId;
                    this.dbManager.Get("EndOfService", "GetEmpEndOfServiceIsClosed", queryString, (result) => {
                        this.empEndOfServiceIsClosed = result.data;
                        this.dataItem.IsClose = this.empEndOfServiceIsClosed;
                        if (callback != null)
                            callback(result.data);
                    });
                };
                // set Transaction Events
                this.endOfServiceNoticeDateEvents = { defaultAction: this.fromDateChanged };
                this.empEndOfServiceDateEvents = { defaultAction: this.toDateChanged };
                this.endOfServiceNoticeDaysEvents = { defaultAction: this.daysChanged };
                //  this.vacationFromDateEvents = { defaultAction: this.fromDateChanged };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                this.OnCreateNewClicked.addHandler(() => {
                    this.dataItem.EndOfServiceNoticeDays = 0;
                });
                this.OnEditClicked.addHandler(() => {
                    this.IsClosed();
                });
            }
        }
        Forms.EndOfServiceTransaction = EndOfServiceTransaction;
        Forms.hcmsForms.controller('endOfServiceTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EndOfServiceTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EndOfServiceTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedEndOfServiceProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = {
                    selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false
                };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.EndOfServiceTransHome = EndOfServiceTransHome;
        Forms.hcmsForms.controller('endOfServiceTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EndOfServiceTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PenaltyTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //set penalty actions by changing PenaltyDate  
                this.penaltyDateChanged = (penaltyDate) => {
                    this.setPenaltyActions(this.dataItem.PenaltyId, penaltyDate);
                };
                //set penalty actions by changing penaltyId 
                this.penaltyIdChanged = (penaltyId) => {
                    this.setPenaltyActions(penaltyId, this.dataItem.EmpPenaltyDate);
                };
                // setPenaltyActions
                this.setPenaltyActions = (penaltyId, penaltyDate) => {
                    if (HCMS.Validations.CommonValidations.isNull(penaltyId)) {
                        return;
                    }
                    var empAssignmentId = this.empAssignmentId;
                    if (HCMS.Validations.CommonValidations.isNull(empAssignmentId))
                        return;
                    if (!HCMS.Validations.DateValidations.isDate(penaltyDate)) {
                        //penaltyDate = new Date(2000, 1, 1, 12, 0, 0, 0)
                        return;
                    }
                    penaltyDate = penaltyDate.toJSON();
                    var queryString = '?empAssignmentId=' + empAssignmentId + '&penaltyId=' + penaltyId + '&penaltyDate=' + penaltyDate;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetPenaltyActions', queryString, (response) => {
                        var result = response.data[0];
                        this.dataItem.PenaltyUnitId = result.PenaltyUnitId;
                        this.dataItem.PenaltyActionId = result.PenaltyActionId;
                        this.dataItem.PenaltyAmount = result.PenaltyAmount;
                        this.dataItem.RepetitionNumber = result.RepetitionNumber;
                    }, null);
                };
                // set Transaction Events
                this.penaltyIdEvents = { defaultAction: this.penaltyIdChanged };
                this.penaltyDateEvents = { defaultAction: this.penaltyDateChanged };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.PenaltyTransaction = PenaltyTransaction;
        Forms.hcmsForms.controller('penaltyTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PenaltyTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PenaltyTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedPenaltyProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.PenaltyTransHome = PenaltyTransHome;
        Forms.hcmsForms.controller('penaltyTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PenaltyTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class VacationTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.displayTimeRange = false;
                this.vacationRule = {};
                //setDisplayTimeRang
                this.setDisplayTimeRang = (partDate) => {
                    if (HCMS.Validations.DateValidations.isDate(partDate)) {
                        this.displayTimeRange = true;
                    }
                    else {
                        this.displayTimeRange = false;
                    }
                };
                // is VactionRule Allow PArt Day
                this.isPartDay = (isPartDay) => {
                    if (isPartDay) {
                        this.displayTimeRange = true;
                    }
                    else {
                        this.displayTimeRange = false;
                    }
                };
                ////get data by parentId
                //private getDataByEmployeeId = () => {
                //    if (angular.isUndefined(this.empAssignmentId)) this.empAssignmentId = 0;
                //    var queryString = this.FormData.getCommonParams() + '&empAssignmentId=' + this.empAssignmentId;
                //    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetByAssignmentId', queryString,  (response)=> {
                //        this.dataList = response.data;
                //    }, null);
                //}
                //get getVacationRule
                this.getVacationRule = (vacationId) => {
                    if (HCMS.Validations.CommonValidations.isNull(vacationId))
                        return;
                    var queryString = this.FormData.getCommonParams() + '&vacationId=' + vacationId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetRule', queryString, (response) => {
                        this.vacationRule = response.data;
                        this.isPartDay(this.vacationRule.IsDayFraction);
                    }, null);
                };
                //get Balance
                this.getVacationBalance = (vacationId, empAssignmentId, empVacationId, asOfDate) => {
                    if (HCMS.Validations.CommonValidations.isNull(vacationId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(empAssignmentId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(asOfDate))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(empVacationId))
                        empVacationId = 0;
                    var queryString = this.FormData.getCommonParams() + '&vacationId=' + vacationId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&empAssignmentId=" + empAssignmentId;
                    queryString += "&asOfDate=" + HCMS.Validations.DateValidations.toDate(asOfDate);
                    queryString += "&empVacationId=" + empVacationId;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetBalance', queryString, (response) => {
                        this.dataItem.VacationBalance = response.data;
                        this.checkConsumedDays(this.dataItem.VacationFromDate, this.dataItem.VacationToDate, this.dataItem.VacationDays);
                    }, null);
                };
                //get Actuall Consumed
                this.getActuallConsumed = (vacationId, empAssignmentId, empVacationId, fromDate, toDate, partDate, days) => {
                    if (HCMS.Validations.CommonValidations.isNull(vacationId))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(empAssignmentId))
                        return;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate))
                        return;
                    if (!HCMS.Validations.DateValidations.isDate(toDate))
                        return;
                    if (!HCMS.Validations.DateValidations.isDate(partDate))
                        return;
                    if (HCMS.Validations.CommonValidations.isNull(empVacationId))
                        empVacationId = 0;
                    if (HCMS.Validations.CommonValidations.isNull(days))
                        days = 0;
                    var queryString = this.FormData.getCommonParams() + '&vacationId=' + vacationId;
                    queryString += "&companyId=" + HCMS.DataAccess.StartUp.CurrentLoginInfo.Company.CompanyId;
                    queryString += "&empAssignmentId=" + empAssignmentId;
                    queryString += "&fromDate=" + HCMS.Validations.DateValidations.toDate(fromDate);
                    queryString += "&toDate=" + HCMS.Validations.DateValidations.toDate(toDate);
                    queryString += "&partDate=" + HCMS.Validations.DateValidations.toDate(partDate);
                    queryString += "&empVacationId=" + empVacationId;
                    queryString += "&vacationDays=" + days;
                    this.dbManager.Get(this.FormSetup.MyForm.FormController, 'GetConsumed', queryString, (response) => {
                        this.dataItem.VacationConsumed = response.data;
                        this.dataItem.VacationRemaining = this.dataItem.VacationBalance - this.dataItem.VacationConsumed;
                    }, null);
                };
                //check Consumed Days
                this.checkConsumedDays = (fromDate, toDate, days) => {
                    this.getActuallConsumed(this.dataItem.VacationId, this.empAssignmentId, this.dataItem.EmpVacationId, fromDate, toDate, this.dataItem.partDate, days);
                };
                //set Return Date
                this.setReturnDate = (toDate) => {
                    this.dataItem.VacationReturn = HCMS.Validations.DateValidations.dateAddDays(toDate, 1);
                };
                //Event fromDate Changed   
                this.fromDateChanged = (fromDate) => {
                    fromDate = HCMS.Validations.DateValidations.toUtcDate(fromDate);
                    this.setFromToDateChanged(fromDate, this.dataItem.VacationToDate);
                    this.getVacationBalance(this.dataItem.VacationId, this.empAssignmentId, this.dataItem.EmpVacationId, fromDate);
                };
                //Event toDate Changed 
                this.toDateChanged = (toDate) => {
                    toDate = HCMS.Validations.DateValidations.toUtcDate(toDate);
                    this.setFromToDateChanged(this.dataItem.VacationFromDate, toDate);
                };
                //set fromDate or toDate Changed
                this.setFromToDateChanged = (fromDate, toDate) => {
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) || !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    this.dataItem.VacationDays = HCMS.Validations.DateValidations.dateDiffDays(fromDate, toDate) + 1;
                    this.setReturnDate(toDate);
                    //this.dataItem.VacationFromDate = fromDate;
                    //this.dataItem.VacationToDate = toDate;
                    this.checkConsumedDays(fromDate, toDate, this.dataItem.VacationDays);
                };
                //Event days Changed
                this.daysChanged = (days) => {
                    var fromDate = this.dataItem.VacationFromDate;
                    var toDate = this.dataItem.VacationToDate;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) && !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    if (HCMS.Validations.DateValidations.isDate(fromDate)) {
                        if (days < 1)
                            var d = HCMS.Validations.DateValidations.dateAddDays(fromDate, days);
                        else
                            var d = HCMS.Validations.DateValidations.dateAddDays(fromDate, days - 1);
                        this.dataItem.VacationToDate = HCMS.Validations.DateValidations.toUtcDate(d);
                    }
                    this.setReturnDate(this.dataItem.VacationToDate);
                    this.checkConsumedDays(fromDate, this.dataItem.VacationToDate, days);
                };
                //Event partDate Changed
                this.partDateChanged = (partDate) => {
                    this.setDisplayTimeRang(partDate);
                };
                // Event fromTime Changed
                this.fromTimeChanged = (fromTime) => {
                };
                // Event toTime Changed
                this.toTimeChanged = (toTime) => {
                };
                //Event vacationId Changed
                this.vacationIdChanged = (vacationId) => {
                    var empAssignmentId = this.empAssignmentId;
                    var fromDate = this.dataItem.VacationFromDate;
                    var toDate = this.dataItem.VacationToDate;
                    this.getVacationBalance(vacationId, empAssignmentId, this.dataItem.EmpVacationId, toDate);
                    this.checkConsumedDays(fromDate, toDate, this.dataItem.VacationDays);
                    this.getVacationRule(vacationId);
                };
                // set Transaction Events
                this.vacationFromDateEvents = { defaultAction: this.fromDateChanged };
                this.vacationToDateEvents = { defaultAction: this.toDateChanged };
                this.vacationDaysEvents = { defaultAction: this.daysChanged };
                this.vacationPartDateEvents = { defaultAction: this.partDateChanged };
                this.vacationFromTimeEvents = { defaultAction: this.fromTimeChanged };
                this.vacationToTimeEvents = { defaultAction: this.toTimeChanged };
                this.vacationIdEvents = { defaultAction: this.vacationIdChanged };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.VacationTransaction = VacationTransaction;
        Forms.hcmsForms.controller('vacationTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new VacationTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class VacationTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedVacationProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = {
                    selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false
                };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.VacationTransHome = VacationTransHome;
        Forms.hcmsForms.controller('vacationTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new VacationTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class MissionTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.displayTimeRange = true;
                //Event fromDate Changed   
                this.fromDateChanged = (fromDate) => {
                    fromDate = HCMS.Validations.DateValidations.toUtcDate(fromDate);
                    this.setFromToDateChanged(fromDate, this.dataItem.MissionToDate);
                };
                //Event toDate Changed 
                this.toDateChanged = (toDate) => {
                    toDate = HCMS.Validations.DateValidations.toUtcDate(toDate);
                    this.setFromToDateChanged(this.dataItem.MissionFromDate, toDate);
                };
                //set fromDate or toDate Changed
                this.setFromToDateChanged = (fromDate, toDate) => {
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) || !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    this.dataItem.MissionDays = HCMS.Validations.DateValidations.dateDiffDays(fromDate, toDate) + 1;
                    this.dataItem.MissionPartDate = toDate;
                };
                //Event Missiondays Changed
                this.missionDaysChanged = (missionDays) => {
                    var fromDate = this.dataItem.MissionFromDate;
                    var toDate = this.dataItem.MissionToDate;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) && !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    if (HCMS.Validations.DateValidations.isDate(fromDate)) {
                        var d = HCMS.Validations.DateValidations.dateAddDays(fromDate, missionDays - 1);
                        this.dataItem.MissionToDate = HCMS.Validations.DateValidations.toUtcDate(d);
                    }
                };
                //Event FromTime Changed   
                this.fromTimeChanged = (fromTime) => {
                    if (!HCMS.Validations.CommonValidations.isNull(this.dataItem.Duration)) {
                        var FromDateTime = HCMS.Validations.DateValidations.toDateTime(fromTime);
                        this.dataItem.MissionToTime = HCMS.Validations.DateValidations.timeAddHours(FromDateTime, this.dataItem.Duration);
                    }
                };
                //Event ToTime Changed
                this.toTimeChanged = (toTime) => {
                    //var Totime = toTime.getHours() + ":" + toTime.getMinutes() + ":" + toTime.getSeconds();
                    var ToDateTime = HCMS.Validations.DateValidations.toDateTime(toTime);
                    var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.MissionFromTime);
                    this.dataItem.Duration = HCMS.Validations.DateValidations.dateDiffHours(FromDateTime, ToDateTime);
                };
                // Event DurationChanged
                this.durationChanged = (duration) => {
                    if (!HCMS.Validations.CommonValidations.isNull(duration)) {
                        // var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.MissionFromTime);
                        var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.MissionFromTime);
                        this.dataItem.MissionToTime = HCMS.Validations.DateValidations.timeAddHours(FromDateTime, duration);
                    }
                };
                //Event ISFullDay True
                this.isFullDayChanged = (isFullDay) => {
                    if (!HCMS.Validations.CommonValidations.isNull(isFullDay) && isFullDay == true) {
                        this.displayTimeRange = false;
                        //Reset values of fromtime and to time
                        this.dataItem.MissionFromTime = null;
                        this.dataItem.MissionToTime = null;
                        this.dataItem.Duration = null;
                        //this.dataItem.MissionPartDate = null;
                    }
                    else
                        this.displayTimeRange = true;
                };
                //set TransactionEvents
                this.missionFromtimeEvents = { defaultAction: this.fromTimeChanged };
                this.missionTotimeEvents = { defaultAction: this.toTimeChanged };
                this.missionDurationEvents = { defaultAction: this.durationChanged };
                this.missionIsFullDayEvents = { defaultAction: this.isFullDayChanged };
                this.missionDaysEvents = { defaultAction: this.missionDaysChanged };
                this.missionFromDateEvents = { defaultAction: this.fromDateChanged };
                this.missionToDateEvents = { defaultAction: this.toDateChanged };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.MissionTransaction = MissionTransaction;
        Forms.hcmsForms.controller('missionTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new MissionTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class MissionTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedMissionProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.MissionTransHome = MissionTransHome;
        Forms.hcmsForms.controller('missionTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new MissionTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PermissionTransaction extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //Event FromTime Changed   
                this.fromTimeChanged = (fromTime) => {
                    if (!HCMS.Validations.CommonValidations.isNull(this.dataItem.Duration)) {
                        var FromDateTime = HCMS.Validations.DateValidations.toDateTime(fromTime);
                        this.dataItem.ToTime = HCMS.Validations.DateValidations.timeAddHours(FromDateTime, this.dataItem.Duration);
                    }
                };
                //Event ToTime Changed   
                this.toTimeChanged = (toTime) => {
                    //var Totime = toTime.getHours() + ":" + toTime.getMinutes() + ":" + toTime.getSeconds();
                    var ToDateTime = HCMS.Validations.DateValidations.toDateTime(toTime);
                    var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.FromTime);
                    this.dataItem.Duration = HCMS.Validations.DateValidations.dateDiffHours(FromDateTime, ToDateTime);
                };
                // Event DurationChanged
                this.durationChanged = (duration) => {
                    if (!HCMS.Validations.CommonValidations.isNull(duration)) {
                        // var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.FromTime);
                        var FromDateTime = HCMS.Validations.DateValidations.toDateTime(this.dataItem.FromTime);
                        this.dataItem.ToTime = HCMS.Validations.DateValidations.timeAddHours(FromDateTime, duration);
                    }
                };
                //set TransactionEvents
                this.permisionFromtimeEvents = { defaultAction: this.fromTimeChanged };
                this.permisionTotimeEvents = { defaultAction: this.toTimeChanged };
                this.permisionDurationEvents = { defaultAction: this.durationChanged };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.empAssignmentId))
                        currentObject.empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&empAssignmentId=' + currentObject.empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.PermissionTransaction = PermissionTransaction;
        Forms.hcmsForms.controller('permissionTransactionController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PermissionTransaction(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PermissionTransHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.listOptions = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedPermissionProfile');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                });
            }
        }
        Forms.PermissionTransHome = PermissionTransHome;
        Forms.hcmsForms.controller('permissionTransHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PermissionTransHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpAssignmentController extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.addNewClick = () => {
                    this.addItemView(() => {
                        this.dataItem.EmpStatusId = 1;
                    });
                };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var profileId = currentObject.parentItem["ProfileId"];
                    if (angular.isUndefined(profileId))
                        profileId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&profileId=' + profileId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByProfileId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
                this.OnAdded.addHandler((result) => {
                    setTimeout(() => {
                        this.parentItem.EmpAssignmentId = result.data.Result;
                    }, 200);
                });
                this.OnEditClicked.addHandler((result) => {
                    setTimeout(() => {
                        this.parentItem.EmpAssignmentId = result.data.EmpAssignmentId;
                    }, 200);
                });
                this.OnAdding.addHandler((result) => {
                    this.dataItem.ProfileId = this.parentItem.ProfileId;
                });
                scope.$watch(() => scope.parentItem.ProfileId, (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentItem.ProfileId = newValue;
                        this.dataItem = {};
                        this.dataList = [];
                        if (this.GetDataByParentId !== null) {
                            this.GetDataByParentId();
                        }
                    }
                });
            }
        }
        Forms.EmpAssignmentController = EmpAssignmentController;
        // hcmsForms.controller('profileSubFormController', ProfileSubFormController);
        Forms.hcmsForms.controller('empAssignmentController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpAssignmentController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpAssignmentSubFormController extends Forms.BaseSubFormManager {
            //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var empAssignmentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(empAssignmentId))
                        empAssignmentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&EmpAssignmentId=' + empAssignmentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByEmpAssignmentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.EmpAssignmentSubFormController = EmpAssignmentSubFormController;
        // hcmsForms.controller('profileSubFormController', ProfileSubFormController);
        Forms.hcmsForms.controller('empAssignmentSubFormController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpAssignmentSubFormController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class EmpAssignmentTabsController {
            constructor(translateService, dbManager, scope, $stateParams) {
                this.$onInit = () => { };
                this.stackTabOptions = {};
                //inherit BaseFormManager
                //set login Info
                this.scope = scope;
                this.parentIdFieldName = 'EmpAssignmentId';
                this.parentItem = scope.parentItem;
                var currentInfo = HCMS.DataAccess.StartUp.CurrentLoginInfo;
                //if (currentInfo == null) {
                //    currentInfo = new DataAccess.CurrentLoginInfo(dbManager);
                //    var currentUser = angular.fromJson(sessionStorage['user']);
                //    currentInfo.SetLoginInfo({ UserId: currentUser.userId, LangId: currentUser.langId, DatabaseProfileId: currentUser.databaseProfileId, CompanyId: currentUser.companyId });
                //    DataAccess.StartUp.SetCurrentLoginInfo(currentInfo);
                //}
                this.FormSetup = new Forms.BaseFormSetup(translateService, dbManager, currentInfo.User.UserId, scope.formId);
                this.FormSetup.LoadForm();
                this.scope.$watch(() => this.scope.parentItem, (newValue, oldValue) => {
                    if (oldValue !== newValue) {
                        this.parentItem = newValue;
                        this.stackTabOptions.api.activateFirstTab();
                    }
                });
            }
        }
        Forms.EmpAssignmentTabsController = EmpAssignmentTabsController;
        // hcmsForms.controller('personalDataTabsController', PersonalDataTabsController);
        Forms.hcmsForms.controller('empAssignmentTabsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new EmpAssignmentTabsController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class UploadEmpVacationDueAdjustmentHome extends Forms.excelHeadersHome {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope, $stateParams);
                this.$onInit = () => { };
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedexcelVacDueAdjHeader');
                };
                this.addNewClicked = () => {
                    //this.dataItem = {};
                    this.dataItem.RefNo = undefined;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedexcelVacDueAdjHeader');
                };
            }
        }
        Forms.UploadEmpVacationDueAdjustmentHome = UploadEmpVacationDueAdjustmentHome;
        Forms.hcmsForms.controller('uploadEmpVacationDueAdjustmentHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadEmpVacationDueAdjustmentHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
        class UploadEmpVacationDueAdjustment extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                super(translateService, dbManager, scope.formId);
                this.scope = scope;
                this.$onInit = () => { };
                this.xlsOptions = { data: [], fileName: "", onChanged: null, onClick: null };
                this.RefNo = 0;
                this.FileName = "";
                this.LoadFromExcel = () => __awaiter(this, void 0, void 0, function* () {
                    //this.dbManager.Post(this.FormSetup.MyForm.FormController, "GetList", "", data, (result) => {
                    //    this.dataList = result.data;
                    //}, (result) => {
                    //    this.smartALert.Error(result.data);
                    //})
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    //this.FileName = (this.xlsOptions.fileName == null || this.xlsOptions.fileName == "" ? "text" : this.xlsOptions.fileName);
                    this.FileName = this.xlsOptions.fileName;
                    var data = this.xlsOptions.data;
                    if (this.FileName == null || this.FileName == "" || data == null || data.length <= 0) {
                        this.smartALert.Warning("Please select file for upload.");
                        return false;
                    }
                    var queryString = "?refNo=" + this.RefNo + "&fileName=" + this.FileName;
                    //if (data == null || data.length <= 0) return false;
                    var postResult = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "SaveList", queryString, data);
                    this.getList();
                });
                this.clearSelectedFile = (e) => {
                    e.wrap('<form>').closest('form').get(0).reset();
                    e.unwrap();
                    //// Prevent form submission
                    //e.stopPropagation();
                    //e.preventDefault();
                };
                this.getList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetList", queryString);
                    this.dataList = result.data;
                });
                this.createNew = () => __awaiter(this, void 0, void 0, function* () {
                    this.dataList = [];
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetMaxRefNo", "");
                    this.RefNo = result.data;
                });
                this.loadByRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    this.getList();
                });
                this.postItemList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ RefId }) => RefId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "PostList", queryString, selectedIds);
                        //var result2 = await this.getList();
                        this.smartALert.Alert("Records has been posted successfully");
                        this.getList();
                    }
                    else {
                        this.smartALert.Warning("You must select record(s) to post.");
                    }
                });
                this.unPostItemList = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        let selectedIds = selectedRows.map(({ RefId }) => RefId);
                        if (selectedRows.length > 0) {
                            var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "UnPostList", queryString, selectedIds);
                            //var result2 = await this.getList();
                            this.smartALert.Alert("Records has been posted successfully");
                            this.getList();
                        }
                        else {
                            this.smartALert.Warning("You must select record(s) to unpost.");
                        }
                        //for (let entry of selectedRows) {
                        //    var index = this.dataList.indexOf(entry);
                        //    this.dataList.splice(index, 1);
                        //}
                    }));
                });
                this.deleteRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "Delete", queryString, null);
                        var message = new HCMS.Controls.messageHandler();
                        message.MessageConfirmation(result.data, "Deleted Successfuly");
                        this.loadByRefNo();
                    }));
                });
                //private saveItemList = (valid) => {
                //    if (this.xlsOptions.data !== null) {
                //        // var data = JSON.parse(this.xlsOptions.data.toString());
                //        var data = this.dataList;// JSON.stringify(this.xlsOptions.data);
                //        this.dbManager.Post(this.FormSetup.MyForm.FormController, "SaveList", "", data, (result) => {
                //            this.smartALert.Alert("Saved Successfully");
                //        }, (result) => {
                //            this.smartALert.Error(result.data);
                //        })
                //    }
                //}
                this.deleteClicked = (item) => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var index = this.dataList.indexOf(item);
                        this.dataList.splice(index, 1);
                    });
                };
                this.deleteSelectedRows = () => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        for (let entry of selectedRows) {
                            var index = this.dataList.indexOf(entry);
                            this.dataList.splice(index, 1);
                        }
                    });
                };
                this.smartALert = new HCMS.Controls.SmartAlert();
                this.FormSetup.LoadForm((form) => {
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.scope.$watch(() => this.scope.parentItem.RefNo, (newValue, oldValue) => {
                        if (oldValue !== newValue) {
                            if (newValue !== undefined) {
                                this.RefNo = Number.parseInt(newValue);
                                this.RefNo = this.RefNo;
                                this.loadByRefNo();
                            }
                            else {
                                this.createNew();
                            }
                        }
                    });
                    //this.createNew();
                    //  this.RefNo = ExcelHeader.selectedProfile
                });
                this.xlsOptions.onClick = this.clearSelectedFile;
                //this.xlsOptions.onChanged = this.emportDataChanged;
            }
            ;
        }
        Forms.UploadEmpVacationDueAdjustment = UploadEmpVacationDueAdjustment;
        Forms.hcmsForms.controller('uploadEmpVacationDueAdjustmentController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadEmpVacationDueAdjustment(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class UploadEmpVacationsHome extends Forms.excelHeadersHome {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope, $stateParams);
                this.$onInit = () => { };
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedexcelVacTransHeader');
                };
                this.addNewClicked = () => {
                    //this.dataItem = {};
                    this.dataItem.RefNo = undefined;
                    this.activeTabIndex = 1;
                    // this.activateTab('selectedexcelVacTransHeader');
                };
            }
        }
        Forms.UploadEmpVacationsHome = UploadEmpVacationsHome;
        Forms.hcmsForms.controller('uploadEmpVacationsHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadEmpVacationsHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
        class UploadEmpVacations extends Forms.BaseFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                super(translateService, dbManager, scope.formId);
                this.scope = scope;
                this.$onInit = () => { };
                this.xlsOptions = { data: [], fileName: "", onChanged: null, onClick: null };
                this.RefNo = 0;
                this.FileName = "";
                this.LoadFromExcel = () => __awaiter(this, void 0, void 0, function* () {
                    //this.dbManager.Post(this.FormSetup.MyForm.FormController, "GetList", "", data, (result) => {
                    //    this.dataList = result.data;
                    //}, (result) => {
                    //    this.smartALert.Error(result.data);
                    //})
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    //this.FileName = (this.xlsOptions.fileName == null || this.xlsOptions.fileName == "" ? "text" : this.xlsOptions.fileName);
                    this.FileName = this.xlsOptions.fileName;
                    var data = this.xlsOptions.data;
                    if (this.FileName == null || this.FileName == "" || data == null || data.length <= 0) {
                        this.smartALert.Warning("Please select file for upload.");
                        return false;
                    }
                    var queryString = "?refNo=" + this.RefNo + "&fileName=" + this.FileName;
                    //if (data == null || data.length <= 0) return false;
                    var postResult = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "SaveList", queryString, data);
                    this.getList();
                });
                this.clearSelectedFile = (e) => {
                    e.wrap('<form>').closest('form').get(0).reset();
                    e.unwrap();
                    //// Prevent form submission
                    //e.stopPropagation();
                    //e.preventDefault();
                };
                this.getList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetList", queryString);
                    this.dataList = result.data;
                });
                this.createNew = () => __awaiter(this, void 0, void 0, function* () {
                    this.dataList = [];
                    var result = yield this.dbManager.GetPromise(this.FormSetup.MyForm.FormController, "GetMaxRefNo", "");
                    this.RefNo = result.data;
                });
                this.loadByRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    if (this.RefNo <= 0) {
                        this.smartALert.Warning("Please enter Reference No");
                        return false;
                    }
                    this.getList();
                });
                this.postItemList = () => __awaiter(this, void 0, void 0, function* () {
                    var queryString = "?refNo=" + this.RefNo;
                    var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                    let selectedIds = selectedRows.map(({ RefId }) => RefId);
                    if (selectedRows.length > 0) {
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "PostList", queryString, selectedIds);
                        //var result2 = await this.getList();
                        this.smartALert.Alert("Records has been posted successfully");
                        this.getList();
                    }
                    else {
                        this.smartALert.Warning("You must select record(s) to post.");
                    }
                });
                this.unPostItemList = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        let selectedIds = selectedRows.map(({ RefId }) => RefId);
                        if (selectedRows.length > 0) {
                            var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "UnPostList", queryString, selectedIds);
                            //var result2 = await this.getList();
                            this.smartALert.Alert("Records has been posted successfully");
                            this.getList();
                        }
                        else {
                            this.smartALert.Warning("You must select record(s) to unpost.");
                        }
                        //for (let entry of selectedRows) {
                        //    var index = this.dataList.indexOf(entry);
                        //    this.dataList.splice(index, 1);
                        //}
                    }));
                });
                this.deleteRefNo = () => __awaiter(this, void 0, void 0, function* () {
                    this.smartALert.Confirm("are you sure to delete these items", "", () => __awaiter(this, void 0, void 0, function* () {
                        var queryString = "?refNo=" + this.RefNo;
                        var result = yield this.dbManager.PostPromise(this.FormSetup.MyForm.FormController, "Delete", queryString, null);
                        var message = new HCMS.Controls.messageHandler();
                        message.MessageConfirmation(result.data, "Deleted Successfuly");
                        this.loadByRefNo();
                    }));
                });
                //private saveItemList = (valid) => {
                //    if (this.xlsOptions.data !== null) {
                //        // var data = JSON.parse(this.xlsOptions.data.toString());
                //        var data = this.dataList;// JSON.stringify(this.xlsOptions.data);
                //        this.dbManager.Post(this.FormSetup.MyForm.FormController, "SaveList", "", data, (result) => {
                //            this.smartALert.Alert("Saved Successfully");
                //        }, (result) => {
                //            this.smartALert.Error(result.data);
                //        })
                //    }
                //}
                this.deleteClicked = (item) => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var index = this.dataList.indexOf(item);
                        this.dataList.splice(index, 1);
                    });
                };
                this.deleteSelectedRows = () => {
                    this.smartALert.Confirm("are you sure to delete this item", "", () => {
                        var selectedRows = this.grid.gridOptions.api.getSelectedRows();
                        for (let entry of selectedRows) {
                            var index = this.dataList.indexOf(entry);
                            this.dataList.splice(index, 1);
                        }
                    });
                };
                this.smartALert = new HCMS.Controls.SmartAlert();
                this.FormSetup.LoadForm((form) => {
                    this.selectedViewSetup = this.FormSetup.MyForm.IndexView;
                    this.FormSetup.MyForm.IndexView.Load();
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.scope.$watch(() => this.scope.parentItem.RefNo, (newValue, oldValue) => {
                        if (oldValue !== newValue) {
                            if (newValue !== undefined) {
                                this.RefNo = Number.parseInt(newValue);
                                this.RefNo = this.RefNo;
                                this.loadByRefNo();
                            }
                            else {
                                this.createNew();
                            }
                        }
                    });
                    //this.createNew();
                    //  this.RefNo = ExcelHeader.selectedProfile
                });
                this.xlsOptions.onClick = this.clearSelectedFile;
                //this.xlsOptions.onChanged = this.emportDataChanged;
            }
            ;
        }
        Forms.UploadEmpVacations = UploadEmpVacations;
        Forms.hcmsForms.controller('uploadEmpVacationsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new UploadEmpVacations(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AllJobs extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.AllJobs = AllJobs;
        //hcmsForms.controller('generalFormSetupController', GeneralFormSetup);
        Forms.hcmsForms.controller('allJobsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new Forms.GeneralFormSetup(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AllOrgUnits extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.AllOrgUnits = AllOrgUnits;
        //hcmsForms.controller('generalFormSetupController', GeneralFormSetup);
        Forms.hcmsForms.controller('allOrgUnitsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new Forms.GeneralFormSetup(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AllPositions extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                //this.loadData();
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.AllPositions = AllPositions;
        //hcmsForms.controller('generalFormSetupController', GeneralFormSetup);
        Forms.hcmsForms.controller('allPositionsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new Forms.GeneralFormSetup(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
/// <reference path="../../../../../forms/generalforms/generalform.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PayItem extends Forms.GeneralFormSetup {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                //Event fromDate Changed   
                this.payItemsCalcMethodChanged = (methodId) => {
                    if (methodId == 3) {
                        //Enhable Based on Iem
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnGroup"].IsReadOnly = true;
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnItem"].IsReadOnly = true;
                        this.selectedViewSetup.ViewFieldsObject["FormulaId"].IsReadOnly = false;
                    }
                    else if (methodId == 1) {
                        //Enhable Based on Group
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnGroup"].IsReadOnly = true;
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnItem"].IsReadOnly = false;
                        this.selectedViewSetup.ViewFieldsObject["FormulaId"].IsReadOnly = true;
                    }
                    else if (methodId == 2) {
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnGroup"].IsReadOnly = true;
                        this.selectedViewSetup.ViewFieldsObject["PayBasedOnItem"].IsReadOnly = true;
                        this.selectedViewSetup.ViewFieldsObject["FormulaId"].IsReadOnly = false;
                    }
                };
                // set Transaction Events
                this.payItemsCalcMethodEvents = { defaultAction: this.payItemsCalcMethodChanged };
            }
        }
        Forms.PayItem = PayItem;
        Forms.hcmsForms.controller('payItemController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PayItem(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class LoanRuleController extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.LoanRuleController = LoanRuleController;
        Forms.hcmsForms.controller('loanRuleController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new LoanRuleController(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PenaltySetup extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.navTabOptions = {};
                this.afterEditClicked = (data) => {
                    this.navTabOptions.api.activateFirstTab();
                };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    this.OnEditClicked.addHandler(this.afterEditClicked);
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.PenaltySetup = PenaltySetup;
        Forms.hcmsForms.controller('penaltySetupController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PenaltySetup(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class PenaltySetupDetails extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    var parentId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(parentId))
                        parentId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&parentId=' + parentId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.PenaltySetupDetails = PenaltySetupDetails;
        // hcmsForms.controller('profileSubFormController', ProfileSubFormController);
        Forms.hcmsForms.controller('penaltySetupDetailsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new PenaltySetupDetails(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../forms/baseforms/baseform/baseformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class VacationRule extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                this.indexItemView = () => {
                    this.DisplayIndexView();
                };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.editClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.indexItemView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                    //this.OnAdding.addHandler(this.beforeAdd);
                });
            }
            addItemView() {
                this.DisplayAddView(() => {
                    this.FormData.GetDataItem("0", (data) => {
                        this.dataItem = data;
                    });
                    var viewId = this.selectedViewSetup.ViewId;
                    var codeField = this.selectedViewSetup.TableCodeField;
                    if (!HCMS.DataAccess.Utility.IsNull(codeField)) {
                        if (codeField !== "") {
                            this.selectedViewSetup.GetNewCode(viewId, function (data) {
                                this.dataItem[codeField] = data;
                            });
                        }
                    }
                });
            }
            editItemView() {
                this.DisplayEditView();
            }
            displayItemView() {
                this.DisplayDetailsView();
            }
        }
        Forms.VacationRule = VacationRule;
        Forms.hcmsForms.controller('vacationRuleController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new VacationRule(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class InsuranceRulesHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                //public listOptions: any = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.selectedProfile = item;
                    this.activateTab('selectedInsuranceRule');
                    this.navTabOptions.api.activateFirstTab();
                };
                this.addNewClicked = () => {
                    this.DisplayAddView((data) => {
                        this.selectedProfile = data;
                        this.activateTab('selectedInsuranceRule');
                        this.navTabOptions.api.activateFirstTab();
                    });
                };
                // this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.selectClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                });
            }
            activateTab(tab) {
                $('.nav-tabs a[href="#' + tab + '"]').tab('show');
            }
            ;
        }
        Forms.InsuranceRulesHome = InsuranceRulesHome;
        Forms.hcmsForms.controller('insuranceRulesHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new InsuranceRulesHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class InsuranceRulesJoinItems extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.insuranceRuleId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.insuranceRuleId))
                        currentObject.insuranceRuleId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&insuranceRuleId=' + currentObject.insuranceRuleId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.InsuranceRulesJoinItems = InsuranceRulesJoinItems;
        Forms.hcmsForms.controller('insuranceRulesJoinItemsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new InsuranceRulesJoinItems(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class TaxRulesHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                //public listOptions: any = { selectCallback: null, indexController: null };
                this.selectedProfile = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.selectedProfile = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedtaxRule');
                    this.navTabOptions.api.activateFirstTab();
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                this.addNewClicked = () => {
                    this.DisplayAddView((data) => {
                        this.selectedProfile = data;
                        this.activeTabIndex = 1;
                        //this.activateTab('selectedtaxRule');
                        this.navTabOptions.api.activateFirstTab();
                    });
                };
                // this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.selectedProfile = {};
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.selectClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                });
            }
        }
        Forms.TaxRulesHome = TaxRulesHome;
        Forms.hcmsForms.controller('taxRulesHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new TaxRulesHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class TaxRulesRates extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.taxRuleId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.taxRuleId))
                        currentObject.taxRuleId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&taxRuleId=' + currentObject.taxRuleId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.TaxRulesRates = TaxRulesRates;
        Forms.hcmsForms.controller('taxRulesRatesController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new TaxRulesRates(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceGroupDetails extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                //static $inject = ['translateService', 'dataManagerService', '$scope', '$stateParams'];
                this.header = {
                    fromDate: {
                        value: null,
                        options: { DataTypeName: 'date', ControlTypeName: 'date', IsRequired: 1 }
                    },
                    toDate: {
                        value: null,
                        options: { DataTypeName: 'date', ControlTypeName: 'date', IsRequired: 1 }
                    },
                    attendanceTemplate: {
                        value: null,
                        DropDownId: 132,
                        //ControlTypeName:'select',
                        //DataTypeName:'int',
                        IsRequired: 1,
                        SelectDisplayValue: 'AttendanceTemplateId',
                        SelectDisplayName: 'AttendanceTemplateName',
                        SelectDisplayName_: 'AttendanceTemplateName_'
                    }
                };
                this.generateByTemplate = () => __awaiter(this, void 0, void 0, function* () {
                    let fromDate = this.header.fromDate.value;
                    let toDate = this.header.toDate.value;
                    let attendanceTemplateId = this.header.attendanceTemplate.value;
                    if (!HCMS.Validations.DateValidations.isDate(fromDate) || !HCMS.Validations.DateValidations.isDate(toDate)) {
                        return;
                    }
                    fromDate = fromDate.toUTCString(); // HCMS.Validations.DateValidations.toDate(fromDate);
                    toDate = toDate.toUTCString(); // HCMS.Validations.DateValidations.toDate(toDate);
                    let queryString = `?attendanceTemplateId=${attendanceTemplateId}&attendanceGroupId=${this.attendanceGroupId}&fromDate=${fromDate}&toDate=${toDate}`;
                    let result = yield this.dbManager.GetPromise("AttendanceGroupDetails", "GetGenerateByTemplate", queryString);
                    this.RefreshGrid();
                });
                // GetDataByParentId
                this.GetDataByParentId = this.RefreshGrid;
            }
            RefreshGrid(callBack) {
                var currentObject = this;
                currentObject.attendanceGroupId = currentObject.parentItem[currentObject.parentIdFieldName];
                if (angular.isUndefined(currentObject.attendanceGroupId))
                    currentObject.attendanceGroupId = 0;
                var queryString = currentObject.FormData.getCommonParams() + '&attendanceGroupId=' + currentObject.attendanceGroupId;
                this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                    currentObject.dataList = response.data;
                    if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                        callBack(response.data);
                    }
                }, null);
            }
        }
        Forms.AttendanceGroupDetails = AttendanceGroupDetails;
        Forms.hcmsForms.controller('attendanceGroupDetailsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new AttendanceGroupDetails(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceGroupsHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedAttendanceGroup');
                    this.navTabOptions.api.activateFirstTab();
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                this.addNewClicked = () => {
                    this.DisplayAddView((data) => {
                        this.activeTabIndex = 1;
                        //this.activateTab('selectedAttendanceGroup');
                        this.navTabOptions.api.activateFirstTab();
                    });
                };
                // this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.selectClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                });
            }
        }
        Forms.AttendanceGroupsHome = AttendanceGroupsHome;
        Forms.hcmsForms.controller('attendanceGroupsHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new AttendanceGroupsHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceTemplateDetails extends Forms.BaseSubFormManager {
            constructor(translateService, dbManager, scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, scope, $stateParams);
                this.$onInit = () => { };
                // GetDataByParentId
                this.GetDataByParentId = (callBack) => {
                    var currentObject = this;
                    currentObject.attendanceTemplateId = currentObject.parentItem[currentObject.parentIdFieldName];
                    if (angular.isUndefined(currentObject.attendanceTemplateId))
                        currentObject.attendanceTemplateId = 0;
                    var queryString = currentObject.FormData.getCommonParams() + '&attendanceTemplateId=' + currentObject.attendanceTemplateId;
                    this.dbManager.Get(currentObject.FormSetup.MyForm.FormController, 'GetByParentId', queryString, function (response) {
                        currentObject.dataList = response.data;
                        if (!HCMS.DataAccess.Utility.IsNull(callBack)) {
                            callBack(response.data);
                        }
                    }, null);
                };
            }
        }
        Forms.AttendanceTemplateDetails = AttendanceTemplateDetails;
        Forms.hcmsForms.controller('attendanceTemplateDetailsController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new AttendanceTemplateDetails(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));
/// <reference path="../../../../../../forms/baseforms/baseform/basesubformmanager.ts" />
var HCMS;
(function (HCMS) {
    var Forms;
    (function (Forms) {
        class AttendanceTemplatesHome extends Forms.BaseFormManager {
            constructor(translateService, dbManager, $scope, $stateParams) {
                //inherit BaseFormManager
                super(translateService, dbManager, $scope.tab.MenuItem.FormId);
                this.$onInit = () => { };
                //private selectedHeaderView: Models.SystemFormView = new Models.EditView();
                this.navTabOptions = {};
                this.activeTabIndex = 0;
                this.selectClicked = (item) => {
                    this.dataItem = item;
                    this.activeTabIndex = 1;
                    //this.activateTab('selectedAttendanceTemplate');
                    this.navTabOptions.api.activateFirstTab();
                };
                //public activateTab(tab) {
                //    $('.nav-tabs a[href="#' + tab + '"]').tab('show');
                //};
                this.addNewClicked = () => {
                    this.DisplayAddView((data) => {
                        this.activeTabIndex = 1;
                        //this.activateTab('selectedAttendanceTemplate');
                        this.navTabOptions.api.activateFirstTab();
                    });
                };
                // this.listOptions = { selectCallback: this.selectClicked, indexController: this, enableRtl: HCMS.DataAccess.StartUp.CurrentLoginInfo.Language.LangDirection === "rtl" ? true : false };
                this.FormSetup.LoadForm((form) => {
                    this.FormSetup.MyForm.IndexView.EditCallback = this.selectClicked;
                    this.FormSetup.MyForm.IndexView.DeleteCallback = this.deleteClicked;
                    this.FormSetup.MyForm.IndexView.SelectCallback = this.selectClicked;
                    this.selectedViewSetup = this.FormSetup.MyForm.CreateView;
                    this.FormSetup.MyForm.EditView.CallbackOnLoad = (view) => {
                        this.parentIdFieldName = this.getIdFieldName(view.ViewFields);
                    };
                    this.FormSetup.MyForm.CreateView.Load();
                    this.FormSetup.MyForm.EditView.Load();
                    this.FormSetup.MyForm.IndexView.Load();
                    //this.FormSetup.MyForm.IndexView.SelectCallback = this.se;
                    this.FormData = new Forms.BaseFormData(translateService, dbManager, form);
                    this.dataItem = this.FormData.dataItem;
                    this.FormData.GetDataList(() => {
                        this.dataList = this.FormData.dataList;
                    });
                    this.OnAdded.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnUpdated.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                            this.DisplayIndexView();
                        });
                    });
                    this.OnDeleted.addHandler(() => {
                        this.FormData.GetDataList((data) => {
                            this.dataList = data;
                        });
                    });
                });
            }
        }
        Forms.AttendanceTemplatesHome = AttendanceTemplatesHome;
        Forms.hcmsForms.controller('attendanceTemplatesHomeController', ['translateService', 'dataManagerService', '$scope', '$stateParams', function (translateService, dataManagerService, $scope, $stateParams) {
                return new AttendanceTemplatesHome(translateService, dataManagerService, $scope, $stateParams);
            }]);
    })(Forms = HCMS.Forms || (HCMS.Forms = {}));
})(HCMS || (HCMS = {}));

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcF9oZWJzL19jb21tb24vdmFsaWRhdGlvbi9tb2R1bGUudHMiLCJhcHBfaGVicy9fY29tbW9uL3ZhbGlkYXRpb24vY29tbW9uVmFsaWRhdGlvbnMudHMiLCJhcHBfaGVicy9fY29tbW9uL3ZhbGlkYXRpb24vZGF0ZVZhbGlkYXRpb25zLnRzIiwiYXBwX2hlYnMvaGNtcy9tb2R1bGUudHMiLCJhcHBfaGVicy9kYXRhQWNjZXNzL21vZHVsZS50cyIsImFwcF9oZWJzL2RhdGFBY2Nlc3MvbGFuZ3VhZ2UvbGFuZ3VhZ2VDaGFuZ2VTZWxlY3Rvci50cyIsImFwcF9oZWJzL2RhdGFBY2Nlc3MvbGFuZ3VhZ2UvbGFuZ3VhZ2VDaGFuZ2VTZXJ2aWNlLnRzIiwiYXBwX2hlYnMvZGF0YUFjY2Vzcy9sYW5ndWFnZS9sYW5ndWFnZVNlbGVjdG9yLnRzIiwiYXBwX2hlYnMvZGF0YUFjY2Vzcy9zZXJ2aWNlcy9kYXRhTWFuYWdlci50cyIsImFwcF9oZWJzL2RhdGFBY2Nlc3Mvc2VydmljZXMvdHJhbnNsYXRlLnRzIiwiYXBwX2hlYnMvZGF0YUFjY2Vzcy9zdGFydFVwL2NvbXBhbnkudHMiLCJhcHBfaGVicy9kYXRhQWNjZXNzL3N0YXJ0VXAvY3VycmVudExvZ2luSW5mby50cyIsImFwcF9oZWJzL2RhdGFBY2Nlc3Mvc3RhcnRVcC9kYXRhYmFzZVByb2ZpbGUudHMiLCJhcHBfaGVicy9kYXRhQWNjZXNzL3N0YXJ0VXAvbGFuZ3VhZ2UudHMiLCJhcHBfaGVicy9kYXRhQWNjZXNzL3N0YXJ0VXAvc3RhcnRVcC50cyIsImFwcF9oZWJzL2RhdGFBY2Nlc3Mvc3RhcnRVcC91c2VyLnRzIiwiYXBwX2hlYnMvZGF0YUFjY2Vzcy9zdGFydFVwL3V0aWxpdHkudHMiLCJhcHBfaGVicy9fY29tbW9uL2F1dGhlbnRpY2F0aW9uL21vZHVsZS50cyIsImFwcF9oZWJzL19jb21tb24vYXV0aGVudGljYXRpb24vc2VydmljZXMvYWNjb3VudFNlcnZpY2UudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL21vZHVsZS50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvYXBwbHlTZWN1cml0eS50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvZmlsdGVycy50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvZ2VuZXJpY0VkaXRvci50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvdHJhbnNsYXRlRGlyZWN0aXZlLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy93aWRnZXREaXJlY3RpdmVzLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9tZXNzYWdlcy9tZXNzYWdlSGFuZGxlci50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvaW5wdXRDb250cm9scy9jaGVja2JveC50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvaW5wdXRDb250cm9scy9kYXRlLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9pbnB1dENvbnRyb2xzL2Ryb3Bkb3duLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9pbnB1dENvbnRyb2xzL2VtYWlsVGV4dC50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvaW5wdXRDb250cm9scy9maWxlLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9pbnB1dENvbnRyb2xzL211bHRpbGluZVRleHQudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvbXVsdGlTZWxlY3QudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvbnVtZXJpY1RleHQudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvcHJvZ3Jlc3NCYXIudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvcHJvZ3Jlc3NDYWxjLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9pbnB1dENvbnRyb2xzL3Byb2dyZXNzVHlwZVNlcnZpY2UudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvcmFkaW9idXR0b24udHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvc2VsZWN0TW9udGgudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL2lucHV0Q29udHJvbHMvc2VsZWN0WWVhci50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvaW5wdXRDb250cm9scy90ZXh0Ym94LnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9pbnB1dENvbnRyb2xzL3RpbWUudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL290aGVyQ29udHJvbHMvY29sb3JQaWNrZXIudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL290aGVyQ29udHJvbHMvZW1wQXNzaWdubWVudEluZm8udHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL290aGVyQ29udHJvbHMvZW1wRGVmYXVsdEFzc2lnbm1lbnRMaXN0LnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9vdGhlckNvbnRyb2xzL2hjbXNUcmVlLnRzIiwiYXBwX2hlYnMvX2NvbW1vbi9jb250cm9scy9vdGhlckNvbnRyb2xzL0ltcG9ydEZyb21FeGNlbC50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvb3RoZXJDb250cm9scy9vcmdDaGFydC50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvb3RoZXJDb250cm9scy9wcm9maWxlSW5mby50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvb3RoZXJDb250cm9scy9wcm9maWxlTGlzdC50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvb3RoZXJDb250cm9scy9TbWFydEdyaWQudHMiLCJhcHBfaGVicy9fY29tbW9uL2NvbnRyb2xzL290aGVyQ29udHJvbHMvc21hcnRHcmlkQ29tcG9uZW50cy50cyIsImFwcF9oZWJzL19jb21tb24vY29udHJvbHMvb3RoZXJDb250cm9scy9TeXN0ZW1BbGVydC50cyIsImFwcF9oZWJzL21lbnVzL21vZHVsZS50cyIsImFwcF9oZWJzL21lbnVzL2hvbWVNZW51c0NvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9tZW51cy9tZW51VGFic1NlcnZpY2UudHMiLCJhcHBfaGVicy9tZW51cy9tZW51VGFic0NvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9tZW51cy9tZW51VGFic0RpcmVjdGl2ZS50cyIsImFwcF9oZWJzL2Zvcm1zL21vZHVsZS50cyIsImFwcF9oZWJzL2Zvcm1zL2Jhc2VEaXJlY3RpdmVzL2Zvcm1EaXJlY3RpdmUudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRGlyZWN0aXZlcy9mb3JtTmF2VGFicy50cyIsImFwcF9oZWJzL2Zvcm1zL2Jhc2VEaXJlY3RpdmVzL2Zvcm1TdGFja1RhYnMudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRGlyZWN0aXZlcy9JRnJhbUF1dG9SZXNpemUudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRm9ybXMvYmFzZUZvcm0vY29tbW9uRm9ybS50cyIsImFwcF9oZWJzL2Zvcm1zL2Jhc2VSZXBvcnRzL2Jhc2VSZXBvcnRTZXR1cC50cyIsImFwcF9oZWJzL2Zvcm1zL2Jhc2VGb3Jtcy9iYXNlRm9ybS9iYXNlRm9ybU1hbmFnZXIudHMiLCJhcHBfaGVicy9mb3Jtcy9nZW5lcmFsRm9ybXMvZ2VuZXJhbEZvcm0udHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRm9ybXMvYmFzZUZvcm0vYmFzZVN1YkZvcm1NYW5hZ2VyLnRzIiwiYXBwX2hlYnMvZm9ybXMvZ2VuZXJhbEZvcm1zL2dlbmVyYWxTdWJGb3JtLnRzIiwiYXBwX2hlYnMvZm9ybXMvbW9kZWxzL2Zvcm0udHMiLCJhcHBfaGVicy9mb3Jtcy9tb2RlbHMvR3JpZENvbHVtbk9wdGlvbi50cyIsImFwcF9oZWJzL2Zvcm1zL21vZGVscy9ncmlkT3B0aW9uLnRzIiwiYXBwX2hlYnMvZm9ybXMvbW9kZWxzL3N5c3RlbUZvcm1WaWV3LnRzIiwiYXBwX2hlYnMvZm9ybXMvbW9kZWxzL3N5c3RlbUZvcm1WaWV3RmllbGQudHMiLCJhcHBfaGVicy9mb3Jtcy9tb2RlbHMvdmlld1R5cGUudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRm9ybXMvYmFzZUZvcm0vYmFzZUZvcm1EYXRhLnRzIiwiYXBwX2hlYnMvZm9ybXMvYmFzZUZvcm1zL2Jhc2VGb3JtL2Jhc2VGb3JtU2V0dXAudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRm9ybXMvYmFzZUdyaWQvYmFzZUdyaWQudHMiLCJhcHBfaGVicy9mb3Jtcy9iYXNlRm9ybXMvYmFzZUdyaWQvYmFzZUdyaWRTZXR1cC50cyIsImFwcF9oZWJzL2hjbXMvcmVmZXJlbmNlcy50cyIsImFwcF9oZWJzL2hjbXMvRW50aXR5U2VydmljZS9lbnRpdHlTZXJ2aWNlLnRzIiwiYXBwX2hlYnMvaGNtcy9FeGNlbFVwbG9hZC9leGNlbEhlYWRlci50cyIsImFwcF9oZWJzL2hjbXMvRXhjZWxVcGxvYWQvZXhjZWxIZWFkZXJTZXJ2aWNlLnRzIiwiYXBwX2hlYnMvaGNtcy9sb2dvdXQvbG9nb3V0LnRzIiwiYXBwX2hlYnMvaGNtcy9yZXBvcnRzL2dlbmVyYWxSZXBvcnRGb3JtLnRzIiwiYXBwX2hlYnMvaGNtcy9jaGFydC9jb250b2xsZXJzL2NoYXJ0Q29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvbG9naW4vY29udHJvbGxlcnMvbG9naW5Db250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9ncmFwaHMvY29udHJvbGxlcnMvY3JlYXRlZFRyYW5zQnlNb250aC50cyIsImFwcF9oZWJzL2hjbXMvZ3JhcGhzL2NvbnRyb2xsZXJzL3RvdGFsU2FsYXJ5QnlZZWFyLnRzIiwiYXBwX2hlYnMvaGNtcy9ncmFwaHMvZGlyZWN0aXZlcy9oaWdoQ2hhcnRUYWJsZS50cyIsImFwcF9oZWJzL2hjbXMvZ3JhcGhzL2RpcmVjdGl2ZXMvcGllQ2hhcnQudHMiLCJhcHBfaGVicy9oY21zL2dyYXBocy9kaXJlY3RpdmVzL3RvdGFsUGllU2FsYXJ5QnlZZWFyLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvcHJvZmlsZS9hbGxQcm9maWxlcy50cyIsImFwcF9oZWJzL2hjbXMvcGVyc29ubmVsL3Byb2ZpbGUvZW1QaG90by50cyIsImFwcF9oZWJzL2hjbXMvcGVyc29ubmVsL3Byb2ZpbGUvUGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wcm9maWxlL3Byb2ZpbGVQZXJzb25hbERhdGEudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wcm9maWxlL3Byb2ZpbGVTdWJGb3JtLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvcHJvZmlsZS9zZWxlY3RlZFByb2ZpbGUudHMiLCJhcHBfaGVicy9oY21zL19TeXN0ZW0vUHJvZ3Jlc3MvUHJvZ3Jlc3NCYXIudHMiLCJhcHBfaGVicy9oY21zL19TeXN0ZW0vUHJvZ3Jlc3MvUHJvZ3Jlc3NUeXBlLnRzIiwiYXBwX2hlYnMvaGNtcy9yZWN1cml0bWVudC9hcHBsaWNhbnQvYWxsQXBwbGljYW50cy50cyIsImFwcF9oZWJzL2hjbXMvcmVjdXJpdG1lbnQvYXBwbGljYW50L2FwcGxpY2FudFBlcnNvbmFsRGF0YS50cyIsImFwcF9oZWJzL2hjbXMvcmVjdXJpdG1lbnQvYXBwbGljYW50L0FwcGxpY2FudFBlcnNvbmFsRGF0YVRhYnNDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9yZWN1cml0bWVudC9hcHBsaWNhbnQvYXBwbGljYW50UGhvdG8udHMiLCJhcHBfaGVicy9oY21zL3JlY3VyaXRtZW50L2FwcGxpY2FudC9hcHBsaWNhbnRTdWJGb3JtLnRzIiwiYXBwX2hlYnMvaGNtcy9hdHRlbmRhbmNlL2F0dGVuZGFuY2VTZXR1cC9hdHRlbmRhbmNlRGF5VHlwZXMvYXR0ZW5kYW5jZURheVR5cGVzLnRzIiwiYXBwX2hlYnMvaGNtcy9hdHRlbmRhbmNlL2VkaXRBdHRlbmRhbmNlL2NvbnRyb2xsZXJzL2VkaXRBdHRlbmRhbmNlSG9tZS50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9lZGl0QXR0ZW5kYW5jZS9jb250cm9sbGVycy9lZGl0QXR0ZW5kYW5jZVRyYW5zLnRzIiwiYXBwX2hlYnMvaGNtcy9hdHRlbmRhbmNlL2ltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS9jb250cm9sbGVycy9hdHRlbmRhbmNlQ2FsY3VsYXRpb25QZXJpb2QudHMiLCJhcHBfaGVicy9oY21zL2F0dGVuZGFuY2UvaW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlL2NvbnRyb2xsZXJzL2F0dGVuZGFuY2VNb250aGx5Q2FsY3VsYXRpb24udHMiLCJhcHBfaGVicy9oY21zL2F0dGVuZGFuY2UvaW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlL2NvbnRyb2xsZXJzL2RhaWx5QXR0ZW5kYW5jZS50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvZGFpbHlDbG9zZURheS50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvZGFpbHlJbXBvcnREYXkudHMiLCJhcHBfaGVicy9oY21zL2F0dGVuZGFuY2UvaW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlL2NvbnRyb2xsZXJzL2RhaWx5UGVuYWx0aWVzLnRzIiwiYXBwX2hlYnMvaGNtcy9hdHRlbmRhbmNlL2ltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS9jb250cm9sbGVycy9kYWlseVZhY2F0aW9ucy50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvaW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlLnRzIiwiYXBwX2hlYnMvaGNtcy9hdHRlbmRhbmNlL2ltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS9jb250cm9sbGVycy9tb250aGx5QXR0ZW5kYW5jZS50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvbW9udGhseVBlbmFsdGllcy50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvbW9udGhseVNhbGFyeS50cyIsImFwcF9oZWJzL2hjbXMvYXR0ZW5kYW5jZS9pbXBvcnRDbG9zZURheUF0dGVuZGFuY2UvY29udHJvbGxlcnMvbW9udGhseVZhY2F0aW9ucy50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9jaGFuZ2VTYWxhcnkvY29udHJvbGxlcnMvZW1wQ2hhbmdlU2FsYXJ5Q29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9jaGFuZ2VTYWxhcnkvY29udHJvbGxlcnMvZW1wQ2hhbmdlU2FsYXJ5SG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL29yZ0NoYXJ0L3VuaXRPcmdDaGFydC9jb250cm9sbGVycy91bml0T3JnQ2hhcnRDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL0VtcFBheXJvbGxCYXNpY0l0ZW1zL2NvbnRyb2xsZXJzL2VtcEJhc2ljSXRlbVRyYW5zYWN0aW9uQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9FbXBQYXlyb2xsQmFzaWNJdGVtcy9jb250cm9sbGVycy9lbXBCYXNpY0l0ZW1UcmFuc0hvbWVDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL0VtcFBheW1lbnRNZXRob2QvY29udHJvbGxlcnMvZW1wUGF5bWVudE1ldGhvZENvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvRW1wUGF5bWVudE1ldGhvZC9jb250cm9sbGVycy9lbXBQYXltZW50TWV0aG9kSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvRW1wUGF5cm9sbFN0b3BTYWxhcnkvY29udHJvbGxlcnMvc3RvcFNhbENvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvRW1wUGF5cm9sbFN0b3BTYWxhcnkvY29udHJvbGxlcnMvc3RvcFNhbEhvbWVDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL2xvYW5zL2NvbnRyb2xsZXJzL2xvYW5UcmFuc2FjdGlvbkNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvbG9hbnMvY29udHJvbGxlcnMvbG9hblRyYW5zSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvRW1wUGF5cm9sbFZhcmlhYmxlSXRlbS9jb250cm9sbGVycy9lbXBQYXlyb2xsVmFyaWFibGVJdGVtVHJhbnNhY3Rpb25Db250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL0VtcFBheXJvbGxWYXJpYWJsZUl0ZW0vY29udHJvbGxlcnMvZW1wUGF5cm9sbFZhcmlhYmxlSXRlbVRyYW5zSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BheXJvbGwvRW1wUGF5cm9sbFZhcmlhYmxlSXRlbS9jb250cm9sbGVycy9FeGNlbEhlYWRlcnNIb21lQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9FbXBQYXlyb2xsVmFyaWFibGVJdGVtL2NvbnRyb2xsZXJzL1VwbG9hZFBheXJvbGxWYXJpYWJsZUl0ZW1zLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL2xvYW5TZXR0bGVtZW50L2NvbnRyb2xsZXJzL2xvYW5TZXR0bGVtZW50Q29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9sb2FuU2V0dGxlbWVudC9jb250cm9sbGVycy9sb2FuU2V0dGxlbWVudEhvbWVDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL2xvYW5zUG9zdC9jb250cm9sbGVycy9sb2FuUG9zdFRyYW5zYWN0aW9uQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9zYWxhcnkvY29udHJvbGxlcnMvcGF5cm9sbENhbGNTYWxhcnlDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wYXlyb2xsL3NhbGFyeS9jb250cm9sbGVycy9wYXlyb2xsQ2FsY1RyYW5zYWN0aW9uQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGF5cm9sbC9zYWxhcnkvY29udHJvbGxlcnMvcGF5cm9sbENsb3NlQ2FsY1NhbGFyeUNvbnRyb2xsZXIgLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvZW5kT2ZTZXJ2aWNlL2NvbnRyb2xsZXJzL2VuZE9mU2VydmljZVRyYW5zYWN0aW9uQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGVyc29ubmVsL2VuZE9mU2VydmljZS9jb250cm9sbGVycy9lbmRPZlNlcnZpY2VUcmFuc0hvbWVDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvcGVuYWx0aWVzL2NvbnRyb2xsZXJzL3BlbmFsdHlUcmFuc2FjdGlvbkNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wZW5hbHRpZXMvY29udHJvbGxlcnMvcGVuYWx0eVRyYW5zSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC92YWNhdGlvbnMvY29udHJvbGxlcnMvdmFjYXRpb25UcmFuc2FjdGlvbkNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC92YWNhdGlvbnMvY29udHJvbGxlcnMvdmFjYXRpb25UcmFuc0hvbWVDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvYXR0ZW5kYW5jZS9taXNzaW9ucy9jb250cm9sbGVycy9taXNzaW9uVHJhbnNhY3Rpb25Db250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvYXR0ZW5kYW5jZS9taXNzaW9ucy9jb250cm9sbGVycy9taXNzaW9uVHJhbnNIb21lQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGVyc29ubmVsL2F0dGVuZGFuY2UvcGVybWlzc2lvbnMvY29udHJvbGxlcnMvcGVybWlzc2lvblRyYW5zYWN0aW9uQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvcGVyc29ubmVsL2F0dGVuZGFuY2UvcGVybWlzc2lvbnMvY29udHJvbGxlcnMvcGVybWlzc2lvblRyYW5zSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wcm9maWxlL3ZpZXdzL2VtcEFzc2lnbm1lbnQvZW1wQXNzaWdubWVudENvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wcm9maWxlL3ZpZXdzL2VtcEFzc2lnbm1lbnQvZW1wQXNzaWdubWVudFN1YkZvcm0udHMiLCJhcHBfaGVicy9oY21zL3BlcnNvbm5lbC9wcm9maWxlL3ZpZXdzL2VtcEFzc2lnbm1lbnQvZW1wQXNzaWdubWVudFRhYnNDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvdmFjYXRpb25zL0R1ZUFkanVzdG1lbnQvY29udHJvbGxlcnMvVXBsb2FkRW1wVmFjYXRpb25EdWVBZGp1c3RtZW50LnRzIiwiYXBwX2hlYnMvaGNtcy9wZXJzb25uZWwvdmFjYXRpb25zL1VwbGFvZFZhY2F0aW9ucy9jb250cm9sbGVycy9VcGxvYWRFbXBWYWNhdGlvbnMudHMiLCJhcHBfaGVicy9oY21zL3NldHVwL29yZ2NoYXJ0L2pvYnMvY29udHJvbGxlcnMvam9iSG9tZS50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvb3JnY2hhcnQvb3JnVW5pdHMvY29udHJvbGxlcnMvb3JnVW5pdHNIb21lLnRzIiwiYXBwX2hlYnMvaGNtcy9zZXR1cC9vcmdjaGFydC9wb3NpdGlvbnMvY29udHJvbGxlcnMvcG9zaXRpb25zSG9tZS50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvUGF5cm9sbC9QYXlJdGVtcy9jb250cm9sbGVycy9wYXlJdGVtQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvcGVyc29ubmVsL2xvYW5zL2NvbnRyb2xsZXJzL2xvYW5SdWxlQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvcGVyc29ubmVsL3BlbmFsdGllcy9jb250cm9sbGVycy9wZW5hbHR5U2V0dXBDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9zZXR1cC9wZXJzb25uZWwvcGVuYWx0aWVzL2NvbnRyb2xsZXJzL3BlbmFsdHlTZXR1cERldGFpbHNDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9zZXR1cC9wZXJzb25uZWwvdmFjYXRpb25zL2NvbnRyb2xsZXJzL3ZhY2F0aW9uUnVsZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3NldHVwL1BheXJvbGwvSW5zdXJhbmNlL0luc3VyYW5jZVJ1bGVzL2NvbnRyb2xsZXJzL2luc3VyYW5jZVJ1bGVzSG9tZUNvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3NldHVwL1BheXJvbGwvSW5zdXJhbmNlL0luc3VyYW5jZVJ1bGVzL2NvbnRyb2xsZXJzL0luc3VyYW5jZVJ1bGVzSm9pbkl0ZW1zQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvUGF5cm9sbC9UYXgvVGF4UnVsZXMvY29udHJvbGxlcnMvVGF4UnVsZXNIb21lQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvUGF5cm9sbC9UYXgvVGF4UnVsZXMvY29udHJvbGxlcnMvVGF4UnVsZXNSYXRlc0NvbnRyb2xsZXIudHMiLCJhcHBfaGVicy9oY21zL3NldHVwL3BlcnNvbm5lbC9hdHRlbmRhbmNlL2F0dGVuZGFuY2VHcm91cHMvY29udHJvbGxlcnMvYXR0ZW5kYW5jZUdyb3Vwc0RldGFpbHNDb250cm9sbGVyLnRzIiwiYXBwX2hlYnMvaGNtcy9zZXR1cC9wZXJzb25uZWwvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlR3JvdXBzL2NvbnRyb2xsZXJzL2F0dGVuZGFuY2VHcm91cHNIb21lQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvcGVyc29ubmVsL2F0dGVuZGFuY2UvYXR0ZW5kYW5jZVRlbXBsYXRlcy9jb250cm9sbGVycy9hdHRlbmRhbmNlVGVtcGxhdGVEZXRhaWxzQ29udHJvbGxlci50cyIsImFwcF9oZWJzL2hjbXMvc2V0dXAvcGVyc29ubmVsL2F0dGVuZGFuY2UvYXR0ZW5kYW5jZVRlbXBsYXRlcy9jb250cm9sbGVycy9hdHRlbmRhbmNlVGVtcGxhdGVzSG9tZUNvbnRyb2xsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSx3RUFBd0U7QUFDeEUsSUFBTyxJQUFJLENBT1Y7QUFQRCxXQUFPLElBQUk7SUFBQyxJQUFBLFdBQVcsQ0FPdEI7SUFQVyxXQUFBLFdBQVc7UUFFbkIsZUFBZTtRQUNKLDJCQUFlLEdBQ3RCLE9BQU8sQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFHL0MsQ0FBQyxFQVBXLFdBQVcsR0FBWCxnQkFBVyxLQUFYLGdCQUFXLFFBT3RCO0FBQUQsQ0FBQyxFQVBNLElBQUksS0FBSixJQUFJLFFBT1Y7QUNQRCxJQUFPLElBQUksQ0FzQlY7QUF0QkQsV0FBTyxJQUFJO0lBQUMsSUFBQSxXQUFXLENBc0J0QjtJQXRCVyxXQUFBLFdBQVc7UUFFbkI7O1FBRVcsd0JBQU0sR0FBRyxDQUFDLElBQVMsRUFBTyxFQUFFO1lBQy9CLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztRQUMxRCxDQUFDLENBQUE7UUFFTSwrQkFBYSxHQUFHLENBQUMsSUFBUyxFQUFFLE9BQVksRUFBTyxFQUFFO1lBQ3BELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNoRCxNQUFNLENBQUMsT0FBTyxDQUFDO1lBQ25CLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQyxDQUFBO1FBRU0scUJBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQVUsRUFBRTtZQUMvQixJQUFJLENBQUMsR0FB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LEVBQUUsQ0FBQzt3QkFDNUIsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQyxDQUFDLENBQUM7b0JBRUgsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFO3dCQUMzQixJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFOzRCQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzt3QkFDekIsQ0FBQyxDQUFDLENBQUM7b0JBQ1AsQ0FBQyxDQUFDLENBQUM7Z0JBR1AsQ0FBQyxDQUFDLENBQUM7WUFDUCxDQUFDO1NBbUJKO1FBekZZLDZCQUF1QiwwQkF5Rm5DLENBQUE7UUFHRCxNQUFBLFNBQVMsQ0FBQyxVQUFVLENBQUMsbUNBQW1DLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxvQkFBb0IsRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLFVBQVUsZ0JBQWdCLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxFQUFFLFlBQVk7Z0JBQy9MLE1BQU0sQ0FBQyxJQUFJLHVCQUF1QixDQUFDLGdCQUFnQixFQUFFLGtCQUFrQixFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztZQUNuRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRVIsQ0FBQyxFQWxHVyxLQUFLLEdBQUwsVUFBSyxLQUFMLFVBQUssUUFrR2hCO0FBQUQsQ0FBQyxFQWxHTSxJQUFJLEtBQUosSUFBSSxRQWtHViIsImZpbGUiOiJhbGxoY21zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3NjcmlwdHMvdHlwaW5ncy9hbmd1bGFyanMvYW5ndWxhci5kLnRzXCIgLz5cclxubW9kdWxlIEhDTVMuVmFsaWRhdGlvbnMge1xyXG5cclxuICAgIC8vXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBleHBvcnQgdmFyIGhjbXNWYWxpZGF0aW9uczogbmcuSU1vZHVsZSA9XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoXCJIQ01TLlZhbGlkYXRpb25zXCIsIFtdKTtcclxuXHJcblxyXG59IiwiXHJcbm1vZHVsZSBIQ01TLlZhbGlkYXRpb25zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQ29tbW9uVmFsaWRhdGlvbnMge1xyXG5cclxuICAgICAgICBzdGF0aWMgaXNOdWxsID0gKGRhdGE6IGFueSk6IGFueSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoYW5ndWxhci5pc1VuZGVmaW5lZChkYXRhKSB8fCAoZGF0YSA9PT0gbnVsbCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGlzTnVsbFJlcGxhY2UgPSAoZGF0YTogYW55LCByZXBsYWNlOiBhbnkpOiBhbnkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgcGFkID0gKG51bSwgc2l6ZSk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzID0gbnVtICsgXCJcIjtcclxuICAgICAgICAgICAgd2hpbGUgKHMubGVuZ3RoIDwgc2l6ZSkgcyA9IFwiMFwiICsgcztcclxuICAgICAgICAgICAgcmV0dXJuIHM7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcbn1cclxuIiwibW9kdWxlIEhDTVMuVmFsaWRhdGlvbnMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBEYXRlVmFsaWRhdGlvbnMge1xyXG5cclxuICAgICAgICBzdGF0aWMgaXNEYXRlID0gKGRhdGUpOiBib29sZWFuID0+IHtcclxuICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGRhdGUpID09PSBcIltvYmplY3QgRGF0ZV1cIikge1xyXG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgYSBkYXRlXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZGF0ZSkpIHsgIC8vIGQudmFsdWVPZigpIGNvdWxkIGFsc28gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRhdGUgaXMgbm90IHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0ZSBpcyB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbm90IGEgZGF0ZVxyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoaXNWYWxpZCAmJiBkYXRlICE9PSBudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyB0b0RhdGUgPSAoZGF0ZSk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdGljIHRvVXRjRGF0ZSA9IChkYXRlKTogRGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZGF0ZSkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKSk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGF0aWMgdG9VVENUaW1lID0gKHRpbWUpOiBhbnkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IHRpbWUodGltZS5VdEModGltZS5Ib3VycygpLCB0aW1lLk1pbnV0ZXMoKSkpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIHRvRGF0ZVRpbWUgPSAoaW5UaW1lOiBzdHJpbmcpIDogRGF0ZSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoaW5UaW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFsbHRpbWU6IHN0cmluZ1tdID0gaW5UaW1lLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxsdGltZS5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGg6IHBhcnNlSW50KGFsbHRpbWVbMF0pLCAgIC8vIHVzZSArIHRvIHBhcmVzZSB0byBudW1iZXIgTGlrZSArIGFsbHRpbWVbMF0gIG9yIHVzZSBwYXJzZUludFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiBwYXJzZUludChhbGx0aW1lWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogcGFyc2VJbnQoYWxsdGltZVsyXSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoMjAwMCwgMSwgMSwgdGltZS5oLCB0aW1lLm0sIHRpbWUucywgMCkgO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsIDtcclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyB0aW1lQWRkSG91cnMgPSAoZnJvbVRpbWU6IERhdGUsIGhvdXJzOiBudW1iZXIpOiAgc3RyaW5nID0+IHtcclxuICAgICAgICAgIC8vICB2YXIgZnJvbURhdGVUaW1lID0gRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUoZnJvbVRpbWUpO1xyXG4gICAgICAgICAgICB2YXIgbmV3RGF0ZVRpbWUgPSBuZXcgRGF0ZShmcm9tVGltZSk7XHJcbiAgICAgICAgICAgIG5ld0RhdGVUaW1lLnNldEhvdXJzKGZyb21UaW1lLmdldEhvdXJzKCkrIGhvdXJzKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ld0RhdGVUaW1lLmdldEhvdXJzKCkgKyBcIjpcIiArIG5ld0RhdGVUaW1lLmdldE1pbnV0ZXMoKSArIFwiOlwiICsgbmV3RGF0ZVRpbWUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBzdGF0aWMgZGF0ZVRvSnNvblN0cmluZyA9IChkYXRlOiBhbnkpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgICAgICBpZiAoRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShkYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9KU09OKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGUudG9zdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBkYXRlRGlmZkRheXMgPSAoZnJvbURhdGUsIHRvRGF0ZSk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IE1hdGguYWJzKGZyb21EYXRlLmdldFRpbWUoKSAtIHRvRGF0ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZkRheXMgPSBNYXRoLmNlaWwodGltZURpZmYgLyAoMTAwMCAqIDM2MDAgKiAyNCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlmZkRheXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgZGF0ZURpZmZIb3VycyA9IChmcm9tRGF0ZSwgdG9EYXRlKTogbnVtYmVyID0+IHtcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gTWF0aC5hYnMoZnJvbURhdGUuZ2V0VGltZSgpIC0gdG9EYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmTWludXRlcyA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwICogNjAgKjYwKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaWZmTWludXRlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdGljIGRhdGVEaWZmTWludXRlcyA9IChmcm9tRGF0ZSwgdG9EYXRlKTogbnVtYmVyID0+IHtcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gTWF0aC5hYnMoZnJvbURhdGUuZ2V0VGltZSgpIC0gdG9EYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmTWludXRlcyA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwICogNjApKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpZmZNaW51dGVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIGRhdGVEaWZmU2Vjb25kcyA9IChmcm9tRGF0ZSwgdG9EYXRlKTogbnVtYmVyID0+IHtcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gTWF0aC5hYnMoZnJvbURhdGUuZ2V0VGltZSgpIC0gdG9EYXRlLmdldFRpbWUoKSk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmU2Vjb25kcyA9IE1hdGguY2VpbCh0aW1lRGlmZiAvICgxMDAwKSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaWZmU2Vjb25kcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBkYXRlQWRkRGF5cyA9IChmcm9tRGF0ZSwgZGF5cyk6IERhdGUgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IERhdGUoZnJvbURhdGUpO1xyXG4gICAgICAgICAgICByZXN1bHQuc2V0RGF0ZShyZXN1bHQuZ2V0RGF0ZSgpICsgZGF5cyk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn0iLCIgXHJcblxyXG4oPGFueT53aW5kb3cpLmFnR3JpZC5pbml0aWFsaXNlQWdHcmlkV2l0aEFuZ3VsYXIxKGFuZ3VsYXIpO1xyXG5cclxubW9kdWxlIGFwcC5oY21zIHtcclxuXHJcbiAgICAvL1widXNlIHN0cmljdFwiO1xyXG4gICAgZXhwb3J0IHZhciBhcHBIQ01TOiBuZy5JTW9kdWxlID1cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcImFwcC5oY21zXCIsIFsnbmdGaWxlVXBsb2FkJywgJ3VpLnJvdXRlcicsICd1aS5ib290c3RyYXAnLCAnYWUtZGF0ZXRpbWVwaWNrZXInLCAnYW5ndWxhck1vbWVudCcsICdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJywgJ2FuZ3VsYXItbG9hZGluZy1iYXInLCAndWkucm91dGVyLnRhYnMnLCAnYWdHcmlkJywgJ0hDTVMuRGF0YUFjY2VzcycsICdIQ01TLkNvbnRyb2xzJywgJ0hDTVMuRm9ybXMnLCAnSENNUy5NZW51cycsICdIQ01TLlZhbGlkYXRpb25zJ10pO1xyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gJHRyYW5zbGF0ZVVybExvYWRlcigkcSwgJGh0dHApIHtcclxuXHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy51cmwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2UgdXJsTG9hZGVyIHNpbmNlIG5vIHVybCBpcyBnaXZlbiEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3RQYXJhbXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHJlcXVlc3RQYXJhbXNbb3B0aW9ucy5xdWVyeVBhcmFtZXRlciB8fCAnbGFuZ0lkJ10gPSBvcHRpb25zLmtleTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cChhbmd1bGFyLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1zOiByZXF1ZXN0UGFyYW1zLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJ1xyXG4gICAgICAgICAgICB9LCBvcHRpb25zLiRodHRwKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChvcHRpb25zLmtleSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy92YXIgcXVlcnlTdHJpbmcgPSBcIj9sYW5nSWQ9XCIgKyBvcHRpb25zLmtleTtcclxuICAgICAgICAgICAgLy9yZXR1cm4gYXBwU2VydmljZS5nZXQoXCJEaWN0aW9uYXJ5XCIsICdHZXRBbGwnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIC8vICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAvL30sIG51bGwpO1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAkdHJhbnNsYXRlVXJsTG9hZGVyWydkaXNwbGF5TmFtZSddID0gJyR0cmFuc2xhdGVVcmxMb2FkZXInO1xyXG5cclxuICAgIGFwcEhDTVMuZmFjdG9yeSgnJHRyYW5zbGF0ZVVybExvYWRlcicsICR0cmFuc2xhdGVVcmxMb2FkZXIpO1xyXG5cclxuXHJcbiAgICAoPGFueT53aW5kb3cpLiRzdGF0ZVByb3ZpZGVyUmVmID0gbnVsbDtcclxuXHJcbiAgICBhcHBIQ01TLmNvbmZpZyhmdW5jdGlvbiAoJGxvY2F0aW9uUHJvdmlkZXIsICRzdGF0ZVByb3ZpZGVyLCAkdHJhbnNsYXRlUHJvdmlkZXIsICRodHRwUHJvdmlkZXIpIHtcclxuXHJcblxyXG4gICAgICAgICg8YW55PndpbmRvdykuJHN0YXRlUHJvdmlkZXJSZWYgPSAkc3RhdGVQcm92aWRlcjtcclxuXHJcblxyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKS5odG1sNU1vZGUoe1xyXG4gICAgICAgIC8vICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgLy8gICAgcmVxdWlyZUJhc2U6IGZhbHNlXHJcbiAgICAgICAgLy99KTtcclxuXHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9sb2dpbicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90ZW1wbGF0ZVVybDogJ2FwcF9oY21zL2xvZ2luL3ZpZXdzL2xvZ2luLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcF9oZWJzL2hjbXMvbG9naW4vdmlld3MvbG9naW4uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTG9naW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWxJZDogJ2V4dHItcGFnZSdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3JjaXB0czogZnVuY3Rpb24gKGxhenlTY3JpcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhenlTY3JpcHQucmVnaXN0ZXIoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2J1aWxkL3ZlbmRvci51aS5qcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2VuZXJhbFJlcG9ydCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hcHAvZ2VuZXJhbFJlcG9ydC86cmVwb3J0SWQvOmFwaUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRAYXBwXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHBfaGVicy9oY21zL3JlcG9ydHMvdmlld3MvZ2VuZXJhbFJlcG9ydFZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnZW5lcmFsUmVwb3J0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dlbmVyYWxSZXBvcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAucmVwb3J0Vmlld2VyJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwcC9yZXBvcnRWaWV3ZXIvOmZvcm1JZC86YXBpQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY29udGVudEBhcHBcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcF9oY21zL3JlcG9ydHMvdmlld3MvcmVwb3J0Vmlld2VyLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVwb3J0Vmlld2VyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlcG9ydFZpZXcnLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGFicycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hcHAvdGFicycsXHJcbiAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50QGFwcFwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwX2hlYnMvbWVudXMvbWVudVRhYnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW51VGFic0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdtZW51VGFicycsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vLnN0YXRlKCdhcHAub3JnQ2hhcnQnLCB7XHJcbiAgICAgICAgICAgIC8vICAgICAgIHVybDogJy9hcHAvb3JnQ2hhcnQvOmZvcm1JZC86YXBpQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIC8vICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICBcImNvbnRlbnRAYXBwXCI6IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcF9oY21zL3NldHVwL3BlcnNvbm5lbC9vcmdVbml0Q2hhcnQvdmlld3Mvb3JnVW5pdENoYXJ0SW5kZXguaHRtbCcsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ29yZ1VuaXRDaGFydENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VuaXRPcmdDaGFydCcsXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vICAgfSlcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIDtcclxuXHJcbiAgICAgICAgdmFyIHVybCA9ICg8YW55PndpbmRvdykuYXBwQ29uZmlnLndlYkFwaVVybCArICcvRGljdGlvbmFyeS9HZXRBbGwnO1xyXG4gICAgICAgICR0cmFuc2xhdGVQcm92aWRlci51c2VVcmxMb2FkZXIodXJsKTtcclxuICAgICAgICAkdHJhbnNsYXRlUHJvdmlkZXIucHJlZmVycmVkTGFuZ3VhZ2UoJzAnKTtcclxuXHJcblxyXG5cclxuICAgICAgICB2YXIgaW50ZXJjZXB0b3IgPSBmdW5jdGlvbiAobG9naW5JbmZvLCAkcSwgJGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGN1cnJlbnRVc2VyID0gbG9naW5JbmZvLmdldEN1cnJlbnRVc2VyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFVzZXIgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgY3VycmVudFVzZXIuYWNjZXNzX3Rva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uIChyZWplY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc3RhdGUuZ28oXCJsb2dpblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3VuYXV0aG9yaXplZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyRzdGF0ZS5nbyhcInVuYXV0aG9yaXplZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwYXJhbXMgPSBbJyRxJywgJyRsb2NhdGlvbiddO1xyXG4gICAgICAgIGludGVyY2VwdG9yLiRpbmplY3QgPSBwYXJhbXM7XHJcbiAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChpbnRlcmNlcHRvcik7XHJcblxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIGFwcEhDTVMucnVuKFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kc3RhdGUgPSAkc3RhdGU7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIGFwcEhDTVMucnVuKGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc3RhdGUsICRodHRwKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2dCwgdG8sIHBhcmFtcykge1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgaWYgKHRvLm5hbWUgIT09IFwibG9naW5cIikge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVkaXJlY3QgdG8gbG9naW4gcGFnZSBpZiBub3QgbG9nZ2VkIGluIGFuZCB0cnlpbmcgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYWdlXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdHJpY3RlZFBhZ2UgPSBmYWxzZTsgLy8gJC5pbkFycmF5KCRsb2NhdGlvbi5wYXRoKCksIFsnL2xvZ2luJywgJy9yZWdpc3RlciddKSA9PT0gLTE7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9nZ2VkSW4gPSBjdXJyZW50VXNlcjtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN0cmljdGVkUGFnZSB8fCAhbG9nZ2VkSW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdmFyIGN1cnJlbnRVc2VyID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgLy9pZiAodG8ubmFtZSAhPT0gXCJsb2dpblwiKSB7XHJcbiAgICAgICAgICAgIC8vICAgIC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgaWYgbm90IGxvZ2dlZCBpbiBhbmQgdHJ5aW5nIHRvIGFjY2VzcyBhIHJlc3RyaWN0ZWQgcGFnZVxyXG4gICAgICAgICAgICAvLyAgICB2YXIgcmVzdHJpY3RlZFBhZ2UgPSBmYWxzZTsgLy8gJC5pbkFycmF5KCRsb2NhdGlvbi5wYXRoKCksIFsnL2xvZ2luJywgJy9yZWdpc3RlciddKSA9PT0gLTE7XHJcbiAgICAgICAgICAgIC8vICAgIHZhciBsb2dnZWRJbiA9IGN1cnJlbnRVc2VyO1xyXG4gICAgICAgICAgICAvLyAgICBpZiAocmVzdHJpY3RlZFBhZ2UgfHwgIWxvZ2dlZEluKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICAgICAgLy8gICAgfVxyXG4gICAgICAgICAgICAvL31cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFwcEhDTVMucnVuKFsnJHdpbmRvdycsICckcScsIGZ1bmN0aW9uICgkd2luZG93LCAkcSkge1xyXG4gICAgICAgICR3aW5kb3dbJ1Byb21pc2UnXSA9ICRxO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vc2NyaXB0cy90eXBpbmdzL2FuZ3VsYXJqcy9hbmd1bGFyLmQudHNcIiAvPlxyXG5tb2R1bGUgSENNUy5EYXRhQWNjZXNzIHtcclxuXHJcbiAgICAvL1widXNlIHN0cmljdFwiO1xyXG4gICAgZXhwb3J0IHZhciBoY21zRGF0YUFjY2VzczogbmcuSU1vZHVsZSA9XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoXCJIQ01TLkRhdGFBY2Nlc3NcIiwgW10pO1xyXG4gICAgIFxyXG5cclxufSIsIm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNBcHBMYW5ndWFnZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgcmVwbGFjZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgcHVibGljIHRlbXBsYXRlOiBzdHJpbmcgPSBgPHVsIGNsYXNzPVwiaGVhZGVyLWRyb3Bkb3duLWxpc3QgaGlkZGVuLXhzIG5nLWNsb2FrXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImRyb3Bkb3duXCIgZHJvcGRvd24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImRyb3Bkb3duLXRvZ2dsZVwiIGRhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIiBocmVmPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwic3R5bGVzL2ltZy9ibGFuay5naWZcIiBjbGFzcz1cImZsYWcgZmxhZy17e2N1cnJlbnRMYW5ndWFnZS5MYW5nU2hvcnROYW1lfX1cIiBhbHQ9XCJ7e2N1cnJlbnRMYW5ndWFnZS5MYW5nU2hvcnROYW1lfX1cIj4gPHNwYW4+IHt7Y3VycmVudExhbmd1YWdlLkxhbmdOYW1lfX0gPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtZG93blwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUgcHVsbC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBuZy1jbGFzcz1cIjo6e2FjdGl2ZTogbGFuZ3VhZ2U9PWN1cnJlbnRMYW5ndWFnZX1cIiBuZy1yZXBlYXQ9XCJsYW5ndWFnZSBpbiBsYW5ndWFnZXNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgbmctY2xpY2s9XCJzZWxlY3RMYW5ndWFnZShsYW5ndWFnZSlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwic3R5bGVzL2ltZy9ibGFuay5naWZcIiBjbGFzcz1cImZsYWcgZmxhZy17ezo6bGFuZ3VhZ2UuTGFuZ1Nob3J0TmFtZX19XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwie3s6Omxhbmd1YWdlLkxhbmdTaG9ydE5hbWV9fVwiPiB7ezo6bGFuZ3VhZ2UuTGFuZ05hbWV9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPmAgO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLHByaXZhdGUgaGNtc0xhbmd1YWdlQ2hhbmdlOiBEYXRhQWNjZXNzLkhjbXNMYW5ndWFnZUNoYW5nZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksICRhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5mbzogRGF0YUFjY2Vzcy5JQ3VycmVudExvZ2luSW5mbyA9IERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLmxhbmd1YWdlcyA9IFtdO1xyXG4gICAgICAgICAgICBzY29wZS5jdXJyZW50TGFuZ3VhZ2UgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaGNtc0xhbmd1YWdlQ2hhbmdlLmdldExhbmd1YWdlcygoZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLmxhbmd1YWdlcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuTGFuZ0lkID09IGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jdXJyZW50TGFuZ3VhZ2UgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUuc2VsZWN0TGFuZ3VhZ2UgPSAobGFuZ3VhZ2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRMYW5ndWFnZSA9IGxhbmd1YWdlO1xyXG4gICAgICAgICAgICAgICAgRGF0YUFjY2Vzcy5TdGFydFVwLkNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlLCB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgaGNtc0xhbmd1YWdlQ2hhbmdlOiBEYXRhQWNjZXNzLkhjbXNMYW5ndWFnZUNoYW5nZSkgPT4gbmV3IEhjbXNBcHBMYW5ndWFnZSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGhjbXNMYW5ndWFnZUNoYW5nZSk7XHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlJ3MgaW5qZWN0aW9uIGxpc3RcclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsXCJoY21zTGFuZ3VhZ2VDaGFuZ2VcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRGF0YUFjY2Vzcy5kaXJlY3RpdmUoJ2hjbXNBcHBMYW5ndWFnZScsIEhjbXNBcHBMYW5ndWFnZS5GYWN0b3J5KCkpO1xyXG59XHJcblxyXG4iLCIgXHJcbm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNMYW5ndWFnZUNoYW5nZSB7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gWydkYXRhTWFuYWdlclNlcnZpY2UnXTtcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldExhbmd1YWdlID0gKGtleSwgY2FsbEJhY2spID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnTG9va3VwcycsICdHZXREZXRhaWxzJywgXCI/dGFibGU9U3lzdGVtTGFuZ3VhZ2VzJmlkPVwiICsga2V5LCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbEJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhbXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldExhbmd1YWdlcyA9IChjYWxsQmFjaykgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdMb29rdXBzJywgJ0dldEFsbCcsIFwiP3RhYmxlPVN5c3RlbUxhbmd1YWdlc1wiLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vdm0uc3ViRm9ybXMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxCYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKFtdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vaGNtc0RhdGFBY2Nlc3Muc2VydmljZSgndHJhbnNsYXRlU2VydmljZScsIFRyYW5zbGF0ZVNlcnZpY2UpO1xyXG5cclxuICAgIGhjbXNEYXRhQWNjZXNzLnNlcnZpY2UoJ2hjbXNMYW5ndWFnZUNoYW5nZScsIFsnZGF0YU1hbmFnZXJTZXJ2aWNlJywgZnVuY3Rpb24gKGRhdGFNYW5hZ2VyU2VydmljZTogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEhjbXNMYW5ndWFnZUNoYW5nZShkYXRhTWFuYWdlclNlcnZpY2UpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG4iLCIvLy8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi9zY3JpcHRzL3R5cGluZ3MvYW5ndWxhcmpzL2FuZ3VsYXIuZC50c1wiIC8+XHJcbi8vLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL21vZHVsZS50c1wiIC8+XHJcbi8vLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3NlcnZpY2VzL2RhdGFtYW5hZ2VyLnRzXCIgLz5cclxuLy8vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vc2VydmljZXMvdHJhbnNsYXRlLnRzXCIgLz5cclxuXHJcbi8vbW9kdWxlIEhDTVMuRGF0YUFjY2VzcyB7XHJcbi8vICAgIGV4cG9ydCBjbGFzcyBIY21zQXBwTGFuZ3VhZ2UgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbi8vICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnRSc7XHJcbi8vICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHt9O1xyXG4vLyAgICAgICAgcHVibGljIHJlcGxhY2U6IGJvb2xlYW4gPSB0cnVlO1xyXG4vLyAgICAgICAgcHVibGljIHRlbXBsYXRlOiBzdHJpbmcgPSBgPHVsIGNsYXNzPVwiaGVhZGVyLWRyb3Bkb3duLWxpc3QgaGlkZGVuLXhzIG5nLWNsb2FrXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiZHJvcGRvd25cIiBkcm9wZG93bj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJkcm9wZG93bi10b2dnbGVcIiBkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCIgaHJlZj5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwic3R5bGVzL2ltZy9ibGFuay5naWZcIiBjbGFzcz1cImZsYWcgZmxhZy17ezo6Y3VycmVudExhbmd1YWdlLkxhbmdTaG9ydE5hbWV9fVwiIGFsdD1cInt7OjpjdXJyZW50TGFuZ3VhZ2UuTGFuZ1Nob3J0TmFtZX19XCI+IDxzcGFuPiB7ezo6Y3VycmVudExhbmd1YWdlLkxhbmdOYW1lfX0gPC9zcGFuPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1kb3duXCI+PC9pPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cImRyb3Bkb3duLW1lbnUgcHVsbC1yaWdodFwiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIG5nLWNsYXNzPVwiOjp7YWN0aXZlOiBsYW5ndWFnZT09Y3VycmVudExhbmd1YWdlfVwiIG5nLXJlcGVhdD1cImxhbmd1YWdlIGluIGxhbmd1YWdlc1wiPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIG5nLWNsaWNrPVwic2VsZWN0TGFuZ3VhZ2UobGFuZ3VhZ2UpXCI+XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwic3R5bGVzL2ltZy9ibGFuay5naWZcIiBjbGFzcz1cImZsYWcgZmxhZy17ezo6bGFuZ3VhZ2UuTGFuZ1Nob3J0TmFtZX19XCJcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJ7ezo6bGFuZ3VhZ2UuTGFuZ1Nob3J0TmFtZX19XCI+IHt7OjpsYW5ndWFnZS5MYW5nTmFtZX19XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPmAgO1xyXG5cclxuLy8gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpIHtcclxuLy8gICAgICAgIH1cclxuXHJcbi8vICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHJcblxyXG5cclxuLy8gICAgICAgICAgICB2YXIgY3VycmVudEluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyAgICAgICAgICAgIHNjb3BlLmxhbmd1YWdlcyA9IFtdO1xyXG4vLyAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRMYW5ndWFnZSA9IHt9O1xyXG5cclxuLy8gICAgICAgICAgICBoY21zTGFuZ3VhZ2UuZ2V0TGFuZ3VhZ2VzKChkYXRhKSA9PiB7XHJcblxyXG4vLyAgICAgICAgICAgICAgICBzY29wZS5sYW5ndWFnZXMgPSBkYXRhO1xyXG4vLyAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5MYW5nSWQgPT0gY3VycmVudEluZm8uTGFuZ3VhZ2UuTGFuZ0lkKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudExhbmd1YWdlID0gdmFsdWU7XHJcbi8vICAgICAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gICAgICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgICAgc2NvcGUuc2VsZWN0TGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuXHJcbi8vICAgICAgICAgICAgICAgIGFwcFNlcnZpY2UuY3VycmVudExhbmdJbmZvLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKTtcclxuICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudExhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcblxyXG4vLyAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuLy8gICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4vLyAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuLy8gICAgICAgICAgICAgICAgKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSkgPT4gbmV3IEZvcm1OYXZUYWJzKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcik7XHJcbi8vICAgICAgICAgICAgLy9kaXJlY3RpdmUncyBpbmplY3Rpb24gbGlzdFxyXG4vLyAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1widHJhbnNsYXRlU2VydmljZVwiLCBcImRhdGFNYW5hZ2VyU2VydmljZVwiXTtcclxuLy8gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4vLyAgICAgICAgfVxyXG5cclxuLy8gICAgfVxyXG5cclxuLy8gICAgaGNtc0RhdGFBY2Nlc3MuZGlyZWN0aXZlKCdoY21zVGV4dCcsIEhjbXNBcHBMYW5ndWFnZS5GYWN0b3J5KCkpO1xyXG4vL31cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGNsYXNzIERhdGFNYW5hZ2VyU2VydmljZSB7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckaHR0cCddO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgJGh0dHA/OiBuZy5JSHR0cFNlcnZpY2UpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL2dldFVybFxyXG4gICAgICAgIHByaXZhdGUgZ2V0VXJsKGNvbnRyb2xsZXJOYW1lOiBzdHJpbmcsIGFjdGlvbk5hbWU6IHN0cmluZywgcXVlcnlTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IFN0YXJ0VXAuYXBpVXJsLmNvbmNhdCgnLycpLmNvbmNhdChjb250cm9sbGVyTmFtZSkuY29uY2F0KCcvJylcclxuICAgICAgICAgICAgICAgIC5jb25jYXQoYWN0aW9uTmFtZSkuY29uY2F0KHF1ZXJ5U3RyaW5nID09IG51bGwgPyAnJyA6IHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vR2V0QnlVcmxcclxuICAgICAgICBwdWJsaWMgR2V0QnlVcmwgPSAocm91dGluZ1VybDogc3RyaW5nLCBzdWNjZXNzPzogKGRhdGE/OiBhbnkpID0+IGFueSwgZmFpbD86IChkYXRhPzogYW55KSA9PiBhbnksIGFsd2F5cz86IChkYXRhPzogYW55KSA9PiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGZ1bGxVcmw6IHN0cmluZyA9IFN0YXJ0VXAuYXBpVXJsLmNvbmNhdCgnLycpLmNvbmNhdChyb3V0aW5nVXJsKTtcclxuICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQoZnVsbFVybCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmFpbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFpbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWx3YXlzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbHdheXMocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2dldFxyXG4gICAgICAgIHB1YmxpYyBHZXQgPSAoY29udHJvbGxlck5hbWU6IHN0cmluZywgYWN0aW9uTmFtZTogc3RyaW5nLCBxdWVyeVN0cmluZzogc3RyaW5nLCBzdWNjZXNzPzogKGRhdGE/OiBhbnkpID0+IGFueSwgZmFpbD86IChkYXRhPzogYW55KSA9PiBhbnksIGFsd2F5cz86IChkYXRhPzogYW55KSA9PiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHVybDogc3RyaW5nID0gdGhpcy5nZXRVcmwoY29udHJvbGxlck5hbWUsIGFjdGlvbk5hbWUsIHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICAgICAgdGhpcy4kaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmYWlsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBmYWlsKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhbHdheXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5cyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL3Bvc3RcclxuICAgICAgICBwdWJsaWMgUG9zdCA9IChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBhY3Rpb25OYW1lOiBzdHJpbmcsIHF1ZXJ5U3RyaW5nOiBzdHJpbmcsIGRhdGE6IGFueSwgc3VjY2Vzcz86IChkYXRhPzogYW55KSA9PiBhbnksIGZhaWw/OiAoZGF0YT86IGFueSkgPT4gYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IHRoaXMuZ2V0VXJsKGNvbnRyb2xsZXJOYW1lLCBhY3Rpb25OYW1lLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHRoaXMuJGh0dHAucG9zdCh1cmwsIGRhdGEpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIChhbHdheXMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGFsd2F5cyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9wdXRcclxuICAgICAgICBwdWJsaWMgUHV0ID0gKGNvbnRyb2xsZXJOYW1lOiBzdHJpbmcsIGFjdGlvbk5hbWU6IHN0cmluZywgcXVlcnlTdHJpbmc6IHN0cmluZywgZGF0YTogYW55LCBzdWNjZXNzPzogKGRhdGE/OiBhbnkpID0+IGFueSwgZmFpbD86IChkYXRhPzogYW55KSA9PiBhbnksIGFsd2F5cz86IChkYXRhPzogYW55KSA9PiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHVybDogc3RyaW5nID0gdGhpcy5nZXRVcmwoY29udHJvbGxlck5hbWUsIGFjdGlvbk5hbWUsIHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICAgICAgdGhpcy4kaHR0cC5wdXQodXJsLCBkYXRhKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsd2F5cyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5cyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vZGVsZXRlXHJcbiAgICAgICAgcHVibGljIERlbGV0ZSA9IChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBhY3Rpb25OYW1lOiBzdHJpbmcsIHF1ZXJ5U3RyaW5nOiBzdHJpbmcsIHN1Y2Nlc3M/OiAoZGF0YT86IGFueSkgPT4gYW55LCBmYWlsPzogKGRhdGE/OiBhbnkpID0+IGFueSwgYWx3YXlzPzogKGRhdGE/OiBhbnkpID0+IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdXJsOiBzdHJpbmcgPSB0aGlzLmdldFVybChjb250cm9sbGVyTmFtZSwgYWN0aW9uTmFtZSwgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLiRodHRwLmRlbGV0ZSh1cmwpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWlsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbChyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWx3YXlzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9nZXQgUHJvbWlzZVxyXG4gICAgICAgIHB1YmxpYyBHZXRQcm9taXNlID0gKGNvbnRyb2xsZXJOYW1lOiBzdHJpbmcsIGFjdGlvbk5hbWU6IHN0cmluZywgcXVlcnlTdHJpbmc6IHN0cmluZyk6IG5nLklIdHRwUHJvbWlzZTxhbnk+ID0+IHtcclxuICAgICAgICAgICAgbGV0IHVybDogc3RyaW5nID0gdGhpcy5nZXRVcmwoY29udHJvbGxlck5hbWUsIGFjdGlvbk5hbWUsIHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGh0dHAuZ2V0KHVybCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9wb3N0IFByb21pc2VcclxuICAgICAgICBwdWJsaWMgUG9zdFByb21pc2UgPSAoY29udHJvbGxlck5hbWU6IHN0cmluZywgYWN0aW9uTmFtZTogc3RyaW5nLCBxdWVyeVN0cmluZzogc3RyaW5nLCBkYXRhOiBhbnkpOiBuZy5JSHR0cFByb21pc2U8YW55PiAgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdXJsOiBzdHJpbmcgPSB0aGlzLmdldFVybChjb250cm9sbGVyTmFtZSwgYWN0aW9uTmFtZSwgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kaHR0cC5wb3N0KHVybCwgZGF0YSk7ICAgICAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL3B1dCBQcm9taXNlXHJcbiAgICAgICAgcHVibGljIFB1dFByb21pc2UgPSAoY29udHJvbGxlck5hbWU6IHN0cmluZywgYWN0aW9uTmFtZTogc3RyaW5nLCBxdWVyeVN0cmluZzogc3RyaW5nLCBkYXRhOiBhbnkpOiBuZy5JSHR0cFByb21pc2U8YW55PiA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IHRoaXMuZ2V0VXJsKGNvbnRyb2xsZXJOYW1lLCBhY3Rpb25OYW1lLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLnB1dCh1cmwsIGRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vZGVsZXRlIFByb21pc2VcclxuICAgICAgICBwdWJsaWMgRGVsZXRlUHJvbWlzZSA9IChjb250cm9sbGVyTmFtZTogc3RyaW5nLCBhY3Rpb25OYW1lOiBzdHJpbmcsIHF1ZXJ5U3RyaW5nOiBzdHJpbmcpOiBuZy5JSHR0cFByb21pc2U8YW55PiA9PiB7XHJcbiAgICAgICAgICAgIGxldCB1cmw6IHN0cmluZyA9IHRoaXMuZ2V0VXJsKGNvbnRyb2xsZXJOYW1lLCBhY3Rpb25OYW1lLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmRlbGV0ZSh1cmwpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNEYXRhQWNjZXNzLnNlcnZpY2UoXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgRGF0YU1hbmFnZXJTZXJ2aWNlKTtcclxuXHJcbiAgICBoY21zRGF0YUFjY2Vzcy5zZXJ2aWNlKCdkYXRhTWFuYWdlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhTWFuYWdlclNlcnZpY2UoJGh0dHApO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwibW9kdWxlIEhDTVMuRGF0YUFjY2VzcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgVHJhbnNsYXRlU2VydmljZSB7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gWyckZmlsdGVyJywgJyR0cmFuc2xhdGUnXTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZTogYW55O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRmaWx0ZXI6IG5nLklGaWx0ZXJTZXJ2aWNlLCAkdHJhbnNsYXRlOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5maWx0ZXIgPSAkZmlsdGVyO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZSA9ICR0cmFuc2xhdGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3RyYW5zbGF0ZVxyXG4gICAgICAgIHB1YmxpYyBUcmFuc2xhdGUgPSAodGV4dDogc3RyaW5nLCB2aWV3SWQ/OiBudW1iZXIsIFBhcmFtVmFsdWU/OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IHRyYW5zOiBhbnkgPSB0aGlzLmZpbHRlcigndHJhbnNsYXRlJyk7XHJcbiAgICAgICAgICAgIGlmIChVdGlsaXR5LklzTnVsbCh2aWV3SWQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFZpZXcgPSB0ZXh0ICsgJy0nICsgdmlld0lkXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0VGV4dCA9IHRyYW5zKHRleHRWaWV3KTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRUZXh0ID09PSB0ZXh0Vmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFucyh0ZXh0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFRleHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRyYW5zKHRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIEFFID0gKGFyYWJpY1RleHQ6IHN0cmluZywgZW5nbGlzaFRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpc0FMdGVyID0gU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdBbHRlcjtcclxuICAgICAgICAgICAgaWYgKGlzQUx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmFiaWNUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuZ2xpc2hUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgVXNlID0gKGxhbmdJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlLnVzZShsYW5nSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNEYXRhQWNjZXNzLnNlcnZpY2UoJ3RyYW5zbGF0ZVNlcnZpY2UnLCBUcmFuc2xhdGVTZXJ2aWNlKTtcclxuXHJcbiAgICBoY21zRGF0YUFjY2Vzcy5zZXJ2aWNlKCd0cmFuc2xhdGVTZXJ2aWNlJywgWyckZmlsdGVyJywgJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJGZpbHRlciwgJHRyYW5zbGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJhbnNsYXRlU2VydmljZSgkZmlsdGVyLCAkdHJhbnNsYXRlKTtcclxuICAgIH1dKTtcclxuXHJcbn0iLCJtb2R1bGUgSENNUy5EYXRhQWNjZXNzIHtcclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUNvbXBhbnkge1xyXG4gICAgICAgIENvbXBhbnlJZDogbnVtYmVyO1xyXG4gICAgICAgIENvbXBhbnlDb2RlOiBzdHJpbmc7XHJcbiAgICAgICAgQ29tcGFueU5hbWU6IHN0cmluZztcclxuICAgICAgICBDb21wYW55TmFtZV86IHN0cmluZztcclxuICAgICAgICBEZWNpbWFsU2NhbGU6IG51bWJlcjtcclxuXHJcbiAgICAgICAgTG9hZCgpOiB2b2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBDb21wYW55IGltcGxlbWVudHMgSUNvbXBhbnkge1xyXG5cclxuICAgICAgICBDb21wYW55SWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgQ29tcGFueUNvZGU6IHN0cmluZz1cIlwiO1xyXG4gICAgICAgIENvbXBhbnlOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIENvbXBhbnlOYW1lXzogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBEZWNpbWFsU2NhbGU6IG51bWJlciA9IDI7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhTWFuYWdlclNlcnZpY2UsIGNvbXBhbnlJZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ29tcGFueUlkID0gY29tcGFueUlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIExvYWQoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz9pZD0nICsgdGhpcy5Db21wYW55SWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGJNYW5hZ2VyLkdldCgnTG9naW5Db21wYW55JywgJ0dldERldGFpbHMnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgVXRpbGl0eS5Db3B5T2JqZWN0KGN1cnJlbnRPYmplY3QsIHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibW9kdWxlIEhDTVMuRGF0YUFjY2VzcyB7XHJcblxyXG5cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElDdXJyZW50TG9naW5JbmZvSURzIHtcclxuICAgICAgICBVc2VySWQ6IG51bWJlcjtcclxuICAgICAgICBDb21wYW55SWQ6IG51bWJlcjtcclxuICAgICAgICBMYW5nSWQ6IG51bWJlcjtcclxuICAgICAgICBEYXRhYmFzZVByb2ZpbGVJZDogbnVtYmVyO1xyXG4gICAgICAgIGFjY2Vzc190b2tlbjogc3RyaW5nO1xyXG4gICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJQ3VycmVudExvZ2luSW5mbyB7XHJcbiAgICAgICAgVXNlcjogSVVzZXI7XHJcbiAgICAgICAgTGFuZ3VhZ2U6IElMYW5ndWFnZTtcclxuICAgICAgICBDb21wYW55OiBJQ29tcGFueTtcclxuICAgICAgICBEYXRhYmFzZVByb2ZpbGU6IElEYXRhYmFzZVByb2ZpbGU7XHJcbiAgICAgICAgU2V0TG9naW5JbmZvKGN1cnJlbnRMb2dpbkluZm9JRHM6IElDdXJyZW50TG9naW5JbmZvSURzKTogdm9pZFxyXG4gICAgICAgIC8vY2hhbmdlTGFuZ3VhZ2UobGFuZ0lkOiBudW1iZXIpOiB2b2lkXHJcbiAgICAgICAgLy9yZWZyZXNoVHJhc2xhdGlvbigpOiB2b2lkO1xyXG4gICAgICAgIGFjY2Vzc190b2tlbjogc3RyaW5nXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEN1cnJlbnRMb2dpbkluZm8gaW1wbGVtZW50cyBJQ3VycmVudExvZ2luSW5mbyB7XHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbJ2RhdGFNYW5hZ2VyU2VydmljZSddO1xyXG5cclxuICAgICAgICBwdWJsaWMgVXNlcjogSVVzZXI7XHJcbiAgICAgICAgcHVibGljIExhbmd1YWdlOiBJTGFuZ3VhZ2U7XHJcbiAgICAgICAgcHVibGljIENvbXBhbnk6IElDb21wYW55O1xyXG4gICAgICAgIHB1YmxpYyBEYXRhYmFzZVByb2ZpbGU6IElEYXRhYmFzZVByb2ZpbGU7XHJcbiAgICAgICAgcHVibGljIGFjY2Vzc190b2tlbjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IEhDTVMuRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIFNldExvZ2luSW5mbyhjdXJyZW50TG9naW5JbmZvSURzOiBJQ3VycmVudExvZ2luSW5mb0lEcykge1xyXG4gICAgICAgICAgICB0aGlzLlVzZXIgPSBuZXcgVXNlcih0aGlzLmRiTWFuYWdlciwgY3VycmVudExvZ2luSW5mb0lEcy5Vc2VySWQpO1xyXG4gICAgICAgICAgICB0aGlzLkxhbmd1YWdlID0gbmV3IExhbmd1YWdlKHRoaXMuZGJNYW5hZ2VyLCBjdXJyZW50TG9naW5JbmZvSURzLkxhbmdJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ29tcGFueSA9IG5ldyBDb21wYW55KHRoaXMuZGJNYW5hZ2VyLCBjdXJyZW50TG9naW5JbmZvSURzLkNvbXBhbnlJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuRGF0YWJhc2VQcm9maWxlID0gbmV3IERhdGFiYXNlUHJvZmlsZSh0aGlzLmRiTWFuYWdlciwgY3VycmVudExvZ2luSW5mb0lEcy5EYXRhYmFzZVByb2ZpbGVJZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFjY2Vzc190b2tlbiA9IGN1cnJlbnRMb2dpbkluZm9JRHMuYWNjZXNzX3Rva2VuO1xyXG5cclxuXHJcbiAgICAgICAgICAgIFN0YXJ0VXAuU2V0Q3VycmVudExvZ2luSW5mbyh0aGlzKTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLkxhbmd1YWdlLkxvYWQoKGxuZykgPT4ge1xyXG4gICAgICAgICAgICAgICAvLyB0aGlzLmNoYW5nZURpcmVjdGlvbih0aGlzLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgRGF0YUFjY2Vzcy5TdGFydFVwLkNoYW5nZUxhbmd1YWdlKGxuZywgdGhpcy50cmFuc2xhdG9yKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgdGhpcy50cmFuc2xhdG9yLlVzZSh0aGlzLkxhbmd1YWdlLkxhbmdJZCk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLlVzZXIuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5Db21wYW55LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuRGF0YWJhc2VQcm9maWxlLkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXCJoY21zQ3VycmVudExvZ2luSW5mb1wiLCBhbmd1bGFyLnRvSnNvbih0aGlzKSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9wdWJsaWMgcmVmcmVzaFRyYXNsYXRpb24gPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgLy90aGlzLkxhbmd1YWdlID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2U7XHJcbiAgICAgICAgLy8gICAgaWYgKHRoaXMuTGFuZ3VhZ2UgIT0gbnVsbCAmJiBhbmd1bGFyLmlzRGVmaW5lZCh0aGlzLkxhbmd1YWdlKSkge1xyXG4gICAgICAgIC8vICAgICAgICAvL3RoaXMudHJhbnNsYXRvci5Vc2UodGhpcy5MYW5ndWFnZS5MYW5nSWQpO1xyXG4gICAgICAgIC8vICAgICAgICAvL3RoaXMuY2hhbmdlRGlyZWN0aW9uKHRoaXMuTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbik7XHJcbiAgICAgICAgLy8gICAgICAgIERhdGFBY2Nlc3MuU3RhcnRVcC5DaGFuZ2VMYW5ndWFnZShsbmcsIHRoaXMudHJhbnNsYXRvcik7XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICAvL3B1YmxpYyBjaGFuZ2VMYW5ndWFnZSA9IChsYW5nSWQpID0+IHtcclxuICAgICAgICAvLyAgICB0aGlzLkxhbmd1YWdlLkxhbmdJZCA9IGxhbmdJZDtcclxuICAgICAgICAvLyAgICB0aGlzLnRyYW5zbGF0b3IuVXNlKHRoaXMuTGFuZ3VhZ2UuTGFuZ0lkKTtcclxuICAgICAgICAvLyAgICB0aGlzLkxhbmd1YWdlLkxvYWQoKGxuZykgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbih0aGlzLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24pO1xyXG4gICAgICAgIC8vICAgIH0pXHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGNoYW5nZUxhbmd1YWdlID0gKGxhbmd1YWdlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgc2VsZi5zZXRDdXJyZW50TGFuZ3VhZ2UobGFuZ3VhZ2UpO1xyXG4gICAgICAgIC8vICAgIHZhciBjdXJyZW50VXNlciA9IGxvZ2luSW5mby5nZXRDdXJyZW50VXNlcigpO1xyXG4gICAgICAgIC8vICAgIGN1cnJlbnRVc2VyLmxhbmdJZCA9IGxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICAvLyAgICAkdHJhbnNsYXRlLnVzZShsYW5ndWFnZS5MYW5nSWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgLy8gICAgY2hhbmdlRGlyZWN0aW9uKGxhbmd1YWdlLkxhbmdEaXJlY3Rpb24pO1xyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGNoYW5nZURpcmVjdGlvbiA9IChsYW5nRGlyZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgLy8gICAgLy9sYW5nRGlyZWN0aW9uRnVuYyhsYW5nRGlyZWN0aW9uKTtcclxuICAgICAgICAvLyAgICB2YXIgcnRsID0gKGxhbmdEaXJlY3Rpb24gPT0gJ3J0bCcgfHwgbGFuZ0RpcmVjdGlvbiA9PSAnUlRMJyk7XHJcbiAgICAgICAgLy8gICAgdmFyICRyb290ID0gJCgnYm9keScpO1xyXG4gICAgICAgIC8vICAgICRyb290LnRvZ2dsZUNsYXNzKCdzbWFydC1ydGwnLCBydGwpO1xyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL2hjbXNEYXRhQWNjZXNzLnNlcnZpY2UoJ2N1cnJlbnRMb2dpbkluZm8nLCBbJ2RhdGFNYW5hZ2VyU2VydmljZScsIGZ1bmN0aW9uIChkYXRhTWFuYWdlclNlcnZpY2U6IEhDTVMuRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHRyYW5zbGF0ZVNlcnZpY2U6IEhDTVMuRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcbiAgICAvLyAgICByZXR1cm4gbmV3IEN1cnJlbnRMb2dpbkluZm8oZGF0YU1hbmFnZXJTZXJ2aWNlLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgIC8vfV0pO1xyXG5cclxufSIsIm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJRGF0YWJhc2VQcm9maWxlIHtcclxuICAgICAgICBEYXRhYmFzZVByb2ZpbGVJZDogbnVtYmVyO1xyXG4gICAgICAgIERhdGFiYXNlUHJvZmlsZU5hbWU6IHN0cmluZztcclxuXHJcbiAgICAgICAgTG9hZCgpOiB2b2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBEYXRhYmFzZVByb2ZpbGUgaW1wbGVtZW50cyBJRGF0YWJhc2VQcm9maWxlIHtcclxuXHJcbiAgICAgICAgRGF0YWJhc2VQcm9maWxlSWQ6IG51bWJlcj0wO1xyXG4gICAgICAgIERhdGFiYXNlUHJvZmlsZU5hbWU6IHN0cmluZz1cIlwiO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YU1hbmFnZXJTZXJ2aWNlLCBkYXRhYmFzZVByb2ZpbGVJZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGF0YWJhc2VQcm9maWxlSWQgPSBkYXRhYmFzZVByb2ZpbGVJZDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgTG9hZCgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP2lkPScgKyB0aGlzLkRhdGFiYXNlUHJvZmlsZUlkO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ0RhdGFiYXNlUHJvZmlsZScsICdHZXREZXRhaWxzJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFV0aWxpdHkuQ29weU9iamVjdChjdXJyZW50T2JqZWN0LCByZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJTGFuZ3VhZ2Uge1xyXG4gICAgICAgIExhbmdJZDogbnVtYmVyO1xyXG4gICAgICAgIExhbmdOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgTGFuZ1Nob3J0TmFtZTogc3RyaW5nO1xyXG4gICAgICAgIExhbmdBbHRlcjogYm9vbGVhbjtcclxuICAgICAgICBMYW5nRGlyZWN0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgTG9hZChjYWxsQmFjaz86IEZ1bmN0aW9uKTogdm9pZDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExhbmd1YWdlIGltcGxlbWVudHMgSUxhbmd1YWdlIHtcclxuXHJcbiAgICAgICAgTGFuZ0lkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIExhbmdOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIExhbmdTaG9ydE5hbWU6IHN0cmluZz1cIlwiO1xyXG4gICAgICAgIExhbmdBbHRlcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIExhbmdEaXJlY3Rpb246IHN0cmluZyA9IFwibHRyXCI7XHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFNYW5hZ2VyU2VydmljZSwgbGFuZ0lkOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5MYW5nSWQgPSBsYW5nSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIExvYWQoY2FsbEJhY2s/OiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICc/aWQ9JyArIHRoaXMuTGFuZ0lkO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ0xvZ2luTGFuZ3VhZ2UnLCAnR2V0RGV0YWlscycsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBVdGlsaXR5LkNvcHlPYmplY3QoY3VycmVudE9iamVjdCwgcmVzdWx0LmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjayAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKGN1cnJlbnRPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibW9kdWxlIEhDTVMuRGF0YUFjY2VzcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgU3RhcnRVcCB7XHJcbiAgICAgICAgc3RhdGljIGFwaVVybDogc3RyaW5nID0gd2luZG93WydhcHBDb25maWcnXS53ZWJBcGlVcmw7XHJcbiAgICAgICAgc3RhdGljIHJlcG9ydHNVcmw6IHN0cmluZyA9IHdpbmRvd1snYXBwQ29uZmlnJ10ud2ViUmVwb3J0c1VybDtcclxuICAgICAgICBzdGF0aWMgYXBpUm9vdFVybDogc3RyaW5nID0gd2luZG93WydhcHBDb25maWcnXS53ZWJVcmw7XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIF9DdXJyZW50TG9naW5JbmZvOiBJQ3VycmVudExvZ2luSW5mbyA9IG51bGw7XHJcbiAgICAgICAgcHVibGljIHN0YXRpYyBTZXRDdXJyZW50TG9naW5JbmZvKGluZm86IElDdXJyZW50TG9naW5JbmZvKSB7XHJcbiAgICAgICAgICAgIFN0YXJ0VXAuX0N1cnJlbnRMb2dpbkluZm8gPSBpbmZvO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldCBDdXJyZW50TG9naW5JbmZvKCk6IElDdXJyZW50TG9naW5JbmZvIHtcclxuICAgICAgICAgICAgdmFyIGxvZ2luSW5mbyA9IFN0YXJ0VXAuX0N1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIGlmIChsb2dpbkluZm8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbG9naW5JbmZvID0gPElDdXJyZW50TG9naW5JbmZvPmFuZ3VsYXIuZnJvbUpzb24oc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcImhjbXNDdXJyZW50TG9naW5JbmZvXCIpKTtcclxuICAgICAgICAgICAgICAgIFN0YXJ0VXAuX0N1cnJlbnRMb2dpbkluZm8gPSBsb2dpbkluZm87XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBsb2dpbkluZm87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIENoYW5nZUxhbmd1YWdlID0gKGxhbmd1YWdlLCB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBsb2dpbkluZm8gPSBTdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIGxvZ2luSW5mby5MYW5ndWFnZSA9IDxMYW5ndWFnZT5sYW5ndWFnZTtcclxuXHJcbiAgICAgICAgICAgIHRyYW5zbGF0b3IuVXNlKGxvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJ0bCA9IChsb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbi50b0xvd2VyQ2FzZSgpID09ICdydGwnKTtcclxuICAgICAgICAgICAgdmFyICRyb290ID0gJCgnYm9keScpO1xyXG4gICAgICAgICAgICAkcm9vdC50b2dnbGVDbGFzcygnc21hcnQtcnRsJywgcnRsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3N0YXRpYyBDdXJyZW50TG9naW5JbmZvOiBJQ3VycmVudExvZ2luSW5mbyA9bnVsbDtcclxuICAgIH1cclxufSIsIm1vZHVsZSBIQ01TLkRhdGFBY2Nlc3Mge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJVXNlciB7XHJcbiAgICAgICAgVXNlcklkOiBudW1iZXI7XHJcbiAgICAgICAgVXNlck5hbWU6IHN0cmluZztcclxuXHJcbiAgICAgICAgIExvYWQoKTogdm9pZDtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBVc2VyIGltcGxlbWVudHMgSVVzZXIge1xyXG5cclxuICAgICAgICBVc2VySWQ6IG51bWJlcj0wO1xyXG4gICAgICAgIFVzZXJOYW1lOiBzdHJpbmc9XCJcIjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFNYW5hZ2VyU2VydmljZSwgdXNlcklkOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5Vc2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFzeW5jIExvYWQoKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz90YWJsZT1Vc2VycyZpZD0nICsgdGhpcy5Vc2VySWQ7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGJNYW5hZ2VyLkdldCgnTG9va3VwcycsICdHZXREZXRhaWxzJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFV0aWxpdHkuQ29weU9iamVjdChjdXJyZW50T2JqZWN0LCByZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcbiIsIi8vaW50ZXJmYWNlIE9iamVjdCB7XHJcbi8vICAgIENvcHlGcm9tKG9iajogYW55KTogdm9pZDtcclxuLy99XHJcblxyXG4vL09iamVjdC5wcm90b3R5cGUuQ29weUZyb20gPSBmdW5jdGlvbiAob2JqOiBhbnkpIHtcclxuLy8gICAgZm9yICh2YXIgYXR0cmlidXQgaW4gb2JqKSB7XHJcbi8vICAgICAgICBpZiAodHlwZW9mIG9ialthdHRyaWJ1dF0gPT09IFwib2JqZWN0XCIpIHtcclxuLy8gICAgICAgICAgICB0aGlzW2F0dHJpYnV0XS5Db3B5RnJvbShvYmpbYXR0cmlidXRdKTtcclxuLy8gICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgICAgdGhpc1thdHRyaWJ1dF0gPSBvYmpbYXR0cmlidXRdO1xyXG4vLyAgICAgICAgfVxyXG4vLyAgICB9XHJcbi8vfVxyXG5cclxubW9kdWxlIEhDTVMuRGF0YUFjY2VzcyB7XHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBVdGlsaXR5IHtcclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBJc051bGwoZGF0YSk6IGFueSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoYW5ndWxhci5pc1VuZGVmaW5lZChkYXRhKSB8fCAoZGF0YSA9PT0gbnVsbCkpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgSXNEYXRlKGRhdGEpOiBhbnkge1xyXG4gICAgICAgICAgICB2YXIgaXNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0YSkgPT09IFwiW29iamVjdCBEYXRlXVwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCBpcyBhIGRhdGVcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihkYXRhKSkgeyAgLy8gZC52YWx1ZU9mKCkgY291bGQgYWxzbyB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGF0ZSBpcyBub3QgdmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkYXRlIGlzIHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBub3QgYSBkYXRlXHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChpc1ZhbGlkICYmIGRhdGEgIT09IG51bGwpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3N0YXRpYyBDbG9uZShvYmo6IGFueSk6IGFueSB7XHJcbiAgICAgICAgLy8gICAgdmFyIGNsb25lT2JqID0gbmV3ICg8YW55Pm9iai5jb25zdHJ1Y3RvcigpKTtcclxuICAgICAgICAvLyAgICBmb3IgKHZhciBhdHRyaWJ1dCBpbiBvYmopIHtcclxuICAgICAgICAvLyAgICAgICAgaWYgKHR5cGVvZiBvYmpbYXR0cmlidXRdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBjbG9uZU9ialthdHRyaWJ1dF0gPSB0aGlzLkNsb25lKG9ialthdHRyaWJ1dF0pO1xyXG4gICAgICAgIC8vICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgY2xvbmVPYmpbYXR0cmlidXRdID0gb2JqW2F0dHJpYnV0XTtcclxuICAgICAgICAvLyAgICAgICAgfVxyXG4gICAgICAgIC8vICAgIH1cclxuICAgICAgICAvLyAgICByZXR1cm4gY2xvbmVPYmo7XHJcbiAgICAgICAgLy99XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgQ29weU9iamVjdChkZXN0aW5hdGlvbk9iamVjdDogYW55LCBzb3VyY2VPYmplY3Q6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNvdXJjZU9iamVjdCwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25PYmplY3Rba2V5XSA9IHNvdXJjZU9iamVjdFtrZXldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgQ29weURhdGEoc291cmNlKSB7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYW5ndWxhci5jb3B5KHNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgSENNUy5BdXRoZW50aWNhdGlvbiB7XHJcblxyXG4gICAgLy9cInVzZSBzdHJpY3RcIjtcclxuICAgIGV4cG9ydCB2YXIgaGNtc0F1dGhlbnRpY2F0aW9uOiBuZy5JTW9kdWxlID1cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcIkhDTVMuQXV0aGVudGljYXRpb25cIiwgWydIQ01TLkRhdGFBY2Nlc3MnXSk7XHJcbiAgICAgXHJcblxyXG59IiwibW9kdWxlIEhDTVMuQXV0aGVudGljYXRpb24ge1xyXG4gICAgZXhwb3J0IGNsYXNzIEFjY291bnRTZXJ2aWNlIHtcclxuXHJcbiAgICAgICAgc3RhdGljICRpbmplY3QgPSBbJyRodHRwJ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgJGh0dHA6IG5nLklIdHRwU2VydmljZSwgcHJpdmF0ZSAkcTogbmcuSVFTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogSENNUy5EYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gICAgIHZhciBmYWMgPSB7fTtcclxuICAgICAgICAvL3ZhciBzZXJ2aWNlQmFzZVBhdGggPSB3aW5kb3cuYXBwQ29uZmlnLndlYlVybDtcclxuXHJcbiAgICAgICAgcHVibGljIGxvZ2luID0gKHVzZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlQmFzZVBhdGggPSBEYXRhQWNjZXNzLlN0YXJ0VXAuYXBpUm9vdFVybDtcclxuXHJcbiAgICAgICAgICAgIHZhciBvYmogPSB7ICd1c2VybmFtZSc6IHVzZXIudXNlcm5hbWUsICdwYXNzd29yZCc6IHVzZXIucGFzc3dvcmQsICdkYXRhYmFzZVByb2ZpbGVJZCc6IHVzZXIuZGF0YWJhc2VQcm9maWxlSWQsICdjb21wYW55SWQnOiB1c2VyLmNvbXBhbnlJZCwgJ2xhbmdJZCc6IHVzZXIubGFuZ0lkIH07XHJcblxyXG4gICAgICAgICAgICBPYmplY3RbJ3RvcGFyYW1zJ10gPSBmdW5jdGlvbiBPYmplY3RzVG9QYXJhbXMob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHAucHVzaChrZXkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2tleV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwLmpvaW4oJyYnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGRlZmVyID0gdGhpcy4kcS5kZWZlcigpO1xyXG4gICAgICAgICAgICB0aGlzLiRodHRwKHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiBzZXJ2aWNlQmFzZVBhdGggKyBcIi90b2tlblwiLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogJ2dyYW50X3R5cGU9cGFzc3dvcmQmJyArIE9iamVjdFsndG9wYXJhbXMnXShvYmopLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGVmZXIucmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhOiBhbnkgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBuZXcgRGF0YUFjY2Vzcy5DdXJyZW50TG9naW5JbmZvKHRoaXMuZGJNYW5hZ2VyLCB0aGlzLnRyYW5zbGF0b3IpO1xyXG4gICAgICAgICAgICAgICAgaW5mby5TZXRMb2dpbkluZm8oeyBVc2VySWQ6IGRhdGEudXNlcklkLCBMYW5nSWQ6IGRhdGEubGFuZ0lkLCBEYXRhYmFzZVByb2ZpbGVJZDogZGF0YS5kYXRhYmFzZVByb2ZpbGVJZCwgQ29tcGFueUlkOiBkYXRhLmNvbXBhbnlJZCwgYWNjZXNzX3Rva2VuOiBkYXRhLmFjY2Vzc190b2tlbiB9KVxyXG5cclxuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkZWZlci5yZWplY3QoZXJyb3IuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2dvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBpbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvID0gbmV3IERhdGFBY2Nlc3MuQ3VycmVudExvZ2luSW5mbyh0aGlzLmRiTWFuYWdlciwgdGhpcy50cmFuc2xhdG9yKTtcclxuICAgICAgICAgICAgRGF0YUFjY2Vzcy5TdGFydFVwLlNldEN1cnJlbnRMb2dpbkluZm8oaW5mbyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9oY21zRGF0YUFjY2Vzcy5zZXJ2aWNlKFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIERhdGFNYW5hZ2VyU2VydmljZSk7XHJcblxyXG4gICAgaGNtc0F1dGhlbnRpY2F0aW9uLnNlcnZpY2UoJ2FjY291bnRTZXJ2aWNlJywgWyckaHR0cCcsICckcScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAndHJhbnNsYXRlU2VydmljZScsIGZ1bmN0aW9uICgkaHR0cCwgJHEsIGRhdGFNYW5hZ2VyU2VydmljZTogSENNUy5EYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgdHJhbnNsYXRvcjogSENNUy5EYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFjY291bnRTZXJ2aWNlKCRodHRwLCAkcSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCB0cmFuc2xhdG9yKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCJcclxubW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIC8vXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBleHBvcnQgdmFyIGhjbXNDb250cm9sczogbmcuSU1vZHVsZSA9XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoXCJIQ01TLkNvbnRyb2xzXCIsIFsnSENNUy5EYXRhQWNjZXNzJywnSENNUy5WYWxpZGF0aW9ucyddKTtcclxuXHJcblxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRTZWN1cml0eVN0cmluZygpIHsgIFxyXG4gICAgICAgIHJldHVybiAnbmctaGlkZT1cInt7aGNPcHRpb25zLklzSGlkZGVufX1cIiBuZy1yZWFkb25seT1cInt7aGNPcHRpb25zLklzUmVhZE9ubHl9fVwiIG5nLWRpc2FibGVkPVwie3toY09wdGlvbnMuSXNSZWFkT25seX19XCIgJztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgZnVuY3Rpb24gbmdIY21zT3B0aW9ucygpIHtcclxuICAgICAgICByZXR1cm4gJyBkYXRhLXBhZ2UtaWQ9XCJ7e2hjT3B0aW9ucy5WaWV3SWR9fVwiIGRhdGEtb2JqZWN0LWlkPVwie3toY09wdGlvbnMuQ29udHJvbElkfX1cIiAgIG5nLXJlcXVpcmVkPVwie3toY09wdGlvbnMuSXNSZXF1aXJlZH19XCIgIG5nLW1pbmxlbmd0aD1cInt7aGNPcHRpb25zLk1pbkxlbmd0aH19XCIgbmctbWF4bGVuZ3RoPVwie3toY09wdGlvbnMuTWF4TGVuZ3RofX1cIiBuZy1wYXR0ZXJuPVwie3toY09wdGlvbnMuUGF0dGVybn19XCIgbmctdmFsdWU9XCJ7e2hjT3B0aW9ucy5EZWZhdWx0VmFsdWV9fVwiICcgKyBnZXRTZWN1cml0eVN0cmluZygpO1xyXG4gICAgfVxyXG4gICBcclxuXHJcbn0iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNBcHBseVNlY3VyaXR5IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBJztcclxuXHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjbXNBcHBseVNlY3VyaXR5OiAnPSdcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2aWV3T3B0aW9uID0gc2NvcGUuaGNtc0FwcGx5U2VjdXJpdHk7XHJcbiAgICAgICAgICAgIHZhciBzZWN1cml0eU9wdGlvbiA9IHsgT2JqZWN0U2VjdXJpdHlJZDogMiB9Ly8wIHNob3csIDEgaGlkZSwyIGRpc2FibGVkXHJcblxyXG4gICAgICAgICAgICB2YXIgYXBwbHlWaWV3T3B0aW9ucyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2aWV3T3B0aW9uLklzSGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodmlld09wdGlvbi5Jc1JlYWRPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuZmluZChcImlucHV0W3R5cGU9J3RleHQnXVwiKS5jaGlsZHJlbigpLmF0dHIoXCJyZWFkb25seVwiLCBcInJlYWRvbmx5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuZmluZChcIiFpbnB1dFt0eXBlPSd0ZXh0J11cIikuY2hpbGRyZW4oKS5hdHRyKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBhcHBseVNlY3VyaXR5ID0gZnVuY3Rpb24gKHZpZXdPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmICh2aWV3T3B0aW9uLklzSGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWN1cml0eU9wdGlvbi5PYmplY3RTZWN1cml0eUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoXCIqXCIpLmNoaWxkcmVuKCkuYXR0cihcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyQoZWxlbWVudCkucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSGNtc0FwcGx5U2VjdXJpdHkoKTtcclxuXHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsXCJkYXRhTWFuYWdlclNlcnZpY2VcIl07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9ICBcclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zQXBwbHlTZWN1cml0eScsIEhjbXNBcHBseVNlY3VyaXR5LkZhY3RvcnkoKSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwibW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIGhjbXNDb250cm9scy5maWx0ZXIoJ2hjbXNwZXJjZW50YWdlJywgWyckZmlsdGVyJywgZnVuY3Rpb24gKCRmaWx0ZXIpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBkZWNpbWFscykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGZpbHRlcignbnVtYmVyJykoaW5wdXQgKiAxMDAsIGRlY2ltYWxzKSArICclJztcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIGhjbXNDb250cm9scy5maWx0ZXIoJ2hjbXNudW1iZXInLCBbJyRmaWx0ZXInLCBmdW5jdGlvbiAoJGZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoaW5wdXQsIGRlY2ltYWxzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdudW1iZXInKShpbnB1dCwgZGVjaW1hbHMpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG5cclxuXHJcbn1cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgZ2VuZXJpY0VkaXRvciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjT3B0aW9uczogJz0nLFxyXG4gICAgICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgICAgICAgICAgaGNUZXh0OiBcIkA/XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRG9udExvYWREYXRhOiBcIj0/XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgcHJpb3JpdHkgPSAwO1xyXG5cclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSByb290U2NvcGU6IGFueTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlOiBhbnksICRjb21waWxlOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBpbGVyID0gJGNvbXBpbGU7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZSA9IHRyYW5zbGF0ZVNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMucm9vdFNjb3BlID0gJHJvb3RTY29wZTtcclxuICAgICAgICAgICAgLy8gdGhpcy5zY29wZS5oY21zVHJhbnNsYXRvciA9ICc9JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ2hjT3B0aW9ucycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDb250cm9sKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbXBpbGUgPSB0aGlzLmNvbXBpbGVyO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRDb250cm9sKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxoY21zLXRleHQgbmFtZT1cImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPjwvaGNtcy10ZXh0Pic7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNjb3BlLmhjT3B0aW9ucy5Db250cm9sVHlwZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tbWVudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub3Rlc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy1jb21tZW50IG5hbWU9IFwiaW5wdXRDb250cm9sXCIgbmctbW9kZWw9XCJuZ01vZGVsXCIgaGMtb3B0aW9ucz1cImhjT3B0aW9uc1wiIGhjLWV2ZW50cz1cImhjRXZlbnRzXCI+IDwvaGNtcy1jb21tZW50Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLWRhdGUgbmFtZT0gXCJpbnB1dENvbnRyb2xcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiBoYy1vcHRpb25zPVwiaGNPcHRpb25zXCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIj4gPC9oY21zLWRhdGU+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpbWVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUgPSAnPGhjbXMtdGltZSBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMtdGltZT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy1udW1iZXIgbmFtZT0gXCJpbnB1dENvbnRyb2xcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiBoYy1vcHRpb25zPVwiaGNPcHRpb25zXCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIj4gPC9oY21zLW51bWJlcj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLW51bWJlciBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMtbnVtYmVyPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy1lbWFpbCBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMtZW1haWw+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLWNoZWNrIG5hbWU9IFwiaW5wdXRDb250cm9sXCIgbmctbW9kZWw9XCJuZ01vZGVsXCIgaGMtb3B0aW9ucz1cImhjT3B0aW9uc1wiIGhjLXRleHQ9XCJ7e2hjVGV4dH19XCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIj4gPC9oY21zLWNoZWNrPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyYWRpb2JveFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyYWRpb1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy1yYWRpbyBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMtcmFkaW8+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtb250aFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy1tb250aCBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiICBoYy1vcHRpb25zPVwiaGNPcHRpb25zXCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIj4gPC9oY21zLW1vbnRoPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieWVhclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZSA9ICc8aGNtcy15ZWFyIG5hbWU9IFwiaW5wdXRDb250cm9sXCIgbmctbW9kZWw9XCJuZ01vZGVsXCIgIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMteWVhcj4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGVtcGxhdGUgPSAnPGhjbXMtbXVsdGktc2VsZWN0IG5hbWU9IFwiaW5wdXRDb250cm9sXCIgbmctbW9kZWw9XCJuZ01vZGVsXCIgIGhjLW9wdGlvbnM9XCJoY09wdGlvbnNcIiBoYy1ldmVudHM9XCJoY0V2ZW50c1wiPiA8L2hjbXMtbXVsdGktc2VsZWN0Pic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLXNlbGVjdCBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiICBoYy1vcHRpb25zPVwiaGNPcHRpb25zXCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIiBoYy1kb250LWxvYWQtZGF0YT1cImhjRG9udExvYWREYXRhXCI+IDwvaGNtcy1zZWxlY3Q+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpc2VsZWN0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLW11bHRpLXNlbGVjdCBuYW1lPSBcImlucHV0Q29udHJvbFwiIG5nLW1vZGVsPVwibmdNb2RlbFwiICBoYy1vcHRpb25zPVwiaGNPcHRpb25zXCIgaGMtZXZlbnRzPVwiaGNFdmVudHNcIiBoYy1kb250LWxvYWQtZGF0YT1cImhjRG9udExvYWREYXRhXCI+IDwvaGNtcy1tdWx0aS1zZWxlY3Q+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlcG9ydC10cmVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLXRyZWUgbmFtZT0gXCJpbnB1dENvbnRyb2xcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgaGMtb3B0aW9ucz1cImhjT3B0aW9uc1wiIGhjLWV2ZW50cz1cImhjRXZlbnRzXCI+IDwvaGNtcy10cmVlPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gJzxoY21zLWZpbGUgbmFtZT0gXCJpbnB1dENvbnRyb2xcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgaGMtb3B0aW9ucz1cImhjT3B0aW9uc1wiIGhjLWV2ZW50cz1cImhjRXZlbnRzXCI+IDwvaGNtcy1maWxlPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgICAgIGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIHRvIHJlZ2lzdGVyIGRpcmVjdGl2ZSBcclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgkcm9vdFNjb3BlOiBhbnksICRjb21waWxlOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkgPT4gbmV3IGdlbmVyaWNFZGl0b3IoJHJvb3RTY29wZSwgJGNvbXBpbGUsIHRyYW5zbGF0ZVNlcnZpY2UpO1xyXG4gICAgICAgICAgICAvL2RpcmVjdGl2ZSdzIGluamVjdGlvbiBsaXN0XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHJvb3RTY29wZVwiLCBcIiRjb21waWxlXCIsIFwidHJhbnNsYXRlU2VydmljZVwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNHZW5lcmljJywgZ2VuZXJpY0VkaXRvci5GYWN0b3J5KCkpO1xyXG5cclxufVxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIm1vZHVsZS50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG5cclxuICAgIC8vIGl0ZW0gdHJhbnNsYXRvclxyXG4gICAgZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZURpcmVjdGl2ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7ICdoY21zVHJhbnNsYXRvcic6IFwiPVwiLCBcImhjbXNWaWV3SWRcIjogXCI9P1wiIH07XHJcbiAgICAgICAgcHVibGljIHByaW9yaXR5ID0gMDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgcm9vdFNjb3BlOiBhbnk7XHJcbiAgICAgICAgY29uc3RydWN0b3IoJHJvb3RTY29wZTogYW55LCAkY29tcGlsZTogbmcuSUNvbXBpbGVTZXJ2aWNlLCB0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21waWxlciA9ICRjb21waWxlO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UgPSB0cmFuc2xhdGVTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLnJvb3RTY29wZSA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuc2NvcGUuaGNtc1RyYW5zbGF0b3IgPSAnPSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbkNoYW5nZU9jY3VycmVkID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFRleHQgPSBzY29wZS5oY21zVHJhbnNsYXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB2aWV3SWQgPSBzY29wZS5oY21zVmlld0lkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2aWV3SWQgPT0gbnVsbCB8fCB2aWV3SWQgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudFZpZXdFbGVtZW50ID0gZWxlbWVudC5jbG9zZXN0KFwiW2hjbXMtdmlldy1pZF1cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdJZCA9IHBhcmVudFZpZXdFbGVtZW50LmF0dHIoXCJoY21zLXZpZXctaWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy92YXIgb3JpZ2luYWxUb29sdGlwID0gYXR0cnNbJ3Rvb2x0aXAnXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2xldCB0cmFuczogYW55ID0gdGhpcy5maWx0ZXIoJ3RyYW5zbGF0ZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dCh0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKG9yaWdpbmFsVGV4dCwgdmlld0lkKSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdHJhbnNsYXRpb25DaGFuZ2VPY2N1cnJlZCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHRyYW5zbGF0aW9uQ2hhbmdlT2NjdXJyZWQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgkcm9vdFNjb3BlOiBhbnksICRjb21waWxlOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkgPT4gbmV3IFRyYW5zbGF0ZURpcmVjdGl2ZSgkcm9vdFNjb3BlLCAkY29tcGlsZSwgdHJhbnNsYXRlU2VydmljZSk7XHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlJ3MgaW5qZWN0aW9uIGxpc3RcclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkcm9vdFNjb3BlXCIsIFwiJGNvbXBpbGVcIiwgXCJ0cmFuc2xhdGVTZXJ2aWNlXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc1RyYW5zbGF0b3InLCBUcmFuc2xhdGVEaXJlY3RpdmUuRmFjdG9yeSgpKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyBmb3JtIFRyYW5zbGF0b3JcclxuICAgIGV4cG9ydCBjbGFzcyBGb3JtVHJhbnNsYXRlRGlyZWN0aXZlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHsgXCJoY21zVmlld0lkXCI6IFwiPT9cIiB9O1xyXG4gICAgICAgIHB1YmxpYyBwcmlvcml0eSA9IDA7XHJcblxyXG4gICAgICAgIHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHJvb3RTY29wZTogYW55O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCRyb290U2NvcGU6IGFueSwgJGNvbXBpbGU6IG5nLklDb21waWxlU2VydmljZSwgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIgPSAkY29tcGlsZTtcclxuICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVTZXJ2aWNlID0gdHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICAgICAgdGhpcy5yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICAgICAvLyB0aGlzLnNjb3BlLmhjbXNUcmFuc2xhdG9yID0gJz0nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksICRhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgdHJhbnNsYXRpb25DaGFuZ2VPY2N1cnJlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFRleHQgPSBzY29wZS5oY21zVHJhbnNsYXRvcjtcclxuICAgICAgICAgICAgICAgIHZhciB2aWV3SWQgPSBzY29wZS5oY21zVmlld0lkO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0b3IgPSB0aGlzLnRyYW5zbGF0ZVNlcnZpY2U7XHJcbiAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmZpbmQoJ2xhYmVsJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSB0cmFuc2xhdG9yLlRyYW5zbGF0ZSh0aGlzLnRleHRDb250ZW50LCB2aWV3SWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdHJhbnNsYXRpb25DaGFuZ2VPY2N1cnJlZCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yb290U2NvcGUuJG9uKCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHRyYW5zbGF0aW9uQ2hhbmdlT2NjdXJyZWQpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgkcm9vdFNjb3BlOiBhbnksICRjb21waWxlOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkgPT4gbmV3IEZvcm1UcmFuc2xhdGVEaXJlY3RpdmUoJHJvb3RTY29wZSwgJGNvbXBpbGUsIHRyYW5zbGF0ZVNlcnZpY2UpO1xyXG4gICAgICAgICAgICAvL2RpcmVjdGl2ZSdzIGluamVjdGlvbiBsaXN0XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHJvb3RTY29wZVwiLCBcIiRjb21waWxlXCIsIFwidHJhbnNsYXRlU2VydmljZVwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNGb3JtVHJhbnNsYXRvcicsIEZvcm1UcmFuc2xhdGVEaXJlY3RpdmUuRmFjdG9yeSgpKTtcclxuXHJcblxyXG59IiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcblxyXG4gICAgLy8gZm9ybSBUcmFuc2xhdG9yXHJcbiAgICBleHBvcnQgY2xhc3MgT25GaW5pc2hSZW5kZXIgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0EnO1xyXG4gICAgICAgIC8vcHVibGljIHNjb3BlOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cjogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoYXR0ci5vbkZpbmlzaFJlbmRlcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKCR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBPbkZpbmlzaFJlbmRlcigkdGltZW91dCk7XHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlJ3MgaW5qZWN0aW9uIGxpc3RcclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkdGltZW91dFwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ29uRmluaXNoUmVuZGVyJywgT25GaW5pc2hSZW5kZXIuRmFjdG9yeSgpKTtcclxuXHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBPbldpZGdldEZpbmlzaFJlbmRlciBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQSc7XHJcbiAgICAgICAgLy9wdWJsaWMgc2NvcGU6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5hdHRyKFwiaWRcIiwgYXR0ci5vbldpZGdldEZpbmlzaFJlbmRlcik7XHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kbGFzdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgJFsnZW5hYmxlSmFydmlzV2lkZ2V0cyddID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHRpbWVvdXQoKDxhbnk+d2luZG93KS5zZXR1cF93aWRnZXRzX2Rlc2t0b3AsIDEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgT25XaWRnZXRGaW5pc2hSZW5kZXIoJHRpbWVvdXQpO1xyXG4gICAgICAgICAgICAvL2RpcmVjdGl2ZSdzIGluamVjdGlvbiBsaXN0XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiJHRpbWVvdXRcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdvbldpZGdldEZpbmlzaFJlbmRlcicsIE9uV2lkZ2V0RmluaXNoUmVuZGVyLkZhY3RvcnkoKSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxufVxyXG4iLCJcclxubW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIG1lc3NhZ2VIYW5kbGVyIHtcclxuICAgICAgICBwcml2YXRlIHNtYXJ0QWxlcnQ6IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydDtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHsgdGhpcy5zbWFydEFsZXJ0ICA9IG5ldyBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQoKTt9XHJcbiAgICAgICAgcHVibGljIE1lc3NhZ2VDb25maXJtYXRpb24gPSAoZGF0YTogYW55LCBzdWNjZXNzTWVzc2dlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgICAgICAgICAgdmFyIHN5c3RlbVJlc3VsdCA9IGRhdGEuU3lzdGVtTWVzc2FnZTtcclxuICAgICAgICAgICAgLy9pZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKGRhdGEpICYmIEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHN5c3RlbVJlc3VsdCkpIHtcclxuICAgICAgICAgICAgLy8gICAgdGhpcy5zbWFydEFsZXJ0LkVycm9yKGRhdGEpO1xyXG4gICAgICAgICAgICAvL31lbHNlXHJcbiAgICAgICAgICAgIHZhciByZXN1bHQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHN5c3RlbVJlc3VsdClcclxuICAgICAgICAgICAgICAgICYmIGRhdGEuSXNFcnJvck1lc3NhZ2UgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBbGVydC5BbGVydChzdWNjZXNzTWVzc2dlKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3lzdGVtUmVzdWx0LklzUHJldmVudE1lc3NhZ2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBbGVydC5FcnJvcihzeXN0ZW1SZXN1bHQuU3lzdGVtTWVzc2FnZS5NZXNzYWdlQ29tbWVudCwgc3lzdGVtUmVzdWx0LlN5c3RlbU1lc3NhZ2UuTWVzc2FnZUNvZGUpOyAvLyBFcnJvciBBbGVydFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQuV2FybmluZyhzeXN0ZW1SZXN1bHQuU3lzdGVtTWVzc2FnZS5NZXNzYWdlQ29tbWVudCwgc3lzdGVtUmVzdWx0LlN5c3RlbU1lc3NhZ2UuTWVzc2FnZUNvZGUpOyAvLyBXYXJuaW5nIEFsZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkFsZXJ0KHN1Y2Nlc3NNZXNzZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQ2hlY2tCb3ggaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuICAgICAgICBwdWJsaWMgcmVxdWlyZSA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBoY09wdGlvbnM6IFwiPVwiLFxyXG4gICAgICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgICAgICAgICAgaGNUZXh0OiBcIkBcIixcclxuICAgICAgICAgICAgaGNFdmVudHM6IFwiPT9cIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxkaXYgIGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXBhZ2UtaWQ9XCJ7e2hjT3B0aW9ucy5WaWV3SWR9fVwiIGRhdGEtb2JqZWN0LWlkPVwie3toY09wdGlvbnMuQ29udHJvbElkfX1cIiA+PGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiAgbmctbW9kZWw9XCJuZ01vZGVsXCIgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiICAgbmctcmVxdWlyZWQ9XCJ7e2hjT3B0aW9ucy5Jc1JlcXVpcmVkfX1cIicgKyBnZXRTZWN1cml0eVN0cmluZygpICsgJyAvPiB7e2hjVGV4dH19IDwvbGFiZWw+PC9kaXY+JztcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBDaGVja0JveCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc0NoZWNrJywgQ2hlY2tCb3guRmFjdG9yeSgpKTtcclxufVxyXG4iLCJcclxuXHJcblxyXG5tb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNEYXRlIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBsaW5rO1xyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmU6IHN0cmluZyA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICc8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIiBkYXRhLXBhZ2UtaWQ9XCJ7e2hjT3B0aW9ucy5WaWV3SWR9fVwiIGRhdGEtb2JqZWN0LWlkPVwie3toY09wdGlvbnMuQ29udHJvbElkfX1cIicgKyBnZXRTZWN1cml0eVN0cmluZygpICsgJyA+JztcclxuICAgICAgICAgICAgcmVzdWx0ICs9ICc8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dC1zbVwiICAgdWliLWRhdGVwaWNrZXItcG9wdXA9XCJ7e2RhdGVGb3JtYXR9fVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7YWxsb3dJbnZhbGlkOmZhbHNlfVwiIGlzLW9wZW49XCJwb3B1cDIub3BlbmVkXCIgY2xvc2UtdGV4dD1cIkNsb3NlXCIgZGF0ZXBpY2tlci1vcHRpb25zPVwiZGF0ZU9wdGlvbnNcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgbmctY2hhbmdlPVwiZGF0YUNoYW5nZWQobmdNb2RlbClcIiAgbmctcmVxdWlyZWQ9XCJ7e2hjT3B0aW9ucy5Jc1JlcXVpcmVkfX1cIiBuZy1yZWFkb25seT1cInt7aGNPcHRpb25zLklzUmVhZE9ubHl9fVwiIG5nLXBhdHRlcm49XCJ7e2hjT3B0aW9ucy5QYXR0ZXJufX1cIiBuZy12YWx1ZT1cInt7aGNPcHRpb25zLkRlZmF1bHRWYWx1ZX19XCIgIC8+JztcclxuICAgICAgICAgICAgcmVzdWx0ICs9ICc8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWJ0blwiIG5nLWhpZGU9XCJ7e2hjT3B0aW9ucy5Jc1JlYWRPbmx5fX1cIj4nO1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGVmYXVsdFwiIG5nLWNsaWNrPVwib3BlbjIoKVwiPjxpIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1jYWxlbmRhclwiPjwvaT48L2J1dHRvbj4nO1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gJzwvc3Bhbj4nO1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBtb21lbnQ6IGFueSkge1xyXG4gICAgICAgICAgICB0aGlzLmxpbmsgPSB0aGlzLnVuYm91bmRMaW5rLmJpbmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1bmJvdW5kTGluayA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcywgbmdNb2RlbENvbnRyb2xsZXI6IG5nLklOZ01vZGVsQ29udHJvbGxlcikgPT4ge1xyXG5cclxuICAgICAgICAgICAgc2NvcGUuZGF0ZUZvcm1hdCA9IFwiZGQvTU0veXl5eVwiO1xyXG4gICAgICAgICAgICBzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIC8vZGF0ZURpc2FibGVkOiBkaXNhYmxlZCxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXRZZWFyOiAneXl5eScsXHJcbiAgICAgICAgICAgICAgICBtYXhEYXRlOiAoYW5ndWxhci5pc0RhdGUoc2NvcGUuaGNPcHRpb25zLkRhdGVNYXhWYWx1ZSkgPyBuZXcgRGF0ZShzY29wZS5oY09wdGlvbnMuRGF0ZU1heFZhbHVlKSA6IG51bGwpLFxyXG4gICAgICAgICAgICAgICAgbWluRGF0ZTogKGFuZ3VsYXIuaXNEYXRlKHNjb3BlLmhjT3B0aW9ucy5EYXRlTWluVmFsdWUpID8gbmV3IERhdGUoc2NvcGUuaGNPcHRpb25zLkRhdGVNaW5WYWx1ZSkgOiBudWxsKSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nRGF5OiA2LCAvL21lYW5zIFNhdHVyZGF5XHJcbiAgICAgICAgICAgICAgICAvL25nTW9kZWxPcHRpb25zOiB7IHRpbWV6b25lOiBcImdtdFwiIH0gLy8gdG8gZml4IHRoZSBwcm9ibGVtIHdpdGggdGhlIGRhdGUgdmFsdWUgaWYgaXQgZ2V0IC0xIGRhdGUgXHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBEaXNhYmxlIHdlZWtlbmQgc2VsZWN0aW9uXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRpc2FibGVkKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gZGF0YS5kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGUgPSBkYXRhLm1vZGU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZSA9PT0gJ2RheScgJiYgKGRhdGUuZ2V0RGF5KCkgPT09IDAgfHwgZGF0ZS5nZXREYXkoKSA9PT0gNik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLm9wZW4yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUucG9wdXAyLm9wZW5lZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzY29wZS5wb3B1cDIgPSB7XHJcbiAgICAgICAgICAgICAgICBvcGVuZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzY29wZS5kYXRhQ2hhbmdlZCA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kbW9kZWxWYWx1ZSA9IGdldFJpZ2h0RGF0ZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSBuZ01vZGVsQ29udHJvbGxlci4kbW9kZWxWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oY0V2ZW50cyAmJiBzY29wZS5oY0V2ZW50cy5kZWZhdWx0QWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24oZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB0b1ZpZXcgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgICAgICAvL2lmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB2YWwgPSBuZXcgRGF0ZSh2YWwpO1xyXG4gICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGdldFJpZ2h0RGF0ZSA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkgfHwgaXNOYU4oZGF0YSkpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVN0cmluZzogc3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVN0cmluZyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlU3RyaW5nID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuZGF0ZVRvSnNvblN0cmluZyhkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kcGFyc2Vycy5wdXNoKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL1ZpZXcgLT4gTW9kZWxcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRSaWdodERhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9uZ01vZGVsQ29udHJvbGxlci4kZm9ybWF0dGVycy5wdXNoKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgIC8vTW9kZWwgLT4gVmlld1xyXG4gICAgICAgICAgICAvLyAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkpXHJcbiAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgLy8gICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICB2YXIgZGF0ZVN0cmluZzogc3RyaW5nO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiKVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBkYXRhO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5EYXRlVG9Kc29uU3RyaW5nKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgIHZhciBkID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAvL3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgZC5nZXREYXRlKCkpKTtcclxuICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiB0aGlzLm1vbWVudChkLCAnREQvTU0vWVlZWScpLnV0YygpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgLy99KTtcclxuXHJcblxyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25nTW9kZWwnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVTdHJpbmc6IHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGRhdGVTdHJpbmcgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5EYXRlVG9Kc29uU3RyaW5nKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubmdNb2RlbCA9IG5ldyBEYXRlKERhdGUuVVRDKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBkLmdldERhdGUoKSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgIChtb21lbnQ6IGFueSkgPT4gbmV3IEhjbXNEYXRlKG1vbWVudCk7XHJcblxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcIm1vbWVudFwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNEYXRlJywgSGNtc0RhdGUuRmFjdG9yeSgpKTtcclxuXHJcbn0iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgLy9leHBvcnQgY2xhc3MgSGNtc1NlbGVjdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgIC8vICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAvLyAgICBwdWJsaWMgcmVxdWlyZTogc3RyaW5nID0gXCJebmdNb2RlbFwiO1xyXG4gICAgLy8gICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAvLyAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgIC8vICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgIC8vICAgICAgICBoY0FwaVVybDogXCI9P1wiLFxyXG4gICAgLy8gICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgIC8vICAgIH1cclxuXHJcblxyXG4gICAgLy8gICAgY29uc3RydWN0b3IocHVibGljIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHB1YmxpYyBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlKSB7XHJcblxyXG4gICAgLy8gICAgfVxyXG5cclxuICAgIC8vICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAvLyAgICAgICAgc2NvcGUuaXRlbXMgPSBbXTtcclxuICAgIC8vICAgICAgICB2YXIgdmFsdWVNZW1lYmVyID0gc2NvcGUuaGNPcHRpb25zLlNlbGVjdERpc3BsYXlWYWx1ZTtcclxuICAgIC8vICAgICAgICB2YXIgZGlzcGxheU1lbWJlciA9IHNjb3BlLmhjT3B0aW9ucy5TZWxlY3REaXNwbGF5TmFtZTtcclxuICAgIC8vICAgICAgICB2YXIgc2VhcmNoUGFyYW1zID0gc2NvcGUuaGNPcHRpb25zLlNlbGVjdFNlYXJjaEZpZWxkcztcclxuICAgIC8vICAgICAgICB2YXIgaHRtbERhdGEgPSBzY29wZS5oY09wdGlvbnMuU2VsZWN0SHRtbERhdGE7XHJcbiAgICAvLyAgICAgICAgdmFyIHNlYXJjaFBhcmFtc1N0ciA9ICd7JztcclxuICAgIC8vICAgICAgICBzZWFyY2hQYXJhbXNTdHIgKz0gdmFsdWVNZW1lYmVyICsgJzogJHNlbGVjdC5zZWFyY2gsJztcclxuICAgIC8vICAgICAgICBzZWFyY2hQYXJhbXNTdHIgKz0gZGlzcGxheU1lbWJlciArICc6ICRzZWxlY3Quc2VhcmNoLCc7XHJcblxyXG4gICAgLy8gICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKHNlYXJjaFBhcmFtcykpIHtcclxuICAgIC8vICAgICAgICAgICAgdmFyIHNlYXJjaEFycmF5ID0gc2VhcmNoUGFyYW1zLnNwbGl0KFwiLFwiKTtcclxuICAgIC8vICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlYXJjaEFycmF5LCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1zU3RyICs9IHZhbHVlICsgJzogJHNlbGVjdC5zZWFyY2gsJztcclxuICAgIC8vICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgfVxyXG5cclxuICAgIC8vICAgICAgICBzY29wZS5vblNlbGVjdGVkID0gZnVuY3Rpb24gKGl0ZW0sIHNlbGVjdGVkKSB7XHJcbiAgICAvLyAgICAgICAgICAgIGlmIChzY29wZS5oY0V2ZW50cyAmJiBzY29wZS5oY0V2ZW50cy5kZWZhdWx0QWN0aW9uKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICBzY29wZS5oY0V2ZW50cy5kZWZhdWx0QWN0aW9uKGl0ZW0sIHNlbGVjdGVkKTtcclxuICAgIC8vICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIH07XHJcblxyXG4gICAgLy8gICAgICAgIHNlYXJjaFBhcmFtc1N0ciArPSAnfSc7XHJcbiAgICAvLyAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxzZWxlY3QgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAgIG5nLW1vZGVsPVwibmdNb2RlbFwiICBuZy1vcHRpb25zPVwiaXRlbS4nICsgdmFsdWVNZW1lYmVyICsgJyBhcyBpdGVtLicgKyBkaXNwbGF5TWVtYmVyICsgJyBmb3IgaXRlbSBpbiBpdGVtc1wiICBzZWxlY3QyICBuZy1jaGFuZ2U9XCJoY0V2ZW50cy5kZWZhdWx0QWN0aW9uKG5nTW9kZWwpXCIgIG5nLXJlcXVpcmVkPVwie3toY09wdGlvbnMuSXNSZXF1aXJlZH19XCIgbmctZGlzYWJsZWQ9XCJ7e2hjT3B0aW9ucy5Jc1JlYWRPbmx5fX1cIiBuZy1oaWRlPVwie3toY09wdGlvbnMuSXNIaWRkZW59fVwiPjxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj48L3NlbGVjdD4nO1xyXG5cclxuXHJcbiAgICAvLyAgICAgICAgZWxlbWVudC5odG1sKHRlbXBsYXRlKTtcclxuICAgIC8vICAgICAgICB0aGlzLmNvbXBpbGVyKGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xyXG4gICAgLy8gICAgICAgIC8vc2NvcGUuaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0VpZCcgfSwgeyBpZDogMiwgbmFtZTogJ0FobWVkJyB9LCB7IGlkOiAzLCBuYW1lOiAnTW9yc3knIH0sIHsgaWQ6IDQsIG5hbWU6ICdNb2hhbWVkZWVuJyB9LCB7IGlkOiA1LCBuYW1lOiAndGVzdDUnIH0sIHsgaWQ6IDYsIG5hbWU6ICd0ZXN0NicgfV07IFxyXG4gICAgLy8gICAgICAgIHNjb3BlLmNsZWFyID0gZnVuY3Rpb24gKCRldmVudCkge1xyXG4gICAgLy8gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAvLyAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSB1bmRlZmluZWQ7XHJcbiAgICAvLyAgICAgICAgfTtcclxuICAgIC8vICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5oY0FwaVVybCkpIHtcclxuICAgIC8vICAgICAgICAgICAgLy8gdmFyIHVybCA9IGFwcENvbmZpZy53ZWJBcGlVcmwgKyBzY29wZS5oY0FwaVVybDtcclxuICAgIC8vICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0QnlVcmwoc2NvcGUuaGNBcGlVcmwsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gcmVzdWx0LmRhdGE7XHJcbiAgICAvLyAgICAgICAgICAgIH0pXHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhzY29wZS5oY09wdGlvbnMuU2VsZWN0QXBpVXJsKSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0QnlVcmwoc2NvcGUuaGNPcHRpb25zLlNlbGVjdEFwaVVybCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gcmVzdWx0LmRhdGE7XHJcbiAgICAvLyAgICAgICAgICAgICAgICB9KVxyXG4gICAgLy8gICAgICAgICAgICB9XHJcblxyXG4gICAgLy8gICAgICAgIH1cclxuXHJcbiAgICAvLyAgICB9XHJcblxyXG4gICAgLy8gICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgLy8gICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgIC8vICAgICAgICAgICAgKGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UpID0+IG5ldyBIY21zU2VsZWN0KGRiTWFuYWdlciwgY29tcGlsZXIpO1xyXG5cclxuICAgIC8vICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcImRhdGFNYW5hZ2VyU2VydmljZVwiLCBcIiRjb21waWxlXCJdO1xyXG4gICAgLy8gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAvLyAgICB9XHJcblxyXG4gICAgLy99XHJcblxyXG4gICAgLy9oY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zU2VsZWN0JywgSGNtc1NlbGVjdC5GYWN0b3J5KCkpO1xyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc1NlbGVjdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyByZXF1aXJlOiBzdHJpbmcgPSBcIl5uZ01vZGVsXCI7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjT3B0aW9uczogXCI9XCIsXHJcbiAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0FwaVVybDogXCI9P1wiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiLFxyXG4gICAgICAgICAgICBoY0RvbnRMb2FkRGF0YTogXCI9P1wiXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHVibGljIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHB1YmxpYyBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5pdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVNZW1lYmVyID0gc2NvcGUuaGNPcHRpb25zLlNlbGVjdERpc3BsYXlWYWx1ZTtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlNZW1iZXIgPSBzY29wZS5oY09wdGlvbnMuU2VsZWN0RGlzcGxheU5hbWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlNZW1iZXIgPSBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT0gJ3J0bCcgPyBzY29wZS5oY09wdGlvbnMuU2VsZWN0RGlzcGxheU5hbWVfIDogc2NvcGUuaGNPcHRpb25zLlNlbGVjdERpc3BsYXlOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy92YXIgZGVmYXVsdHZhbHVlID0gc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vc2NvcGUuZmlsdGVyRmllbGQgPSAnJztcclxuXHJcbiAgICAgICAgICAgIHZhciBzZXRBcGlGdW5jdGlvbnMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNPcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5hcGkgPSB7fVxyXG4gICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaS5zZXRJdGVtc0xpc3QgPSBzZXRJdGVtc0xpc3Q7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzZXRJdGVtc0xpc3QgPSAoZGF0YSwgY2FsbEJhY2s/KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5pdGVtcyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbEJhY2sgIT0gbnVsbCAmJiBhbmd1bGFyLmlzRGVmaW5lZChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgZmlsdGVyOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgIHNlbGVjdDIgIG5nLW1vZGVsPVwibmdNb2RlbFwiICBuZy1vcHRpb25zPVwiaXRlbS4nICsgdmFsdWVNZW1lYmVyICsgJyBhcyBpdGVtLicgKyBkaXNwbGF5TWVtYmVyICsgJyBmb3IgaXRlbSBpbiBpdGVtc1wiICBuZy1jaGFuZ2U9XCJzZWxlY3RDaGFuZ2VkKG5nTW9kZWwpXCIgIG5nLXJlcXVpcmVkPVwie3toY09wdGlvbnMuSXNSZXF1aXJlZH19XCIgbmctZGlzYWJsZWQ9XCJ7e2hjT3B0aW9ucy5Jc1JlYWRPbmx5fX1cIiBuZy1oaWRlPVwie3toY09wdGlvbnMuSXNIaWRkZW59fVwiPjxvcHRpb24gdmFsdWU9XCJcIj4uLi48L29wdGlvbj48L3NlbGVjdD4nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLnJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmZpbGxEYXRhKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy9zY29wZS4kd2F0Y2goJ3Njb3BlLmZpbHRlckZpZWxkJywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICBpZiAobmV3VmFsdWUgIT0gbnVsbCAmJiBuZXdWYWx1ZSAhPSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgc2NvcGUuZmlsbERhdGEobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5zZWxlY3RDaGFuZ2VkID0gKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNFdmVudHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNFdmVudHMuZGVmYXVsdEFjdGlvbiAhPT0gdW5kZWZpbmVkICYmIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24gIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24odmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNFdmVudHMuc2VsZWN0ZWRJdGVtQ2hhbmdlZCAhPT0gdW5kZWZpbmVkICYmIHNjb3BlLmhjRXZlbnRzLnNlbGVjdGVkSXRlbUNoYW5nZWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBzY29wZS5pdGVtcy5maW5kKHggPT4geFtzY29wZS5oY09wdGlvbnMuU2VsZWN0RGlzcGxheVZhbHVlXSA9PSB2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNFdmVudHMuc2VsZWN0ZWRJdGVtQ2hhbmdlZChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2NvcGUuZmlsbERhdGEgPSAoZmlsdGVyOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5pc1N0cmluZyhzY29wZS5oY0FwaVVybCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5oY0FwaVVybCA9IFwiTG9va3Vwcy9HZXREYXRhLz9kcm9wRG93bklkPVwiICsgc2NvcGUuaGNPcHRpb25zLkRyb3BEb3duSWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKGZpbHRlcikgJiYgZmlsdGVyICE9ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBzY29wZS5oY0FwaVVybCArPSBcIiZmaWx0ZXI9XCIgKyBmaWx0ZXI7XHJcbiAgICAgICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXRCeVVybChzY29wZS5oY0FwaVVybCwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUgJiYgc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZSAhPT0gbnVsbCAmJiBzY29wZS5oY09wdGlvbnMuRGVmYXVsdFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSBldmFsKHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuaGNEb250TG9hZERhdGEgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmZpbGxEYXRhKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgc2V0QXBpRnVuY3Rpb25zKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgIChkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlKSA9PiBuZXcgSGNtc1NlbGVjdChkYk1hbmFnZXIsIGNvbXBpbGVyKTtcclxuXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIFwiJGNvbXBpbGVcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zU2VsZWN0JywgSGNtc1NlbGVjdC5GYWN0b3J5KCkpO1xyXG5cclxuXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNTZWxlY3QyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBJztcclxuICAgICAgICBwdWJsaWMgcmVxdWlyZTogc3RyaW5nID0gXCJebmdNb2RlbFwiO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICAnbmdNb2RlbCc6ICc9J1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbjogc3RyaW5nID0gJ2x0cic7XHJcblxyXG4gICAgICAgICAgICBpZiAoSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbyAhPT0gbnVsbCAmJiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlICE9PSB1bmRlZmluZWQgJiYgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nRGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbjtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXI6IGRpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50LnNlbGVjdDIoe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgIGRpcjogZGlyZWN0aW9uXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmdNb2RlbCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2VsZWN0Mih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcjogZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfSkudmFsKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UpID0+IG5ldyBIY21zU2VsZWN0Mihjb21waWxlcik7XHJcblxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcIiRjb21waWxlXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnc2VsZWN0MicsIEhjbXNTZWxlY3QyLkZhY3RvcnkoKSk7XHJcblxyXG59XHJcblxyXG4iLCJcclxubW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNFbWFpbCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG4gICAgICAgIHB1YmxpYyByZXF1aXJlID0gXCJebmdNb2RlbFwiO1xyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjT3B0aW9uczogXCI9XCIsXHJcbiAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHVibGljIHRlbXBsYXRlID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnPGlucHV0IHR5cGU9XCJlbWFpbFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0LXhzXCIgcGxhY2Vob2xkZXI9XCJzb21lb25lQGV4YW1wbGUuY29tXCIgbmctbW9kZWw9XCJuZ01vZGVsXCInICsgbmdIY21zT3B0aW9ucygpICsgJyBuZy1jaGFuZ2U9XCJoY0V2ZW50cy5kZWZhdWx0QWN0aW9uKG5nTW9kZWwpXCIgLz4nO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSGNtc0VtYWlsKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zRW1haWwnLCBIY21zRW1haWwuRmFjdG9yeSgpKTtcclxufVxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBoY21zRmlsZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVxdWlyZSA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBoY09wdGlvbnM6IFwiPVwiLFxyXG4gICAgICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgICAgICAgICAgaGNFdmVudHM6IFwiQD9cIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzxpbnB1dCB0eXBlPVwiZmlsZVwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0LXhzXCIgbmctbW9kZWw9XCJuZ01vZGVsXCIgICcgKyBuZ0hjbXNPcHRpb25zKCkgKyAnIG5nLWNoYW5nZT1cImhjRXZlbnRzLmRlZmF1bHRBY3Rpb24obmdNb2RlbClcIiAvPic7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgQ2hlY2tCb3goKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNGaWxlJywgaGNtc0ZpbGUuRmFjdG9yeSgpKTtcclxufVxyXG4iLCJcclxubW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNDb21tZW50IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmUgPSBcIl5uZ01vZGVsXCI7XHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0FFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgbmdNb2RlbDogXCI9XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9ICc8dGV4dGFyZWEgIG5nLW1vZGVsPVwibmdNb2RlbFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgcm93cz1cIjNcIiAnICsgbmdIY21zT3B0aW9ucygpICsgJyBuZy1jaGFuZ2U9XCJoY0V2ZW50cy5kZWZhdWx0QWN0aW9uKG5nTW9kZWwpXCIgPjwvdGV4dGFyZWE+JztcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBIY21zQ29tbWVudCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc0NvbW1lbnQnLCBIY21zQ29tbWVudC5GYWN0b3J5KCkpO1xyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc011bHRpU2VsZWN0IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmU6IHN0cmluZyA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgbmdNb2RlbDogXCI9XCIsXHJcbiAgICAgICAgICAgIGhjQXBpVXJsOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRG9udExvYWREYXRhOiBcIj0/XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwdWJsaWMgY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZSwgcHVibGljIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgc2NvcGUuaXRlbXMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlTWVtZWJlciA9IHNjb3BlLmhjT3B0aW9ucy5TZWxlY3REaXNwbGF5VmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5TWVtYmVyID0gc2NvcGUuaGNPcHRpb25zLlNlbGVjdERpc3BsYXlOYW1lO1xyXG5cclxuICAgICAgICAgICAgaWYgKEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbykpIHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TWVtYmVyID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nRGlyZWN0aW9uID09ICdydGwnID8gc2NvcGUuaGNPcHRpb25zLlNlbGVjdERpc3BsYXlOYW1lXyA6IHNjb3BlLmhjT3B0aW9ucy5TZWxlY3REaXNwbGF5TmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiIG11bHRpcGxlLXNlbGVjdCBuZy1tdWx0aXBsZT1cInRydWVcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgbmctb3B0aW9ucz1cIml0ZW0uJyArIHZhbHVlTWVtZWJlciArICcgYXMgaXRlbS4nICsgZGlzcGxheU1lbWJlciArICcgZm9yIGl0ZW0gaW4gaXRlbXNcIiAgICAgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiICBuZy1yZXF1aXJlZD1cInt7aGNPcHRpb25zLklzUmVxdWlyZWR9fVwiIG5nLWRpc2FibGVkPVwie3toY09wdGlvbnMuSXNSZWFkT25seX19XCIgbmctaGlkZT1cInt7aGNPcHRpb25zLklzSGlkZGVufX1cIj48L3NlbGVjdD4nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcblxyXG4gICAgICAgICAgICAvL3Njb3BlLmNsZWFyID0gKCRldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIC8vICAgIHNjb3BlLm5nTW9kZWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIC8vfTtcclxuXHJcblxyXG4gICAgICAgICAgICBzY29wZS5oY09wdGlvbnMucmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmhjQXBpVXJsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjQXBpVXJsID0gXCJMb29rdXBzL0dldERhdGEvP2Ryb3BEb3duSWQ9XCIgKyBzY29wZS5oY09wdGlvbnMuRHJvcERvd25JZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXRCeVVybChzY29wZS5oY0FwaVVybCwgc3VjY2VzcylcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIChhbmd1bGFyLmlzU3RyaW5nKHNjb3BlLmhjQXBpVXJsKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdGhpcy5kYk1hbmFnZXIuR2V0QnlVcmwoc2NvcGUuaGNBcGlVcmwsIHN1Y2Nlc3MpO1xyXG4gICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAvL2Vsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoc2NvcGUuaGNPcHRpb25zLlNlbGVjdEFwaVVybCkpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXRCeVVybChzY29wZS5oY09wdGlvbnMuU2VsZWN0QXBpVXJsLCBzdWNjZXNzKTtcclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICQoZWxlbWVudCkuY2hpbGRyZW4oJ3NlbGVjdCcpLm11bHRpcGxlU2VsZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5oY09wdGlvbnMuRGVmYXVsdFZhbHVlICYmIHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUgIT09IG51bGwgJiYgc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5uZ01vZGVsID0gZXZhbChzY29wZS5oY09wdGlvbnMuRGVmYXVsdFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3BlLmhjRG9udExvYWREYXRhICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEhjbXNNdWx0aVNlbGVjdChkYk1hbmFnZXIsIGNvbXBpbGVyLCB0aW1lb3V0KTtcclxuXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIFwiJGNvbXBpbGVcIiwgXCIkdGltZW91dFwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNNdWx0aVNlbGVjdCcsIEhjbXNNdWx0aVNlbGVjdC5GYWN0b3J5KCkpO1xyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgTXVsdGlwbGVTZWxlY3QgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0EnO1xyXG4gICAgICAgIHB1YmxpYyB0cmFuc2NsdWRlID0gdHJ1ZTtcclxuICAgICAgICBwdWJsaWMgcmVxdWlyZTogc3RyaW5nID0gXCJebmdNb2RlbFwiO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBuZ01vZGVsOiAnPSdcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZSwgcHVibGljIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMsIGNvbnRyb2xsZXI6IG5nLklDb250cm9sbGVyLCB0cmFuc2NsdWRlcjogbmcuSVRyYW5zY2x1ZGVGdW5jdGlvbikgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0KCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0cmFuc2NsdWRlcigoY2xvbmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5tdWx0aXBsZVNlbGVjdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLnRvZ2dsZSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0sIDIwMCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZSwgdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgTXVsdGlwbGVTZWxlY3QoY29tcGlsZXIsIHRpbWVvdXQpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCIkY29tcGlsZVwiLCBcIiR0aW1lb3V0XCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnbXVsdGlwbGVTZWxlY3QnLCBNdWx0aXBsZVNlbGVjdC5GYWN0b3J5KCkpO1xyXG5cclxufVxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zTnVtYmVyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmUgPSBcIl5uZ01vZGVsXCI7XHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0FFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgbmdNb2RlbDogXCI9XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9ICc8aW5wdXQgdHlwZT1cIm51bWJlclwiICBzdGVwPVwiMC4xXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXQteHNcIiBuZy1taW49XCJ7e2hjT3B0aW9ucy5OdW1iZXJNaW5WYWx1ZX19XCIgbmctbWF4PVwie3toY09wdGlvbnMuTnVtYmVyTWF4VmFsdWV9fVwiIG5nLW1vZGVsPVwibmdNb2RlbFwiJyArIG5nSGNtc09wdGlvbnMoKSArICcgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiIC8+JztcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBIY21zTnVtYmVyKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zTnVtYmVyJywgSGNtc051bWJlci5GYWN0b3J5KCkpO1xyXG59XHJcblxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc1Byb2dyZXNzQmFyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdDogc3RyaW5nID0gJ0FFJztcclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9IGBcclxuPGRpdiBjbGFzcz1cInJvd1wiID5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlxyXG4gICAgICAgICAgICAgICAgU3RhcnRUaW1lIDoge3toY09wdGlvbnMuZm9ybWF0ZWRTdGFydFRpbWV9fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XHJcbiAgICAgICAgICAgICAgICBEdXJhdGlvbiA6IHt7aGNPcHRpb25zLmZvcm1hdGVkRHVyYXRpb259fVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+XHJcbiAgICAgICAgICAgICAgICBSZW1haW5pbmcgVGltZSA6IHt7aGNPcHRpb25zLmZvcm1hdGVkUmVtYWluaW5nVGltZX19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPlxyXG4gICAgICAgICAgICAgICAgPHVpYi1wcm9ncmVzc2JhciBtYXg9XCJoY09wdGlvbnMucHJvZ3Jlc3NNYXhcIiB2YWx1ZT1cImhjT3B0aW9ucy5wcm9ncmVzc1ZhbHVlXCIgY2xhc3M9XCJwcm9ncmVzcy1zdHJpcGVkIGFjdGl2ZVwiIHR5cGU9XCJ7e3Byb2dyZXNzVHlwZX19XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJjb2xvcjpibGFjazsgd2hpdGUtc3BhY2U6bm93cmFwO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7e2hjT3B0aW9ucy5wcm9ncmVzc1ZhbHVlfX0gLyB7e2hjT3B0aW9ucy5wcm9ncmVzc01heH19ICAgICBQZXJjZW50OiB7e2hjT3B0aW9ucy5wcm9ncmVzc1BlcmNlbnR9fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvdWliLXByb2dyZXNzYmFyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuYDtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgaGNFdmVudHM6IFwiPT9cIixcclxuICAgICAgICAgICAgcHJvZ3Jlc3NJZDogXCI9XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHVibGljIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHB1YmxpYyBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlLCBwdWJsaWMgdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlLCBwdWJsaWMgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZSwgcHVibGljIGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcGlsZTogbmcuSURpcmVjdGl2ZUNvbXBpbGVGbiA9IChlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJlOiAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjT3B0aW9ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlVGV4dCA9ICh0ZXh0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY29wZS4kd2F0Y2goJ3Byb2dyZXNzSWQnLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgc2V0QXBpRnVuY3Rpb25zKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLiR3YXRjaCgnaGNPcHRpb25zJywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHNldEFwaUZ1bmN0aW9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL30pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0QXBpRnVuY3Rpb25zID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNPcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5hcGkgPSB7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuYXBpLnN0YXJ0UHJvZ3Jlc3MgPSBzdGFydFByb2dyZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuYXBpLnN0b3BQcm9ncmVzcyA9IHN0b3BQcm9ncmVzcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nID0gY2hlY2tJZlByb2dyZXNzUnVubmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaS5zZXRQcm9ncmVzc0lkID0gc2V0UHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRDb21tb25QYXJhbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiZ1c2VySWQ9XCIgKyBjdXJyZW50SW5mby5Vc2VyLlVzZXJJZCArIFwiJmxhbmdJZD1cIiArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZCArIFwiJmNvbXBhbnlJZD1cIiArIGN1cnJlbnRJbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFByb2dyZXNzRGF0YSA9IChjYWxsYmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUucHJvZ3Jlc3NJZCkgfHwgKHNjb3BlLnByb2dyZXNzSWQgPT0gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3Byb2dyZXNzSWQ9JyArIHNjb3BlLnByb2dyZXNzSWQgKyBnZXRDb21tb25QYXJhbXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdTeXN0ZW1Qcm9ncmVzcycsICdHZXRCeVByb2dyZXNzSWQnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9ncmVzc09wdGlvbnMocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Qcm9ncmVzc0NhbGNTdGF0dXNJZCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5zdG9wUHJvZ3Jlc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0UHJvZ3Jlc3NPcHRpb25zID0gKHByb2dyZXNzRGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzVmFsdWUgPSBwcm9ncmVzc0RhdGEuUHJvZ3Jlc3NWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzTWF4ID0gcHJvZ3Jlc3NEYXRhLlByb2dyZXNzTWF4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzVmFsdWUgPT0gc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzTWF4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEludGVydmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRQcm9ncmVzc0lkID0gKHByb2dyZXNzSWQsIGNhbGxCYWNrKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5wcm9ncmVzc0lkID0gcHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxCYWNrICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRQcm9ncmVzcyA9IChjYWxsQmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmZvcm1hdGVkU3RhcnRUaW1lID0gdGhpcy5maWx0ZXIoJ2RhdGUnKShuZXcgRGF0ZSgpLCAnSEg6bW06c3MnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydEludGVydmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbEJhY2sgIT0gbnVsbCAmJiBhbmd1bGFyLmlzRGVmaW5lZChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcFByb2dyZXNzID0gKGNhbGxCYWNrKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUucHJvZ3Jlc3NJZCkgfHwgKHNjb3BlLnByb2dyZXNzSWQgPT0gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3Byb2dyZXNzSWQ9JyArIHNjb3BlLnByb2dyZXNzSWQgKyBcIiZ1c2VySWQ9XCIgKyBjdXJyZW50SW5mby5Vc2VyLlVzZXJJZCArIFwiJmNvbXBhbnlJZD1cIiArIGN1cnJlbnRJbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KCdTeXN0ZW1Qcm9ncmVzcycsICdTdG9wUHJvZ3Jlc3MnLCBxdWVyeVN0cmluZywgbnVsbCwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BJbnRlcnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjayAhPSBudWxsICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyR0aW1lb3V0LmNhbmNlbCh0aWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZ3Jlc3NJbnRlcnZhbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRJbnRlcnZhbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UHJvZ3Jlc3NEYXRhKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVQZXJjZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlVGltZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BJbnRlcnZhbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChwcm9ncmVzc0ludGVydmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbC5jYW5jZWwocHJvZ3Jlc3NJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0ludGVydmFsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEludGVydmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGVja0lmUHJvZ3Jlc3NSdW5uaW5nID0gKHJ1bm5pbmdDYWxsQmFjaywgbm90UnVubmluZ0NhbGxCYWNrKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUucHJvZ3Jlc3NJZCkgfHwgKHNjb3BlLnByb2dyZXNzSWQgPT0gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz9wcm9ncmVzc0lkPScgKyBzY29wZS5wcm9ncmVzc0lkICsgXCImdXNlcklkPVwiICsgY3VycmVudEluZm8uVXNlci5Vc2VySWQgKyBcIiZjb21wYW55SWQ9XCIgKyBjdXJyZW50SW5mby5Db21wYW55LkNvbXBhbnlJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ1N5c3RlbVByb2dyZXNzJywgJ0lzUHJvZ3Jlc3NSdW5uaW5nJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuUnVubmluZ1N0YXR1cyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ0NhbGxCYWNrICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQocnVubmluZ0NhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90UnVubmluZ0NhbGxCYWNrICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQobm90UnVubmluZ0NhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RSdW5uaW5nQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHRpbWVvdXQuY2FuY2VsKHRpY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxjdWxhdGVQZXJjZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMucHJvZ3Jlc3NQZXJjZW50ID0gc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzVmFsdWUgLyBzY29wZS5oY09wdGlvbnMucHJvZ3Jlc3NNYXggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5wcm9ncmVzc1BlcmNlbnQgPSBNYXRoLmZsb29yKHNjb3BlLmhjT3B0aW9ucy5wcm9ncmVzc1BlcmNlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzY29wZS5oY09wdGlvbnMucHJvZ3Jlc3NQZXJjZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMjUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnZGFuZ2VyJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3dhcm5pbmcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIDwgNzUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnaW5mbyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ3N1Y2Nlc3MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5wcm9ncmVzc1R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZVRpbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzY29wZS5oY09wdGlvbnMucHJvZ3Jlc3NWYWx1ZSkgfHwgc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzVmFsdWUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5kdXJhdGlvblNlY29uZHMgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5kYXRlRGlmZlNlY29uZHMoc2NvcGUuaGNPcHRpb25zLnN0YXJ0VGltZSwgY3VycmVudFRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuZm9ybWF0ZWREdXJhdGlvbiA9IGdldEZvcm1hdGVkRHVyYXRpb24oc2NvcGUuaGNPcHRpb25zLmR1cmF0aW9uU2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5mb3JtYXRlZFJlbWFpbmluZ1RpbWUgPSBnZXRGb3JtYXRlZFJlbWFpbmluZ1RpbWUoc2NvcGUuaGNPcHRpb25zLnN0YXJ0VGltZSwgc2NvcGUuaGNPcHRpb25zLnByb2dyZXNzVmFsdWUsIHNjb3BlLmhjT3B0aW9ucy5wcm9ncmVzc01heCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldEZvcm1hdGVkRHVyYXRpb24gPSBmdW5jdGlvbiAoc2Vjb25kcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5cyA9IE1hdGguZmxvb3IoaG91cnMgLyAyNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gXCJEYXlzOlwiICsgZGF5cyArIFwiICBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSBob3VycyAtIChkYXlzICogMjQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91cnMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiArPSBwYWQoaG91cnMsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gcGFkKDAsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gbWludXRlcyAtIChob3VycyAqIDYwKSAtIChkYXlzICogMjQgKiA2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW51dGVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gKz0gXCI6XCIgKyBwYWQobWludXRlcywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiArPSBcIjpcIiArIHBhZCgwLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHNlY29uZHMgLSAobWludXRlcyAqIDYwKSAtIChob3VycyAqIDYwICogNjApIC0gKGRheXMgKiAyNCAqIDYwICogNjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gTWF0aC5mbG9vcihzZWNvbmRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbiArPSBcIjpcIiArIHBhZChzZWNvbmRzLCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uICs9IFwiOlwiICsgcGFkKDAsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHVyYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFkKG51bSwgc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG51bSArIFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzLmxlbmd0aCA8IHNpemUpIHMgPSBcIjBcIiArIHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldEZvcm1hdGVkUmVtYWluaW5nVGltZSA9IChzdGFydFRpbWUsIGN1cnJlbnRDb3VudCwgbWF4Q291bnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlY29uZHMgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5kYXRlRGlmZlNlY29uZHMoc3RhcnRUaW1lLCBjdXJyZW50VGltZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nQ291bnQgPSBtYXhDb3VudCAtIGN1cnJlbnRDb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZ1NlY29uZHMgPSByZW1haW5pbmdDb3VudCAqIHNlY29uZHMgLyBjdXJyZW50Q291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0ZWQgPSBnZXRGb3JtYXRlZER1cmF0aW9uKHJlbWFpbmluZ1NlY29uZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0ZWRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBcGlGdW5jdGlvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcG9zdDogKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9saW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAodHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlLCB0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIGZpbHRlcjogbmcuSUZpbHRlclNlcnZpY2UsIGludGVydmFsOiBuZy5JSW50ZXJ2YWxTZXJ2aWNlKSA9PiBuZXcgSGNtc1Byb2dyZXNzQmFyKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgY29tcGlsZXIsIHRpbWVvdXQsIGZpbHRlciwgaW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIFwiJGNvbXBpbGVcIiwgXCIkdGltZW91dFwiLCBcIiRmaWx0ZXJcIiwgXCIkaW50ZXJ2YWxcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc1Byb2dyZXNzQmFyJywgSGNtc1Byb2dyZXNzQmFyLkZhY3RvcnkoKSk7XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zUHJvZ3Jlc3NDYWxjIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdDogc3RyaW5nID0gJ0FFJztcclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9IGBcclxuPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgw5dcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+e3toY09wdGlvbnMucHJvZ3Jlc3NUaXRsZX19PC9oND5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGhjbXMtcHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWlkPVwicHJvZ3Jlc3NJZFwiIGhjLW9wdGlvbnM9XCJwcm9ncmVzc09wdGlvbnNcIj48L2hjbXMtcHJvZ3Jlc3MtYmFyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHNtYXJ0LWdyaWQgb3B0aW9ucz1cImVycm9yR3JpZE9wdGlvbnNcIiBjb2x1bW4tZGVmcz1cImVycm9yR3JpZENvbHVtbnNcIiBkYXRhPVwiZXJyb3JMb2dEYXRhXCI+PC9zbWFydC1ncmlkPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRlZmF1bHRcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgQ2xvc2VcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj4gXHJcbjwvZGl2PiBcclxuYDtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgdGl0bGU6IFwiPT9cIixcclxuICAgICAgICAgICAgcHJvZ3Jlc3NJZDogXCI9XCIsXHJcbiAgICAgICAgICAgIHByb2dyZXNzVHlwZUlkOiBcIj0/XCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHVibGljIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgcHJvZ3Jlc3NUeXBlU2VydmljZTogUHJvZ3Jlc3NUeXBlU2VydmljZSwgcHVibGljIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHB1YmxpYyB0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UsIHB1YmxpYyBmaWx0ZXI6IG5nLklGaWx0ZXJTZXJ2aWNlLCBwdWJsaWMgaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29tcGlsZTogbmcuSURpcmVjdGl2ZUNvbXBpbGVGbiA9IChlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcHJlOiAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyZXNzVHlwZUlkID0gc2NvcGUucHJvZ3Jlc3NUeXBlSWQ7XHJcbiBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuaGNPcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUucHJvZ3Jlc3MgPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3MgPSB7IHByb2dyZXNzT3B0aW9uczoge30gfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnByb2dyZXNzT3B0aW9ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnByb2dyZXNzT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZVRleHQgPSAodGV4dCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKHRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgY3VycmVudEluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXRBcGlGdW5jdGlvbnMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5oY09wdGlvbnMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaSA9IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcyA9IHN0YXJ0UHJvZ3Jlc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5hcGkuc3RvcFByb2dyZXNzID0gc3RvcFByb2dyZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuYXBpLmNoZWNrSWZQcm9ncmVzc1J1bm5pbmcgPSBjaGVja0lmUHJvZ3Jlc3NSdW5uaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuYXBpLnNldFByb2dyZXNzSWQgPSBzZXRQcm9ncmVzc0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMuYXBpLnNldFByb2dyZXNzVHlwZUlkID0gc2V0UHJvZ3Jlc3NUeXBlSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUucHJvZ3Jlc3NPcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnByb2dyZXNzT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NPcHRpb25zLnByb2dyZXNzVmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NPcHRpb25zLnByb2dyZXNzTWF4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgZ2V0Q29tbW9uUGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiBcIiZ1c2VySWQ9XCIgKyBjdXJyZW50SW5mby5Vc2VyLlVzZXJJZCArIFwiJmxhbmdJZD1cIiArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZCArIFwiJmNvbXBhbnlJZD1cIiArIGN1cnJlbnRJbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckdyaWRDb2x1bW5zID0gdGhpcy5wcm9ncmVzc1R5cGVTZXJ2aWNlLmdldENvbHVtbnMocHJvZ3Jlc3NUeXBlSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckxvZ0RhdGEgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRHcmlkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZXJyb3JHcmlkT3B0aW9ucyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckdyaWRPcHRpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5lcnJvckdyaWRPcHRpb25zID0geyBTZWxlY3RCdXR0b246IGZhbHNlLCBFZGl0QnV0dG9uOiBmYWxzZSwgRGVsZXRlQnV0dG9uOiBmYWxzZSwgZW5hYmxlUXVpY2tGaWx0ZXI6IHRydWUsIGVuYWJsZVJ0bDogRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbi50b0xvd2VyQ2FzZSgpID09PSAncnRsJyA/IHRydWUgOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JHcmlkT3B0aW9ucy5yb3dEYXRhID0gc2NvcGUuZXJyb3JMb2dEYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JHcmlkT3B0aW9ucy5jb2x1bW5EZWZzID0gZXJyb3JHcmlkQ29sdW1ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRFcnJvckxvZ0RhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzY29wZS5wcm9ncmVzc0lkKSB8fCAoc2NvcGUucHJvZ3Jlc3NJZCA9PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5wcm9ncmVzc1R5cGVTZXJ2aWNlLmdldEVycm9yTG9nRGF0YShwcm9ncmVzc1R5cGVJZCwgc2NvcGUucHJvZ3Jlc3NJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3JMb2dEYXRhID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vW1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHsgZmllbGQ6ICdFcnJvck51bWJlcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JywgaGVhZGVyTmFtZTogc2NvcGUudHJhbnNsYXRlVGV4dCgnRXJyb3JOdW1iZXInKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHsgZmllbGQ6ICdFcnJvck1lc3NhZ2VyJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdFcnJvck1lc3NhZ2VyJykgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICB7IGZpZWxkOiAnUHJvZmlsZUNvZGUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcsIGhlYWRlck5hbWU6IHNjb3BlLnRyYW5zbGF0ZVRleHQoJ1Byb2ZpbGVDb2RlJykgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICB7IGZpZWxkOiAnUnVuTm8nLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcsIGhlYWRlck5hbWU6IHNjb3BlLnRyYW5zbGF0ZVRleHQoJ1J1bk5vJykgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICB7IGZpZWxkOiAnUGF5cm9sbE1vbnRoJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdQYXlyb2xsTW9udGgnKSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHsgZmllbGQ6ICdQYXlyb2xsWWVhcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JywgaGVhZGVyTmFtZTogc2NvcGUudHJhbnNsYXRlVGV4dCgnUGF5cm9sbFllYXInKSB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9dXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRQcm9ncmVzcyA9IChjYWxsQmFjaykgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NPcHRpb25zLmFwaS5zdGFydFByb2dyZXNzKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxCYWNrICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0UHJvZ3Jlc3NJZCA9IChwcm9ncmVzc0lkLCBjYWxsQmFjaykgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NJZCA9IHByb2dyZXNzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnByb2dyZXNzT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NJZChwcm9ncmVzc0lkLCBjYWxsQmFjaylcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldFByb2dyZXNzVHlwZUlkID0gKHByb2dyZXNzVHlwZUlkLCBjYWxsQmFjaz8pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NUeXBlSWQgPSBwcm9ncmVzc1R5cGVJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxCYWNrICE9IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BQcm9ncmVzcyA9IChjYWxsQmFjaykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wSW50ZXJ2YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NPcHRpb25zLmFwaS5zdG9wUHJvZ3Jlc3MoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjayAhPSBudWxsICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzSW50ZXJ2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0SW50ZXJ2YWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzSW50ZXJ2YWwgPSB0aGlzLmludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEVycm9yTG9nRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9wSW50ZXJ2YWwgPSAoY2FsbEJhY2s/KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwocHJvZ3Jlc3NJbnRlcnZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwuY2FuY2VsKHByb2dyZXNzSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NJbnRlcnZhbCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tJZlByb2dyZXNzUnVubmluZyA9IChydW5uaW5nQ2FsbEJhY2ssIG5vdFJ1bm5pbmdDYWxsQmFjaykgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucHJvZ3Jlc3NPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKHJ1bm5pbmdDYWxsQmFjaywgbm90UnVubmluZ0NhbGxCYWNrKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wSW50ZXJ2YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzZXRBcGlGdW5jdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0R3JpZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwb3N0OiAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9saW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAodHJhbnNsYXRvcjogSENNUy5EYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByb2dyZXNzVHlwZVNlcnZpY2U6IFByb2dyZXNzVHlwZVNlcnZpY2UsIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZSwgaW50ZXJ2YWw6IG5nLklJbnRlcnZhbFNlcnZpY2UpID0+IG5ldyBIY21zUHJvZ3Jlc3NDYWxjKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgcHJvZ3Jlc3NUeXBlU2VydmljZSwgY29tcGlsZXIsIHRpbWVvdXQsIGZpbHRlciwgaW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIFwicHJvZ3Jlc3NUeXBlU2VydmljZVwiLCBcIiRjb21waWxlXCIsIFwiJHRpbWVvdXRcIiwgXCIkZmlsdGVyXCIsIFwiJGludGVydmFsXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc1Byb2dyZXNzQ2FsYycsIEhjbXNQcm9ncmVzc0NhbGMuRmFjdG9yeSgpKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElHcmlkQ29sdW1uIHtcclxuICAgICAgICBmaWVsZDogc3RyaW5nO1xyXG4gICAgICAgIGhpZGU6IGJvb2xlYW47XHJcbiAgICAgICAgY29udHJvbFR5cGVOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgaGVhZGVyTmFtZT86IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElQcm9ncmVzc1R5cGUge1xyXG4gICAgICAgIGNvbnRyb2xsZXJOYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgY29sdW1ucyA6IEFycmF5PElHcmlkQ29sdW1uPlxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjb25zdCBQcm9ncmVzc1R5cGVzID0ge1xyXG4gICAgICAgIExvYW5Qb3N0Q2FsY3VsYXRpb246IHtcclxuICAgICAgICAgICAgY29udHJvbGxlck5hbWU6ICdQYXlyb2xsRXJyb3JMb2cnLFxyXG5cclxuICAgICAgICAgICAgY29sdW1uczogW1xyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0Vycm9yTnVtYmVyJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnRXJyb3JNZXNzYWdlJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnRW1wbG95ZWVDb2RlJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnUHJvZmlsZU5hbWUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcgfSxcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdQYXlyb2xsUnVuTmFtZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1BheXJvbGxNb250aCcsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1BheXJvbGxZZWFyJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgUGF5cm9sbFNhbGFyeUNhbGN1bGF0aW9uOiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJOYW1lOiAnUGF5cm9sbEVycm9yTG9nJyxcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFtcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdFcnJvck51bWJlcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0Vycm9yTWVzc2FnZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0VtcGxveWVlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnUGF5cm9sbFJ1bk5hbWUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcgfSxcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdQYXlyb2xsTW9udGgnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcgfSxcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdQYXlyb2xsWWVhcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9XHJcbiAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICBQYXlyb2xsVHJhbnNhY3Rpb25DYWxjdWxhdGlvbjoge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyTmFtZTogJ1BheXJvbGxUcmFuc2FjdGlvbkVycm9yTG9nJyxcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFtcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdFcnJvck51bWJlcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0Vycm9yTWVzc2FnZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0VtcGxveWVlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnUGF5cm9sbFRyYW5zYWN0aW9uVHlwZU5hbWUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcgfSxcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdQYXlyb2xsUnVuTmFtZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1BheXJvbGxNb250aCcsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1BheXJvbGxZZWFyJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgQXR0ZW5kYW5jZUNhbGN1bGF0aW9uOiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJOYW1lOiAnQXR0ZW5kYW5jZUVycm9yTG9nJyxcclxuXHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFtcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdFcnJvck51bWJlcicsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0Vycm9yTWVzc2FnZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ0VtcGxveWVlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JyB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnQXR0ZW5kYW5jZURhdGUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAnZGF0ZScsIHRlbXBsYXRlOiBcIjxwPnt7ZGF0YS5BdHRlbmRhbmNlRGF0ZSB8IGRhdGU6J2RkL01NL3l5eXknfX08L3A+XCIgfSxcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZ3Jlc3NUeXBlU2VydmljZSB7XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gWydkYXRhTWFuYWdlclNlcnZpY2UnLCAndHJhbnNsYXRlU2VydmljZSddO1xyXG5cclxuICAgICAgICBwcml2YXRlIGN1cnJlbnRJbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgZ2V0Q29tbW9uUGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCImdXNlcklkPVwiICsgdGhpcy5jdXJyZW50SW5mby5Vc2VyLlVzZXJJZCArIFwiJmxhbmdJZD1cIiArIHRoaXMuY3VycmVudEluZm8uTGFuZ3VhZ2UuTGFuZ0lkICsgXCImY29tcGFueUlkPVwiICsgdGhpcy5jdXJyZW50SW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBnZXRQcm9ncmVzc1R5cGUgPSAocHJvZ3Jlc3NUeXBlSWQ6IG51bWJlcik6IGFueSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc1R5cGU6IGFueTtcclxuICAgICAgICAgICAgc3dpdGNoIChwcm9ncmVzc1R5cGVJZCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOiAgLy8gTG9hbiBQb3N0ICBOb3QgdXNlZFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzVHlwZSA9IFByb2dyZXNzVHlwZXMuTG9hblBvc3RDYWxjdWxhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOiAgIC8vIFBheXJvbGwgU2FsYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NUeXBlID0gUHJvZ3Jlc3NUeXBlcy5QYXlyb2xsU2FsYXJ5Q2FsY3VsYXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOiAgLy8gUGF5cm9sbCBUcmFuc2FjdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1R5cGUgPSBQcm9ncmVzc1R5cGVzLlBheXJvbGxUcmFuc2FjdGlvbkNhbGN1bGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiAgLy8gQXR0ZW5kYW5jZSBDYWxjdWxhdGlvblxyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzVHlwZSA9IFByb2dyZXNzVHlwZXMuQXR0ZW5kYW5jZUNhbGN1bGF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NUeXBlID0gUHJvZ3Jlc3NUeXBlcy5QYXlyb2xsU2FsYXJ5Q2FsY3VsYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvZ3Jlc3NUeXBlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZ2V0Q29sdW1ucyA9IChwcm9ncmVzc1R5cGVJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwcm9ncmVzc1R5cGUgPSB0aGlzLmdldFByb2dyZXNzVHlwZShwcm9ncmVzc1R5cGVJZCk7XHJcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc1R5cGUgPT09IG51bGwgfHwgcHJvZ3Jlc3NUeXBlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGxldCBjb2x1bW5zOiBBcnJheTxhbnk+ID0gcHJvZ3Jlc3NUeXBlLmNvbHVtbnM7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRyeS5oZWFkZXJOYW1lID0gdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZShlbnRyeS5maWVsZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW5zO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBnZXRFcnJvckxvZ0RhdGEgPSAocHJvZ3Jlc3NUeXBlSWQ6IG51bWJlciwgcHJvZ3Jlc3NJZDogbnVtYmVyKTogbmcuSUh0dHBQcm9taXNlPGFueT4gPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHByb2dyZXNzSWQpIHx8IChwcm9ncmVzc0lkID09IDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHByb2dyZXNzVHlwZSA9IHRoaXMuZ2V0UHJvZ3Jlc3NUeXBlKHByb2dyZXNzVHlwZUlkKTtcclxuICAgICAgICAgICAgaWYgKHByb2dyZXNzVHlwZSA9PT0gbnVsbCB8fCBwcm9ncmVzc1R5cGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz9wcm9ncmVzc0lkPScgKyBwcm9ncmVzc0lkICsgdGhpcy5nZXRDb21tb25QYXJhbXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UocHJvZ3Jlc3NUeXBlLmNvbnRyb2xsZXJOYW1lLCAnR2V0QnlQcm9ncmVzc0lkJywgcXVlcnlTdHJpbmcpO1xyXG5cclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuc2VydmljZSgncHJvZ3Jlc3NUeXBlU2VydmljZScsIFsnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJ3RyYW5zbGF0ZVNlcnZpY2UnLCBmdW5jdGlvbiAoZGF0YU1hbmFnZXJTZXJ2aWNlLCB0cmFuc2xhdGVTZXJ2aWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9ncmVzc1R5cGVTZXJ2aWNlKGRhdGFNYW5hZ2VyU2VydmljZSwgdHJhbnNsYXRlU2VydmljZSk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zUmFkaW8gaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuICAgICAgICBwdWJsaWMgcmVxdWlyZSA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBoY09wdGlvbnM6IFwiPVwiLFxyXG4gICAgICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgICAgICAgICAgaGNFdmVudHM6IFwiPT9cIlxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZTogc3RyaW5nID0gJzxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiICBkYXRhLXBhZ2UtaWQ9XCJ7e2hjT3B0aW9ucy5WaWV3SWR9fVwiIGRhdGEtb2JqZWN0LWlkPVwie3toY09wdGlvbnMuQ29udHJvbElkfX1cIiAgbmctbW9kZWw9XCJuZ01vZGVsXCIgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiICBuZy1yZXF1aXJlZD1cInt7aGNPcHRpb25zLklzUmVxdWlyZWR9fVwiJyArIGdldFNlY3VyaXR5U3RyaW5nKCkgKyAnIC8+JztcclxuXHJcblxyXG5cclxuICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSGNtc1JhZGlvKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdoY21zUmFkaW8nLCBIY21zUmFkaW8uRmFjdG9yeSgpKTtcclxufVxyXG5cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc01vbnRoIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmU6IHN0cmluZyA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgbmdNb2RlbDogXCI9XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHVibGljIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5pdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVNZW1lYmVyID0gXCJtb250aFZhbHVlXCI7XHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5TWVtYmVyID0gXCJtb250aE5hbWVcIjtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaFBhcmFtcyA9IFwibW9udGhWYWx1ZVwiO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUub25TZWxlY3RlZCA9IGZ1bmN0aW9uIChpdGVtLCBzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjRXZlbnRzICYmIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5oY0V2ZW50cy5kZWZhdWx0QWN0aW9uKGl0ZW0sIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGxNb250aHMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gMDtcclxuICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDEzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TW9udGggKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5pdGVtcy5wdXNoKHsgbW9udGhWYWx1ZTogY3VycmVudE1vbnRoLCBtb250aE5hbWU6IGN1cnJlbnRNb250aCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oY09wdGlvbnMuRGVmYXVsdFZhbHVlICYmIHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUgIT09IG51bGwgJiYgc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSBldmFsKHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubmdNb2RlbCA9IG5ldyBEYXRlKCkuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbGxNb250aHMoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgICBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgbmctb3B0aW9ucz1cIml0ZW0uJyArIHZhbHVlTWVtZWJlciArICcgYXMgaXRlbS4nICsgZGlzcGxheU1lbWJlciArICcgZm9yIGl0ZW0gaW4gaXRlbXNcIiAgc2VsZWN0MiAgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiICBuZy1yZXF1aXJlZD1cInt7aGNPcHRpb25zLklzUmVxdWlyZWR9fVwiIG5nLWRpc2FibGVkPVwie3toY09wdGlvbnMuSXNSZWFkT25seX19XCIgbmctaGlkZT1cInt7aGNPcHRpb25zLklzSGlkZGVufX1cIj48b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+PC9zZWxlY3Q+JztcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgIC8vc2NvcGUuaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0VpZCcgfSwgeyBpZDogMiwgbmFtZTogJ0FobWVkJyB9LCB7IGlkOiAzLCBuYW1lOiAnTW9yc3knIH0sIHsgaWQ6IDQsIG5hbWU6ICdNb2hhbWVkZWVuJyB9LCB7IGlkOiA1LCBuYW1lOiAndGVzdDUnIH0sIHsgaWQ6IDYsIG5hbWU6ICd0ZXN0NicgfV07IFxyXG4gICAgICAgICAgICBzY29wZS5jbGVhciA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgIChkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlKSA9PiBuZXcgSGNtc01vbnRoKGRiTWFuYWdlciwgY29tcGlsZXIpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkY29tcGlsZVwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNNb250aCcsIEhjbXNNb250aC5GYWN0b3J5KCkpO1xyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEhjbXNZZWFyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHJlcXVpcmU6IHN0cmluZyA9IFwiXm5nTW9kZWxcIjtcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgICAgICAgICAgbmdNb2RlbDogXCI9XCIsXHJcbiAgICAgICAgICAgIGhjWWVhckNvdW50OiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHVibGljIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5pdGVtcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVNZW1lYmVyID0gXCJ5ZWFyVmFsdWVcIjtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlNZW1iZXIgPSBcInllYXJOYW1lXCI7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2hQYXJhbXMgPSBcInllYXJWYWx1ZVwiO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUub25TZWxlY3RlZCA9IGZ1bmN0aW9uIChpdGVtLCBzZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjRXZlbnRzICYmIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5oY0V2ZW50cy5kZWZhdWx0QWN0aW9uKGl0ZW0sIHNlbGVjdGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZpbGxZZWFycygpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zID0gW107XHJcbiAgICAgICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUuaGNZZWFyQ291bnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGNZZWFyQ291bnQgPSAyMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyU3RhcnQgPSBzY29wZS5oY1llYXJDb3VudCAqIC0xO1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpICsgeWVhclN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHllYXJTdGFydDsgaSA8IHNjb3BlLmhjWWVhckNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50WWVhciArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zLnB1c2goeyB5ZWFyVmFsdWU6IGN1cnJlbnRZZWFyLCB5ZWFyTmFtZTogY3VycmVudFllYXIgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjT3B0aW9ucy5EZWZhdWx0VmFsdWUgJiYgc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZSAhPT0gbnVsbCAmJiBzY29wZS5oY09wdGlvbnMuRGVmYXVsdFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUubmdNb2RlbCA9IGV2YWwoc2NvcGUuaGNPcHRpb25zLkRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5uZ01vZGVsID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaWxsWWVhcnMoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8c2VsZWN0IGNsYXNzPVwiZm9ybS1jb250cm9sXCIgICBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgbmctb3B0aW9ucz1cIml0ZW0uJyArIHZhbHVlTWVtZWJlciArICcgYXMgaXRlbS4nICsgZGlzcGxheU1lbWJlciArICcgZm9yIGl0ZW0gaW4gaXRlbXNcIiAgc2VsZWN0MiAgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiICBuZy1yZXF1aXJlZD1cInt7aGNPcHRpb25zLklzUmVxdWlyZWR9fVwiIG5nLWRpc2FibGVkPVwie3toY09wdGlvbnMuSXNSZWFkT25seX19XCIgbmctaGlkZT1cInt7aGNPcHRpb25zLklzSGlkZGVufX1cIj48b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+PC9zZWxlY3Q+JztcclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgIC8vc2NvcGUuaXRlbXMgPSBbeyBpZDogMSwgbmFtZTogJ0VpZCcgfSwgeyBpZDogMiwgbmFtZTogJ0FobWVkJyB9LCB7IGlkOiAzLCBuYW1lOiAnTW9yc3knIH0sIHsgaWQ6IDQsIG5hbWU6ICdNb2hhbWVkZWVuJyB9LCB7IGlkOiA1LCBuYW1lOiAndGVzdDUnIH0sIHsgaWQ6IDYsIG5hbWU6ICd0ZXN0NicgfV07IFxyXG4gICAgICAgICAgICBzY29wZS5jbGVhciA9IGZ1bmN0aW9uICgkZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLm5nTW9kZWwgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZSkgPT4gbmV3IEhjbXNZZWFyKGRiTWFuYWdlciwgY29tcGlsZXIpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkY29tcGlsZVwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNZZWFyJywgSGNtc1llYXIuRmFjdG9yeSgpKTtcclxuXHJcbn1cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zVGV4dCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG4gICAgICAgIHB1YmxpYyByZXF1aXJlID0gXCJebmdNb2RlbFwiO1xyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjT3B0aW9uczogXCI9XCIsXHJcbiAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHVibGljIHRlbXBsYXRlOiBzdHJpbmcgPSAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgaW5wdXQteHNcIiBuZy1tb2RlbD1cIm5nTW9kZWxcIiAgJyArIG5nSGNtc09wdGlvbnMoKSArICcgbmctY2hhbmdlPVwiaGNFdmVudHMuZGVmYXVsdEFjdGlvbihuZ01vZGVsKVwiIC8+JztcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBIY21zVGV4dCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc1RleHQnLCBIY21zVGV4dC5GYWN0b3J5KCkpO1xyXG5cclxuICAgIC8vaGNtc0NvbnRyb2xzLmNvbXBvbmVudCgnaGNtc1RleHQnLCB7XHJcbiAgICAvLyAgICB0ZW1wbGF0ZTogJzxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGlucHV0LXhzXCIgbmctbW9kZWw9XCIkY3RybC5uZ01vZGVsXCIgbmctY2hhbmdlPVwiJGN0cmwuaGNFdmVudHMuZGVmYXVsdEFjdGlvbigkY3RybC5uZ01vZGVsKVwiIC8+JyxcclxuICAgIC8vICAgIGJpbmRpbmdzOiB7XHJcbiAgICAvLyAgICAgICAgaGNPcHRpb25zOiBcIj1cIixcclxuICAgIC8vICAgICAgICBuZ01vZGVsOiBcIj1cIixcclxuICAgIC8vICAgICAgICBoY0V2ZW50czogXCI9XCIsXHJcbiAgICAvLyAgICB9LFxyXG4gICAgLy8gICAgY29udHJvbGxlcjogSGNtc1RleHRcclxuICAgIC8vfSk7XHJcblxyXG59XHJcblxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zVGltZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG4gICAgICAgIHB1YmxpYyBsaW5rO1xyXG4gICAgICAgIHB1YmxpYyByZXF1aXJlID0gXCJebmdNb2RlbFwiO1xyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgLy8gcHVibGljIHJlcGxhY2UgPSB0cnVlO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBoY09wdGlvbnM6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9ICc8aW5wdXQgdHlwZT1cInRpbWVcIiBjbGFzcz1cImZvcm0tY29udHJvbCBpbnB1dC14c1wiIG5nLW1vZGVsPVwibmdNb2RlbFwiICAnICsgbmdIY21zT3B0aW9ucygpICsgJyBuZy1jaGFuZ2U9XCJoY0V2ZW50cy5kZWZhdWx0QWN0aW9uKG5nTW9kZWwpXCIgLz4nO1xyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZTogc3RyaW5nID0gJzxkaXYgdWliLXRpbWVwaWNrZXIgbmctbW9kZWw9XCJteXRpbWVcIiAgIGhvdXItc3RlcD1cIjFcIiBtaW51dGUtc3RlcD1cIjFcIiBzaG93LXNlY29uZHM9XCJmYWxzZVwiIHNob3ctbWVyaWRpYW49XCJmYWxzZVwiIG5nLWNoYW5nZT1cInRpbWVDaGFuZ2VkKG15dGltZSlcIiA+PC9kaXY+JztcclxuXHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAgICAgdGhpcy5saW5rID0gdGhpcy51bmJvdW5kTGluay5iaW5kKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdW5ib3VuZExpbmsgPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMsIG5nTW9kZWxDb250cm9sbGVyOiBuZy5JTmdNb2RlbENvbnRyb2xsZXIpID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uIChtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbHRpbWU6IHN0cmluZ1tdID0gbW9kZWxWYWx1ZS5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGx0aW1lLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoOiBwYXJzZUludChhbGx0aW1lWzBdKSwgICAvLyB1c2UgKyB0byBwYXJlc2UgdG8gbnVtYmVyIExpa2UgKyBhbGx0aW1lWzBdICBvciB1c2UgcGFyc2VJbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG06IHBhcnNlSW50KGFsbHRpbWVbMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgczogcGFyc2VJbnQoYWxsdGltZVsyXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbXl0aW1lOiBuZXcgRGF0ZSgyMDAwLCAxLCAxLCB0aW1lLmgsIHRpbWUubSwgdGltZS5zLCAwKSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG15dGltZTogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbXl0aW1lOiBudWxsIH07XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5teXRpbWUgPSBuZ01vZGVsQ29udHJvbGxlci4kdmlld1ZhbHVlLm15dGltZTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ215dGltZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5nTW9kZWxDb250cm9sbGVyLiRzZXRWaWV3VmFsdWUoeyBteXRpbWU6IHNjb3BlLm15dGltZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uICh2aWV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodmlld1ZhbHVlKSAmJiAhSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodmlld1ZhbHVlLm15dGltZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB1c2UgKFwiMTAwXCIgKyB2aWV3VmFsdWUubXl0aW1lLmdldEhvdXJzKCkpLnNsaWNlKC0yKSB0byAgcHV0IHplcm8gbGVhZGluZyBpZiBudW1iZXIgbGVzcyB0aGFuIDEwLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCIxMDBcIiArIHZpZXdWYWx1ZS5teXRpbWUuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgJzonICsgKFwiMTAwXCIgKyB2aWV3VmFsdWUubXl0aW1lLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsgXCI6XCIgKyAoXCIxMDBcIiArIHZpZXdWYWx1ZS5teXRpbWUuZ2V0U2Vjb25kcygpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUudGltZUNoYW5nZWQgPSAoZGF0YTogRGF0ZSkgPT4geyAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjRXZlbnRzICYmIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREYXRlOiBzdHJpbmcgPW51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChkYXRhKSAmJiAhSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXNlIChcIjEwMFwiICsgdmlld1ZhbHVlLm15dGltZS5nZXRIb3VycygpKS5zbGljZSgtMikgdG8gIHB1dCB6ZXJvIGxlYWRpbmcgaWYgbnVtYmVyIGxlc3MgdGhhbiAxMC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSAoXCIxMDBcIiArIGRhdGEuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgJzonICsgKFwiMTAwXCIgKyBkYXRhLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsgXCI6XCIgKyAoXCIxMDBcIiArIGRhdGEuZ2V0U2Vjb25kcygpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmhjRXZlbnRzLmRlZmF1bHRBY3Rpb24oY3VycmVudERhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSGNtc1RpbWUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2hjbXNUaW1lJywgSGNtc1RpbWUuRmFjdG9yeSgpKTtcclxufVxyXG5cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc0NvbG9ycGlja2VyIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHt9XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb21waWxlOiBuZy5JRGlyZWN0aXZlQ29tcGlsZUZuID0gKHRFbGVtZW50OiBKUXVlcnksIHRBdHRyaWJ1dGVzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICB0RWxlbWVudC5yZW1vdmVBdHRyKCdoY21zLWNvbG9ycGlja2VyIGRhdGEtaGNtcy1jb2xvcnBpY2tlcicpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFPcHRpb25zID0gdEVsZW1lbnQucGljayh0QXR0cmlidXRlcywgWycnXSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJoZXhcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yU2VsZWN0b3JzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ2JsYWNrJzogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICd3aGl0ZSc6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgICAgICAncmVkJzogJyNGRjAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICdkZWZhdWx0JzogJyM3Nzc3NzcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdwcmltYXJ5JzogJyMzMzdhYjcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJyM1Y2I4NWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICdpbmZvJzogJyM1YmMwZGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICd3YXJuaW5nJzogJyNmMGFkNGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYW5nZXInOiAnI2Q5NTM0ZidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdmFyIG9wdGlvbnM9IF8uZXh0ZW5kKGFPcHRpb25zLCB7fSk7XHJcblxyXG4gICAgICAgICAgICB0RWxlbWVudC5jb2xvcnBpY2tlcihvcHRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKCkgPT4gbmV3IEhjbXNDb2xvcnBpY2tlcigpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc0NvbG9ycGlja2VyJywgSGNtc0NvbG9ycGlja2VyLkZhY3RvcnkoKSk7XHJcblxyXG59IiwibW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFbXBBc3NpZ25tZW50SW5mbyBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBhc3NpZ25tZW50SWQ6IFwiPVwiLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gICAgICAgIDwgZGl2IGNsYXNzPSBcInRhYmxlIHRhYmxlLXN0cmlwZWRcIiA+XHJcbiAgICAgICAgLy8gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAvLyAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMlwiPiBcclxuICAgICAgICAvLyAgICAgICAgPGgxPnt7dHJhbnNsYXRlVGV4dCgnRW1wbG95ZWVJbmZvcm1hdGlvbicpIH1cclxuICAgICAgICAvL30gPC9oMT5cclxuICAgICAgICAvLyAgICA8IC9kaXY+ICAgICAgIFxyXG4gICAgICAgIC8vICAgIDwgL2Rpdj5cclxuICAgICAgICAvLyAgICA8IGRpdiBjbGFzcz1cInJvd1wiID5cclxuICAgICAgICAvLyAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yXCIgPlxyXG4gICAgICAgIC8vICAgICAgICAgICAgPGI+e3t0cmFuc2xhdGVUZXh0KCdFbXBsb3llZU5vJykgfX08L2I+IFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIDwgL2Rpdj5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICA8IGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiID5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAge3tlbXBsb3llZUluZm8uRW1wbG95ZWVDb2RlIH19XHJcbiAgICAgICAgLy88L2Rpdj5cclxuICAgICAgICAvLyAgICA8IC9kaXY+XHJcbiAgICAgICAgLy8gICAgPCBkaXYgY2xhc3M9XCJyb3dcIiA+XHJcbiAgICAgICAgLy8gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMlwiID5cclxuICAgICAgICAvLyAgICAgICAgICAgIDxiPnt7dHJhbnNsYXRlVGV4dCgnRW1wbG95ZWVOYW1lJykgfX08L2I+XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgPCAvZGl2PlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIDwgZGl2IGNsYXNzPVwiY29sLXNtLTEwXCIgPlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB7e2VtcGxveWVlSW5mby5Qcm9maWxlTmFtZSB9fVxyXG4gICAgICAgIC8vPC9kaXY+XHJcbiAgICAgICAgLy8gICAgPCAvZGl2PlxyXG4gICAgICAgIC8vICAgIDwgZGl2IGNsYXNzPVwicm93XCIgPlxyXG4gICAgICAgIC8vICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTJcIiA+XHJcbiAgICAgICAgLy8gICAgICAgICAgICA8Yj57e3RyYW5zbGF0ZVRleHQoJ0VtcGxveWVlTmFtZV8nKSB9fTwvYj4gXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgPCAvZGl2PlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgIDwgZGl2IGNsYXNzPVwiY29sLXNtLTEwXCIgPlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICB7e2VtcGxveWVlSW5mby5Qcm9maWxlTmFtZV8gfX1cclxuICAgICAgICAvLzwvZGl2PlxyXG4gICAgICAgIC8vICAgIDwgL2Rpdj5cclxuICAgICAgICAvLyAgICA8IC9kaXY+XHJcblxyXG4vLyAgICAgICAgcHVibGljIHRlbXBsYXRlOiBzdHJpbmcgPSBgIDxkaXYgY2xhc3M9XCJlbXBsb3llZS1jYXJkXCI+XHJcbiAgICAgXHJcbi8vIDxpbWcgc3JjPSd7e3BpY0ZpbGV9fScgY2xhc3M9XCJlbXBsb3llZS1jYXJkLWltZ1wiLz5cclxuLy88ZGl2IGNsYXNzPVwiZW1wbG95ZWUtY2FyZC1ib2R5XCI+XHJcbi8vPGg0PlxyXG4vLyAgICA8aT57e2VtcGxveWVlSW5mby5FbXBsb3llZUNvZGV9fTwvaT4gPHN0cm9uZz57e2VtcGxveWVlSW5mby5nZXRFbXBsb3llZU5hbWUoKX19PC9zdHJvbmc+XHJcbi8vPC9oND5cclxuLy88cD48Yj57eydFbXBIaXJlRGF0ZScgfCB0cmFuc2xhdGV9fTogPHN0cm9uZz57e2VtcGxveWVlSW5mby5FbXBIaXJlRGF0ZSB8IGRhdGU6XCJkZC9NTS95eXl5XCJ9fTwvc3Ryb25nPjwvcD5cclxuLy88cD48Yj57eydXb3JrRXhwZXJpZW5jZScgfCB0cmFuc2xhdGV9fTogPHN0cm9uZz57e2VtcGxveWVlSW5mby5Xb3JrRXhwZXJpZW5jZX19PC9zdHJvbmc+PC9wPlxyXG4vLzxwPjxiPnt7J1VuaXROYW1lJyB8IHRyYW5zbGF0ZX19OiA8L2I+PGk+IHt7ZW1wbG95ZWVJbmZvLlVuaXRDb2RlfX08L2k+IDxzdHJvbmc+e3tlbXBsb3llZUluZm8uZ2V0VW5pdE5hbWUoKX19PC9zdHJvbmc+PC9wPlxyXG4vLzxwPjxiPnt7J0pvYk5hbWUnIHwgdHJhbnNsYXRlfX06IDwvYj48aT4ge3tlbXBsb3llZUluZm8uSm9iQ29kZX19PC9pPiA8c3Ryb25nPnt7ZW1wbG95ZWVJbmZvLmdldEpvYk5hbWUoKX19PC9zdHJvbmc+PC9wPlxyXG5cclxuLy88L2Rpdj5cclxuXHJcbi8vICAgICAgICAgICAgPC9kaXY+YDsgXHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZTogc3RyaW5nID0gYCA8ZGl2IGNsYXNzPVwiZW1wbG95ZWUtY2FyZFwiPlxyXG4gPGltZyBzcmM9J3t7cGljRmlsZX19JyBjbGFzcz1cImVtcGxveWVlLWNhcmQtaW1nXCIvPlxyXG48ZGl2IGNsYXNzPVwiZW1wbG95ZWUtY2FyZC1ib2R5XCI+XHJcbiAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgIHJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj48Yj57eydFbXBsb3llZUNvZGUnIHwgdHJhbnNsYXRlfX08L2I+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPnt7ZW1wbG95ZWVJbmZvLkVtcGxveWVlQ29kZX19PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMVwiPjxiPnt7J1Byb2ZpbGVOYW1lJyB8IHRyYW5zbGF0ZX19PC9iPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTVcIj57e2VtcGxveWVlSW5mby5nZXRFbXBsb3llZU5hbWUoKX19PC9kaXY+XHJcbiAgICAgIFxyXG4gICAgPC9kaXY+XHJcbiAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgIHJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj48Yj57eydFbXBIaXJlRGF0ZScgfCB0cmFuc2xhdGV9fTwvYj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS00XCI+e3tlbXBsb3llZUluZm8uRW1wSGlyZURhdGUgfCBkYXRlOlwiZGQvTU0veXl5eVwifX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+PGI+e3snVW5pdE5hbWUnIHwgdHJhbnNsYXRlfX08L2I+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNVwiPnt7ZW1wbG95ZWVJbmZvLmdldFVuaXROYW1lKCl9fTwvZGl2PlxyXG4gICAgICBcclxuICAgIDwvZGl2PlxyXG4gICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwICByb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+PGI+e3snV29ya0V4cGVyaWVuY2UnIHwgdHJhbnNsYXRlfX08L2I+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPnt7ZW1wbG95ZWVJbmZvLldvcmtFeHBlcmllbmNlfX08L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xXCI+PGI+e3snSm9iTmFtZScgfCB0cmFuc2xhdGV9fTwvYj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS01XCI+e3tlbXBsb3llZUluZm8uZ2V0Sm9iTmFtZSgpfX08L2Rpdj5cclxuICAgICAgXHJcbiAgICA8L2Rpdj5cclxuXHJcbjwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPC9kaXY+YDsgXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICAvL3Njb3BlLmN1cnJlbnRMYW5ndWFnZSA9IGxvZ2luSW5mby5nZXRDdXJyZW50TGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ2Fzc2lnbm1lbnRJZCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRFbXBEYXRhKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzY29wZS50cmFuc2xhdGVUZXh0ID0gKHRleHQpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUodGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGdldEVtcERhdGEgPSAoYXNzaWdubWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP2VtcEFzc2lnbm1lbnRJZD0nICsgYXNzaWdubWVudElkICsgJyZ1c2VySWQ9JyArIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlByb2ZpbGVcIiwgJ0dldEFzc2lnbm1lbnRJbmZvJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mbyA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mby5nZXRFbXBsb3llZU5hbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT0gXCJydGxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmVtcGxveWVlSW5mby5Qcm9maWxlTmFtZV87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuZW1wbG95ZWVJbmZvLlByb2ZpbGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5lbXBsb3llZUluZm8uZ2V0VW5pdE5hbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT0gXCJydGxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmVtcGxveWVlSW5mby5Vbml0TmFtZV87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuZW1wbG95ZWVJbmZvLlVuaXROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5lbXBsb3llZUluZm8uZ2V0Sm9iTmFtZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PSBcInJ0bFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuZW1wbG95ZWVJbmZvLkpvYk5hbWVfO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmVtcGxveWVlSW5mby5Kb2JOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5zZXRFbXBsb3llZVBob3RvKHNjb3BlLmVtcGxveWVlSW5mby5QaG90byk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLnNldEVtcGxveWVlUGhvdG8gPSAocGhvdG86IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBob3RvID09PSBudWxsIHx8IHBob3RvID09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5waWNGaWxlID0gXCIvc3R5bGVzL2ltZy9ub1Byb2ZpbGUucG5nXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnBpY0ZpbGUgPSBcImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsXCIgKyBwaG90bztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpID0+IG5ldyBFbXBBc3NpZ25tZW50SW5mbyh0cmFuc2xhdG9yLCBkYk1hbmFnZXIpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCJdO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2VtcEFzc2lnbm1lbnRJbmZvJywgRW1wQXNzaWdubWVudEluZm8uRmFjdG9yeSgpKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwibW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFbXBEZWZhdWx0QXNzaWdubWVudExpc3QgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0FFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgb3B0aW9uczogJz0nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgXHJcbjxzbWFydC1ncmlkIGlkPVwiZ3JkXCIgbmFtZT1cImdyaWQubmFtZVwiIGRhdGE9XCJhc3NpZ25tZW50TGlzdFwiIG9wdGlvbnM9XCJvcHRpb25zXCIgY29sdW1uLWRlZnM9XCJncmlkLmNvbHVtbnNcIiBzdHlsZT1cImhlaWdodDo1MDBweDtcIj48L3NtYXJ0LWdyaWQ+XHJcbmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHVibGljICR0aW1lT3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuICAgICAgICAgICAgc2NvcGUuZ3JpZCA9IHsgbmFtZTogJ2xpc3RHcmlkJyB9O1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLlNlbGVjdEJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuRWRpdEJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLkRlbGV0ZUJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLmVuYWJsZVF1aWNrRmlsdGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vc2NvcGUuY3VycmVudExhbmd1YWdlID0gbG9naW5JbmZvLmdldEN1cnJlbnRMYW5ndWFnZSgpO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlVGV4dCA9ICh0ZXh0KTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKHRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNjb3BlLnNlbGVjdFRleHQgPSBcIlwiOy8vc2NvcGUudHJhbnNsYXRlVGV4dCgnU2VsZWN0Jyk7XHJcblxyXG4gICAgICAgICAgICAvL3Njb3BlLmNvbHVtbnMgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgc2NvcGUuZ3JpZC5jb2x1bW5zID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBzY29wZS5zZWxlY3RUZXh0LCB3aWR0aDogNTAsIGNlbGxSZW5kZXJlcjogc2VsZWN0Q2VsbCwgc3VwcHJlc3NNZW51OiB0cnVlLCBzdXBwcmVzc1NvcnRpbmc6IHRydWUsIHN1cHByZXNzU2l6ZVRvRml0OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnRW1wbG95ZWVDb2RlJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdFbXBsb3llZUNvZGUnKSB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdQcm9maWxlTmFtZScpIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnUHJvZmlsZU5hbWVfJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdQcm9maWxlTmFtZV8nKSB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2VsZWN0Q2VsbChwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RDYWxsYmFjayA9IHBhcmFtcy5hcGkuZ3JpZENvcmUuZ3JpZE9wdGlvbnMuc2VsZWN0Q2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0Q2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtaGFuZC1wb2ludGVyLW8gY2VudGVyLWJsb2NrXCI+PC9zcGFuPjwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgc2VsZWN0Q2FsbGJhY2socGFyYW1zLmRhdGEpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGdldEVtcERhdGFMaXN0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz91c2VySWQ9JyArIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlByb2ZpbGVcIiwgJ0dldERlZmF1bHRBc3NpZ25tZW50TGlzdCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5hc3NpZ25tZW50TGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuYXNzaWdubWVudExpc3QgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGdldEVtcERhdGFMaXN0KCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEVtcERlZmF1bHRBc3NpZ25tZW50TGlzdCh0cmFuc2xhdG9yLCBkYk1hbmFnZXIsICR0aW1lb3V0KTtcclxuXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1widHJhbnNsYXRlU2VydmljZVwiLCBcImRhdGFNYW5hZ2VyU2VydmljZVwiLCBcIiR0aW1lb3V0XCJdO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ2VtcERlZmF1bHRBc3NpZ25lbW50TGlzdCcsIEVtcERlZmF1bHRBc3NpZ25tZW50TGlzdC5GYWN0b3J5KCkpO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc1RyZWUgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0OiBzdHJpbmcgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyByZXF1aXJlOiBzdHJpbmcgPSBcIl5uZ01vZGVsXCI7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIGhjT3B0aW9uczogXCI9XCIsXHJcbiAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxyXG4gICAgICAgICAgICBoY0FwaVVybDogXCI9P1wiLFxyXG4gICAgICAgICAgICBoY0V2ZW50czogXCI9P1wiXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHB1YmxpYyBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwdWJsaWMgY29tcGlsZXI6IG5nLklDb21waWxlU2VydmljZSwgcHVibGljIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgcHVibGljIGl2aFRyZWV2aWV3T3B0aW9uczogYW55LCBwdWJsaWMgaXZoVHJlZXZpZXdCZnM6IGFueSwgcHVibGljIGl2aFRyZWV2aWV3TWdyOiBhbnkpIHtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS50cmVlRGF0YSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuXHJcbiAgICAgICAgICAgIHZhciBjb21tb25QYXJhbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJz91c2VySWQ9JyArIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnJmxhbmdJZD0nICsgY3VycmVudEluZm8uTGFuZ3VhZ2UuTGFuZ0lkXHJcbiAgICAgICAgICAgICAgICAgICAgKyAnJmNvbXBhbnlJZD0nICsgY3VycmVudEluZm8uQ29tcGFueS5Db21wYW55SWRcclxuICAgICAgICAgICAgICAgICAgICArICcmdHJlZUlkPScgKyBzY29wZS5oY09wdGlvbnMuVHJlZUlkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdUcmVlVmlldycsICdHZXRHZW5lcmFsVHJlZScsIGNvbW1vblBhcmFtcygpLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS50cmVlRGF0YSA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgb3B0czogYW55ID0ge307XHJcbiAgICAgICAgICAgIG9wdHMuaWRBdHRyaWJ1dGUgPSBcIidUcmVlTm9kZUlkJ1wiO1xyXG4gICAgICAgICAgICBvcHRzLmxhYmVsQXR0cmlidXRlID0gXCInY29udGVudCdcIjtcclxuICAgICAgICAgICAgb3B0cy5jaGlsZHJlbkF0dHJpYnV0ZSA9IFwiJ2NoaWxkcmVuJ1wiO1xyXG4gICAgICAgICAgICAvL29wdHMuc2VsZWN0ZWRBdHRyaWJ1dGUgPT09ICduZ01vZGVsJ1xyXG4gICAgICAgICAgICBvcHRzLnVzZUNoZWNrYm94ZXMgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gdG8ga25vdyBvcHRpb25zIG9ubHlcclxuICAgICAgICAgICAgZnVuY3Rpb24gb3B0aW9ucygpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IHNlbGVjdGVkIG5vZGVcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE5vZGVzID0gW11cclxuICAgICAgICAgICAgICAgIHRoaXMuaXZoVHJlZXZpZXdCZnMoZWxlbWVudCwgZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE5vZGVzLnB1c2gobm9kZSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vZGVzZWxlY3QgQWxsIG5vZGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLml2aFRyZWV2aWV3TWdyLmRlc2VsZWN0QWxsKHNjb3BlLnRyZWVEYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3NlbGVjdCBBbGwgbm9kZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuaXZoVHJlZXZpZXdNZ3Iuc2VsZWN0QWxsKHNjb3BlLnRyZWVEYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtb3JlIG9wdGlvbnMuLi4uLi4uLi4uXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICcgPGRpdiAgaXZoLXRyZWV2aWV3PVwidHJlZURhdGFcIic7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlICs9ICdpdmgtdHJlZXZpZXctaWQtYXR0cmlidXRlPVwiJyArIG9wdHMuaWRBdHRyaWJ1dGUgKyAnXCInO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSAnaXZoLXRyZWV2aWV3LWxhYmVsLWF0dHJpYnV0ZT1cIicgKyBvcHRzLmxhYmVsQXR0cmlidXRlICsgJ1wiJztcclxuICAgICAgICAgICAgdGVtcGxhdGUgKz0gJ2l2aC10cmVldmlldy1jaGlsZHJlbi1hdHRyaWJ1dGU9XCInICsgb3B0cy5jaGlsZHJlbkF0dHJpYnV0ZSArICdcIic7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlICs9ICdpdmgtdHJlZXZpZXctdXNlLWNoZWNrYm94ZXM9XCInICsgb3B0cy51c2VDaGVja2JveGVzICsgJ1wiJztcclxuXHJcbiAgICAgICAgICAgIC8vdGVtcGxhdGUrPSdpdmgtdHJlZXZpZXctc2VsZWN0ZWQtYXR0cmlidXRlPVwiJyArIGlzU2VsZWN0ZWQgKyAnXCInO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSAnaXZoLXRyZWV2aWV3LW9uLWNiLWNoYW5nZT1cImNoYW5nZUNhbGxiYWNrKGl2aE5vZGUpXCInO1xyXG5cclxuICAgICAgICAgICAgdGVtcGxhdGUgKz0gXCI+XCI7XHJcblxyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5odG1sKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5jb21waWxlcihlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUuY2hhbmdlQ2FsbGJhY2sgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmhjT3B0aW9ucy5TZWxlY3RPbmVPbmx5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdmhUcmVldmlld01nci5kZXNlbGVjdEFsbChzY29wZS50cmVlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdmhUcmVldmlld01nci5zZWxlY3RFYWNoKHNjb3BlLnRyZWVEYXRhLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWROb2RlcyA9IFtdXHJcbiAgICAgICAgICAgICAgICB0aGlzLml2aFRyZWV2aWV3QmZzKHNjb3BlLnRyZWVEYXRhLCBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTm9kZXMucHVzaChub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUubmdNb2RlbCA9IHNlbGVjdGVkTm9kZXMuam9pbignLCcpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIGNvbXBpbGVyOiBuZy5JQ29tcGlsZVNlcnZpY2UsIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgaXZoVHJlZXZpZXdPcHRpb25zOiBhbnksIGl2aFRyZWV2aWV3QmZzOiBhbnksIGl2aFRyZWV2aWV3TWdyOiBhbnkpID0+IG5ldyBIY21zVHJlZSh0cmFuc2xhdG9yLCBkYk1hbmFnZXIsIGNvbXBpbGVyLCB0aW1lb3V0LCBpdmhUcmVldmlld09wdGlvbnMsIGl2aFRyZWV2aWV3QmZzLCBpdmhUcmVldmlld01ncik7XHJcblxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcInRyYW5zbGF0ZVNlcnZpY2VcIiwgXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkY29tcGlsZVwiLCBcIiR0aW1lb3V0XCIsIFwiaXZoVHJlZXZpZXdPcHRpb25zXCIsIFwiaXZoVHJlZXZpZXdCZnNcIixcIml2aFRyZWV2aWV3TWdyXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc1RyZWUnLCBIY21zVHJlZS5GYWN0b3J5KCkpO1xyXG5cclxufVxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBJbXBvcnRGcm9tRXhjZWwgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICB4bHNPcHRpb25zOiBcIj1cIlxyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgKGNsaWNrRXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLnhsc09wdGlvbnMub25DbGljaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnhsc09wdGlvbnMub25DbGljayhlbGVtZW50KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdjaGFuZ2UnLCAoY2hhbmdlRXZlbnQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHNjb3BlLnhsc09wdGlvbnMuZmlsZU5hbWUgPSBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0ubmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeGxzID0gKDxhbnk+d2luZG93KS5YTFNYO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogcmVhZCB3b3JrYm9vayAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBic3RyID0gZS50YXJnZXQucmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgd29ya2Jvb2sgPSB4bHMucmVhZChic3RyLCB7IHR5cGU6ICdiaW5hcnknIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3Rfc2hlZXRfbmFtZSA9IHdvcmtib29rLlNoZWV0TmFtZXNbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhT2JqZWN0cyA9IHhscy51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1tmaXJzdF9zaGVldF9uYW1lXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnhsc09wdGlvbnMuZGF0YSA9IGRhdGFPYmplY3RzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS54bHNPcHRpb25zLm9uQ2hhbmdlZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnhsc09wdGlvbnMub25DaGFuZ2VkKGRhdGFPYmplY3RzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgSW1wb3J0RnJvbUV4Y2VsKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdpbXBvcnRGcm9tRXhjZWwnLCBJbXBvcnRGcm9tRXhjZWwuRmFjdG9yeSgpKTtcclxufVxyXG5cclxuIiwibW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBIY21zT3JnQ2hhcnQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0EnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICB0cmVlT3B0aW9uczogJz0nXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHB1YmxpYyBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5kYXRhID0ge307XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGdldFRyZWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3VzZXJJZD0nICsgc2NvcGUudHJlZU9wdGlvbnMudXNlcklkICsgJyZmb3JtSWQ9JyArIHNjb3BlLnRyZWVPcHRpb25zLmZvcm1JZFxyXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gJyZ0cmVlSWQ9JyArIHNjb3BlLnRyZWVPcHRpb25zLnRyZWVJZCArICcmbGFuZ0lkPScgKyBzY29wZS50cmVlT3B0aW9ucy5sYW5nSWQ7XHJcbiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZyArPSAnJmNvbXBhbnlJZD0nICsgc2NvcGUudHJlZU9wdGlvbnMuY29tcGFueUlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiVHJlZVZpZXdcIiwgJ0dldE9yZ0NoYXJ0JywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5vcmdjaGFydCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzogc2NvcGUuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25vZGVJZCc6IFwiVHJlZU5vZGVJZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm9kZVRpdGxlJzogJ3RpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25vZGVDb250ZW50JzogJ2NvbnRlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhwb3J0QnV0dG9uJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2V4cG9ydEZpbGVuYW1lJzogJ015T3JnQ2hhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyd6b29tJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ncGFuJzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RyYWdnYWJsZSc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkZXB0aCc6IDJcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuLmFsZXJ0KFwiQ2FuIG5vdCBsb2FkIHRyZWUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBnZXRUcmVlKCk7XHJcblxyXG4gICAgICAgICAgICAvL3Njb3BlLiR3YXRjaCggJ3RyZWVPcHRpb25zLnRyZWVJZCcgLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwobmV3VmFsdWUpICYmIG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgZ2V0VHJlZSgpO1xyXG4gICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgIC8vfSlcclxuICAgICAgICAgICAgLy92YXIgZGF0YVVybCA9IGFwcENvbmZpZy53ZWJBcGlVcmwgKyBcIi9UcmVlVmlldy9HZXRPcmdDaGFydC9cIiArIHF1ZXJ5U3RyaW5nO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAodHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlKSA9PiBuZXcgSGNtc09yZ0NoYXJ0KHRyYW5zbGF0b3IsIGRiTWFuYWdlcik7XHJcblxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcInRyYW5zbGF0ZVNlcnZpY2VcIiwgXCJkYXRhTWFuYWdlclNlcnZpY2VcIl07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0NvbnRyb2xzLmRpcmVjdGl2ZSgnaGNtc09yZ0NoYXJ0JywgSGNtc09yZ0NoYXJ0LkZhY3RvcnkoKSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcblxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFByb2ZpbGVJbmZvIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdBRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7XHJcbiAgICAgICAgICAgIHByb2ZpbGVJZDogXCI9XCIsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGU6IHN0cmluZyA9IGA8ZGl2ID5cclxuIFxyXG4gICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFibGVcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyXCI+IFxyXG4gICAgICAgICAgICA8aDE+e3t0cmFuc2xhdGVUZXh0KCdFbXBsb3llZUluZm9ybWF0aW9uJyl9fTwvaDE+XHJcbiAgICAgICAgPC9kaXY+ICAgICAgIFxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0yXCI+XHJcbiAgICAgICAgICAgPGI+e3t0cmFuc2xhdGVUZXh0KCdFbXBsb3llZU5vJyl9fTwvYj4gXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxyXG4gICAgICAgICAgICB7e2VtcGxveWVlSW5mby5Qcm9maWxlQ29kZX19XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuICAgICAgICAgICA8Yj57e3RyYW5zbGF0ZVRleHQoJ0VtcGxveWVlTmFtZScpfX08L2I+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMFwiPlxyXG4gICAgICAgICAgICB7e2VtcGxveWVlSW5mby5Qcm9maWxlTmFtZX19XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTJcIj5cclxuICAgICAgICAgIDxiPnt7dHJhbnNsYXRlVGV4dCgnRW1wbG95ZWVOYW1lXycpfX08L2I+IFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tMTBcIj5cclxuICAgICAgICAgICAge3tlbXBsb3llZUluZm8uUHJvZmlsZU5hbWVffX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PmA7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICAvL3Njb3BlLmN1cnJlbnRMYW5ndWFnZSA9IGxvZ2luSW5mby5nZXRDdXJyZW50TGFuZ3VhZ2UoKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ3Byb2ZpbGVJZCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRFbXBEYXRhKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzY29wZS50cmFuc2xhdGVUZXh0ID0gKHRleHQpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUodGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGdldEVtcERhdGEgPSAocHJvZmlsZUlkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3Byb2ZpbGVJZD0nICsgcHJvZmlsZUlkICsgJyZ1c2VySWQ9JyArIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlByb2ZpbGVcIiwgJ0dldFByb2ZpbGVJbmZvJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmVtcGxveWVlSW5mbyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuZW1wbG95ZWVJbmZvID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpID0+IG5ldyBQcm9maWxlSW5mbyh0cmFuc2xhdG9yLCBkYk1hbmFnZXIpO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCJdO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNDb250cm9scy5kaXJlY3RpdmUoJ3Byb2ZpbGVJbmZvJywgUHJvZmlsZUluZm8uRmFjdG9yeSgpKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwibW9kdWxlIEhDTVMuQ29udHJvbHMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBQcm9maWxlTGlzdCBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQUUnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBvcHRpb25zOiAnPSdcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGBcclxuPHNtYXJ0LWdyaWQgaWQ9XCJncmRcIiBuYW1lPVwiZ3JpZC5uYW1lXCIgZGF0YT1cInByb2ZpbGVMaXN0XCIgb3B0aW9ucz1cIm9wdGlvbnNcIiBjb2x1bW4tZGVmcz1cImdyaWQuY29sdW1uc1wiIHN0eWxlPVwiaGVpZ2h0OjUwMHB4O1wiPjwvc21hcnQtZ3JpZD5cclxuYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHB1YmxpYyBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwdWJsaWMgJHRpbWVPdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgc2NvcGUuZ3JpZCA9IHsgbmFtZTogJ2xpc3RHcmlkJyB9O1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLlNlbGVjdEJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuRWRpdEJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLkRlbGV0ZUJ1dHRvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBzY29wZS5vcHRpb25zLmVuYWJsZVF1aWNrRmlsdGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuZW5hYmxlUnRsID0gY3VycmVudEluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgLy9zY29wZS5jdXJyZW50TGFuZ3VhZ2UgPSBsb2dpbkluZm8uZ2V0Q3VycmVudExhbmd1YWdlKCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnRyYW5zbGF0ZVRleHQgPSAodGV4dCk6IHN0cmluZyA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZSh0ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzY29wZS5zZWxlY3RUZXh0ID0gXCJcIjsvLyBzY29wZS50cmFuc2xhdGVUZXh0KCdTZWxlY3QnKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2NvcGUuY29sdW1ucyA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICBzY29wZS5ncmlkLmNvbHVtbnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHNjb3BlLnNlbGVjdFRleHQsIHdpZHRoOiA1MCwgY2VsbFJlbmRlcmVyOiBzZWxlY3RDZWxsLCBzdXBwcmVzc01lbnU6IHRydWUsIHN1cHByZXNzU29ydGluZzogdHJ1ZSwgc3VwcHJlc3NTaXplVG9GaXQ6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgZmllbGQ6ICdQcm9maWxlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JywgaGVhZGVyTmFtZTogc2NvcGUudHJhbnNsYXRlVGV4dCgnUHJvZmlsZUNvZGUnKSB9LFxyXG4gICAgICAgICAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdQcm9maWxlTmFtZScpIH0sXHJcbiAgICAgICAgICAgICAgICB7IGZpZWxkOiAnUHJvZmlsZU5hbWVfJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiBzY29wZS50cmFuc2xhdGVUZXh0KCdQcm9maWxlTmFtZV8nKSB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2VsZWN0Q2VsbChwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RDYWxsYmFjayA9IHBhcmFtcy5hcGkuZ3JpZENvcmUuZ3JpZE9wdGlvbnMuc2VsZWN0Q2FsbGJhY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0Q2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tcHJpbWFyeVwiPjxzcGFuIGNsYXNzPVwiZmEgZmEtaGFuZC1wb2ludGVyLW8gY2VudGVyLWJsb2NrXCI+PC9zcGFuPjwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHsgc2VsZWN0Q2FsbGJhY2socGFyYW1zLmRhdGEpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGdldEVtcERhdGFMaXN0ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz91c2VySWQ9JyArIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIGN1cnJlbnRJbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlByb2ZpbGVcIiwgJ0dldFByb2ZpbGVMaXN0JywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnByb2ZpbGVMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5wcm9maWxlTGlzdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ2V0RW1wRGF0YUxpc3QoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAodHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSA9PiBuZXcgUHJvZmlsZUxpc3QodHJhbnNsYXRvciwgZGJNYW5hZ2VyLCAkdGltZW91dCk7XHJcblxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcInRyYW5zbGF0ZVNlcnZpY2VcIiwgXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkdGltZW91dFwiXTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdwcm9maWxlTGlzdCcsIFByb2ZpbGVMaXN0LkZhY3RvcnkoKSk7XHJcblxyXG59XHJcblxyXG5cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkNvbnRyb2xzIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgU21hcnRHcmlkIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgb3B0aW9uczogXCI9XCIsXHJcbiAgICAgICAgICAgIGRhdGE6IFwiPVwiLFxyXG4gICAgICAgICAgICBjb2x1bW5EZWZzOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhpZGVDb21tb25TZWFyY2g6IFwiPT9cIlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHRlbXBsYXRlOiBzdHJpbmcgPSBgXHJcbjxkaXY+XHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj1cIkZpbHRlci4uLlwiIHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzZWFyY2hGaWx0ZXJcIiBuZy1jaGFuZ2U9XCJvbkZpbHRlckNoYW5nZWQoc2VhcmNoRmlsdGVyKVwiIC8+XHJcbiAgICAgICAgPCEtLTxidXR0b24gc3R5bGU9XCJtYXJnaW4tbGVmdDogMjBweDtcIiBvbmNsaWNrPVwib25QcmludFF1aWNrRmlsdGVyVGV4dHModGhpcy52YWx1ZSlcIj5QcmludCBRdWljayBGaWx0ZXIgVGV4dHM8L2J1dHRvbj4tLT5cclxuICAgIDwvZGl2PlxyXG4gICAgPGRpdiBhZy1ncmlkPVwib3B0aW9uc1wiIHN0eWxlPVwiaGVpZ2h0OiA0MDBweDtcIiBjbGFzcz1cImFnLXRoZW1lLWZyZXNoXCI+PC9kaXY+XHJcbjwvZGl2PlxyXG5gO1xyXG4gICAgICAgIC8vY2xhc3MgPSBcImFnLWZyZXNoXCIgIGNsYXNzPVwiYWctYm9vdHN0cmFwXCJcclxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbXBpbGU6IG5nLklEaXJlY3RpdmVDb21waWxlRm4gPSAoZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHByZTogKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5vcHRpb25zID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zLnJvd0RhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5jb2x1bW5EZWZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuZW5hYmxlRmlsdGVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zLmVuYWJsZVNvcnRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuc2hvd1Rvb2xQYW5lbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2NvcGUub3B0aW9ucy5zdXBwcmVzc0VudGVycHJpc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLm9wdGlvbnMucm93R3JvdXBQYW5lbFNob3c9J2Fsd2F5cycsIC8vIG9uIG9mIFsnYWx3YXlzJywnb25seVdoZW5Hcm91cGluZyddXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY29wZS5vcHRpb25zLnJvd0dyb3VwUGFuZWxTaG93ID0gJ29ubHlXaGVuR3JvdXBpbmcnOyAvLyBvbiBvZiBbJ2Fsd2F5cycsJ29ubHlXaGVuR3JvdXBpbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgIC8vc2NvcGUub3B0aW9ucy5waXZvdFBhbmVsU2hvdyA9IFwib25seVdoZW5QaXZvdGluZ1wiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zLmVuYWJsZUNvbFJlc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5hbmd1bGFyQ29tcGlsZVJvd3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuYW5ndWxhckNvbXBpbGVIZWFkZXJzID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zY29wZS5vcHRpb25zLnBhZ2luYXRpb25QYWdlU2l6ZSA9IDEwO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2NvcGUub3B0aW9ucy5wYWdpbmF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLm9wdGlvbnMucGFnaW5hdGlvbkF1dG9QYWdlU2l6ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5lbmFibGVSdGwgPSBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vc2NvcGUub3B0aW9ucy5vbkdyaWRSZWFkeSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICBzY29wZS5hcGkgPSBwYXJhbXMuYXBpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIC8vc2NvcGUub3B0aW9ucy5hcGkuc2V0Um93RGF0YShzY29wZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAvL3Njb3BlLm9wdGlvbnMuYXBpLnNldENvbHVtbkRlZnMoc2NvcGUuY29sdW1uRGVmcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuY29tcG9uZW50cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVBpY2tlcjogZ2V0RGF0ZVBpY2tlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lUGlja2VyOiBnZXRUaW1lUGlja2VyKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsLkxhbmdJZCAhPT0gb2xkVmFsLkxhbmdJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWwuTGFuZ0lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5lbmFibGVSdGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuZW5hYmxlUnRsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuYXBpLnJlZnJlc2hJbk1lbW9yeVJvd01vZGVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5hcGkucmVmcmVzaFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zLmFwaS5yZWZyZXNoSGVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5vbk1vZGVsVXBkYXRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbnMucm93RGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBzY29wZS5vcHRpb25zLmFwaS5nZXRNb2RlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsUm93cyA9IHNjb3BlLm9wdGlvbnMucm93RGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkUm93cyA9IG1vZGVsLmdldFJvd0NvdW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5yb3dDb3VudCA9IHByb2Nlc3NlZFJvd3MudG9Mb2NhbGVTdHJpbmcoKSArICcgLyAnICsgdG90YWxSb3dzLnRvTG9jYWxlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUub3B0aW9ucy5jb2x1bW5EZWZzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5jb2x1bW5EZWZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNvbHVtbnMgPSBmaWx0ZXJDb2x1bW5zKHNjb3BlLm9wdGlvbnMuY29sdW1uRGVmcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLml0ZW1zQnlQYWdlID0gMTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ2RhdGEnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY29wZS5vcHRpb25zLmFwaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5vcHRpb25zLmFwaS5zZXRSb3dEYXRhKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NvcGUub3B0aW9ucy5hcGkuc2l6ZUNvbHVtbnNUb0ZpdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignY29sdW1uRGVmcycsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY29sdW1ucyA9IGZpbHRlckNvbHVtbnModmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLm9wdGlvbnMuYXBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuYXBpLnNldENvbHVtbkRlZnModmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hdXRvU2l6ZUFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLm9wdGlvbnMuYXBpLnNpemVDb2x1bW5zVG9GaXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYXV0b1NpemVBbGwoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxDb2x1bW5JZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5jb2x1bW5BcGkuZ2V0QWxsQ29sdW1ucygpLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29sdW1uSWRzLnB1c2goY29sdW1uLmNvbElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuY29sdW1uQXBpLmF1dG9TaXplQ29sdW1ucyhhbGxDb2x1bW5JZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZpbHRlckNvbHVtbnMoYWxsQ29sdW1ucykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQ29sdW1ucy5maWx0ZXIoZnVuY3Rpb24gKGNvbHVtbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFjb2x1bW4uaGlkZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkZpbHRlckNoYW5nZWQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUub3B0aW9ucy5hcGkuc2V0UXVpY2tGaWx0ZXIodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gb25QcmludFF1aWNrRmlsdGVyVGV4dHMoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm9wdGlvbnMuYXBpLmZvckVhY2hOb2RlKGZ1bmN0aW9uIChyb3dOb2RlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1JvdyAnICsgaW5kZXggKyAnIHF1aWNrIGZpbHRlciB0ZXh0IGlzICcgKyByb3dOb2RlLnF1aWNrRmlsdGVyQWdncmVnYXRlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLm9uRmlsdGVyQ2hhbmdlZCA9IG9uRmlsdGVyQ2hhbmdlZDtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5vblByaW50UXVpY2tGaWx0ZXJUZXh0cyA9IG9uUHJpbnRRdWlja0ZpbHRlclRleHRzO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBwb3N0OiAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoKSA9PiBuZXcgU21hcnRHcmlkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zQ29udHJvbHMuZGlyZWN0aXZlKCdzbWFydEdyaWQnLCBTbWFydEdyaWQuRmFjdG9yeSgpKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCJtb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgLy9leHBvcnQgY2xhc3MgRGF0ZXBpY2tlciB7XHJcblxyXG4gICAgLy8gICAgcHVibGljIGVJbnB1dDogYW55O1xyXG5cclxuICAgIC8vICAgIC8vIGdldHMgY2FsbGVkIG9uY2UgYmVmb3JlIHRoZSByZW5kZXJlciBpcyB1c2VkXHJcbiAgICAvLyAgICBwdWJsaWMgaW5pdCA9IChwYXJhbXMpID0+IHtcclxuICAgIC8vICAgICAgICAvLyBjcmVhdGUgdGhlIGNlbGxcclxuICAgIC8vICAgICAgICB0aGlzLmVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAvLyAgICAgICAgdGhpcy5lSW5wdXQudmFsdWUgPSBwYXJhbXMudmFsdWU7XHJcblxyXG4gICAgLy8gICAgICAgIC8vIGh0dHBzOi8vanF1ZXJ5dWkuY29tL2RhdGVwaWNrZXIvXHJcbiAgICAvLyAgICAgICAgJCh0aGlzLmVJbnB1dCkuZGF0ZXBpY2tlcih7XHJcbiAgICAvLyAgICAgICAgICAgIGRhdGVGb3JtYXQ6ICdkZC9tbS95eSdcclxuICAgIC8vICAgICAgICB9KTtcclxuICAgIC8vICAgIH07XHJcblxyXG4gICAgLy8gICAgLy8gZ2V0cyBjYWxsZWQgb25jZSB3aGVuIGdyaWQgcmVhZHkgdG8gaW5zZXJ0IHRoZSBlbGVtZW50XHJcbiAgICAvLyAgICBwdWJsaWMgZ2V0R3VpID0gKCkgPT4ge1xyXG4gICAgLy8gICAgICAgIHJldHVybiB0aGlzLmVJbnB1dDtcclxuICAgIC8vICAgIH07XHJcblxyXG4gICAgLy8gICAgLy8gZm9jdXMgYW5kIHNlbGVjdCBjYW4gYmUgZG9uZSBhZnRlciB0aGUgZ3VpIGlzIGF0dGFjaGVkXHJcbiAgICAvLyAgICBwdWJsaWMgYWZ0ZXJHdWlBdHRhY2hlZCA9ICgpID0+IHtcclxuICAgIC8vICAgICAgICB0aGlzLmVJbnB1dC5mb2N1cygpO1xyXG4gICAgLy8gICAgICAgIHRoaXMuZUlucHV0LnNlbGVjdCgpO1xyXG4gICAgLy8gICAgfTtcclxuXHJcbiAgICAvLyAgICAvLyByZXR1cm5zIHRoZSBuZXcgdmFsdWUgYWZ0ZXIgZWRpdGluZ1xyXG4gICAgLy8gICAgcHVibGljIGdldFZhbHVlID0gKCkgPT4ge1xyXG4gICAgLy8gICAgICAgIHJldHVybiB0aGlzLmVJbnB1dC52YWx1ZTtcclxuICAgIC8vICAgIH07XHJcblxyXG4gICAgLy8gICAgLy8gYW55IGNsZWFudXAgd2UgbmVlZCB0byBiZSBkb25lIGhlcmVcclxuICAgIC8vICAgIHB1YmxpYyBkZXN0cm95ID0gKCkgPT4ge1xyXG4gICAgLy8gICAgICAgIC8vIGJ1dCB0aGlzIGV4YW1wbGUgaXMgc2ltcGxlLCBubyBjbGVhbnVwLCB3ZSBjb3VsZFxyXG4gICAgLy8gICAgICAgIC8vIGV2ZW4gbGVhdmUgdGhpcyBtZXRob2Qgb3V0IGFzIGl0J3Mgb3B0aW9uYWxcclxuICAgIC8vICAgIH07XHJcblxyXG4gICAgLy8gICAgLy8gaWYgdHJ1ZSwgdGhlbiB0aGlzIGVkaXRvciB3aWxsIGFwcGVhciBpbiBhIHBvcHVwXHJcbiAgICAvLyAgICBwdWJsaWMgaXNQb3B1cCA9ICgpID0+IHtcclxuICAgIC8vICAgICAgICAvLyBhbmQgd2UgY291bGQgbGVhdmUgdGhpcyBtZXRob2Qgb3V0IGFsc28sIGZhbHNlIGlzIHRoZSBkZWZhdWx0XHJcbiAgICAvLyAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gICAgfTtcclxuXHJcblxyXG5cclxuICAgIC8vfVxyXG5cclxuICAgIC8vZXhwb3J0IGNsYXNzIFRpbWVwaWNrZXIge1xyXG5cclxuICAgIC8vICAgIHB1YmxpYyBlSW5wdXQ6IGFueTtcclxuXHJcbiAgICAvLyAgICAvLyBnZXRzIGNhbGxlZCBvbmNlIGJlZm9yZSB0aGUgcmVuZGVyZXIgaXMgdXNlZFxyXG4gICAgLy8gICAgcHVibGljIGluaXQgPSAocGFyYW1zKSA9PiB7XHJcbiAgICAvLyAgICAgICAgLy8gY3JlYXRlIHRoZSBjZWxsXHJcbiAgICAvLyAgICAgICAgdGhpcy5lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgLy8gICAgICAgIHRoaXMuZUlucHV0LnZhbHVlID0gcGFyYW1zLnZhbHVlO1xyXG5cclxuICAgIC8vICAgICAgICAvLyBodHRwczovL2pxdWVyeXVpLmNvbS9kYXRlcGlja2VyL1xyXG4gICAgLy8gICAgICAgICQodGhpcy5lSW5wdXQpLnRpbWVwaWNrZXIoe1xyXG4gICAgLy8gICAgICAgICAgICB0aW1lRm9ybWF0OiAnSEg6bW06c3MnXHJcbiAgICAvLyAgICAgICAgfSk7XHJcbiAgICAvLyAgICB9O1xyXG5cclxuICAgIC8vICAgIC8vIGdldHMgY2FsbGVkIG9uY2Ugd2hlbiBncmlkIHJlYWR5IHRvIGluc2VydCB0aGUgZWxlbWVudFxyXG4gICAgLy8gICAgcHVibGljIGdldEd1aSA9ICgpID0+IHtcclxuICAgIC8vICAgICAgICByZXR1cm4gdGhpcy5lSW5wdXQ7XHJcbiAgICAvLyAgICB9O1xyXG5cclxuICAgIC8vICAgIC8vIGZvY3VzIGFuZCBzZWxlY3QgY2FuIGJlIGRvbmUgYWZ0ZXIgdGhlIGd1aSBpcyBhdHRhY2hlZFxyXG4gICAgLy8gICAgcHVibGljIGFmdGVyR3VpQXR0YWNoZWQgPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgdGhpcy5lSW5wdXQuZm9jdXMoKTtcclxuICAgIC8vICAgICAgICB0aGlzLmVJbnB1dC5zZWxlY3QoKTtcclxuICAgIC8vICAgIH07XHJcblxyXG4gICAgLy8gICAgLy8gcmV0dXJucyB0aGUgbmV3IHZhbHVlIGFmdGVyIGVkaXRpbmdcclxuICAgIC8vICAgIHB1YmxpYyBnZXRWYWx1ZSA9ICgpID0+IHtcclxuICAgIC8vICAgICAgICByZXR1cm4gdGhpcy5lSW5wdXQudmFsdWU7XHJcbiAgICAvLyAgICB9O1xyXG5cclxuICAgIC8vICAgIC8vIGFueSBjbGVhbnVwIHdlIG5lZWQgdG8gYmUgZG9uZSBoZXJlXHJcbiAgICAvLyAgICBwdWJsaWMgZGVzdHJveSA9ICgpID0+IHtcclxuICAgIC8vICAgICAgICAvLyBidXQgdGhpcyBleGFtcGxlIGlzIHNpbXBsZSwgbm8gY2xlYW51cCwgd2UgY291bGRcclxuICAgIC8vICAgICAgICAvLyBldmVuIGxlYXZlIHRoaXMgbWV0aG9kIG91dCBhcyBpdCdzIG9wdGlvbmFsXHJcbiAgICAvLyAgICB9O1xyXG5cclxuICAgIC8vICAgIC8vIGlmIHRydWUsIHRoZW4gdGhpcyBlZGl0b3Igd2lsbCBhcHBlYXIgaW4gYSBwb3B1cFxyXG4gICAgLy8gICAgcHVibGljIGlzUG9wdXAgPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgLy8gYW5kIHdlIGNvdWxkIGxlYXZlIHRoaXMgbWV0aG9kIG91dCBhbHNvLCBmYWxzZSBpcyB0aGUgZGVmYXVsdFxyXG4gICAgLy8gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIC8vICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAvL31cclxuXHJcblxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXREYXRlUGlja2VyKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIERhdGVwaWNrZXIoKSB7IH1cclxuICAgICAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgICAgICB0aGlzLmVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgdGhpcy5lSW5wdXQudmFsdWUgPSBwYXJhbXMudmFsdWU7XHJcbiAgICAgICAgICAgICQodGhpcy5lSW5wdXQpLmRhdGVwaWNrZXIoeyBkYXRlRm9ybWF0OiBcImRkL21tL3l5XCIgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5nZXRHdWkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVJbnB1dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmFmdGVyR3VpQXR0YWNoZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZUlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZUlucHV0LnNlbGVjdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVJbnB1dC52YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuaXNQb3B1cCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIERhdGVwaWNrZXI7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGV4cG9ydCBmdW5jdGlvbiBnZXRUaW1lUGlja2VyKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFRpbWVwaWNrZXIoKSB7IH1cclxuICAgICAgICBUaW1lcGlja2VyLnByb3RvdHlwZS5pbml0ID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgdGhpcy5lSW5wdXQudmFsdWUgPSBwYXJhbXMudmFsdWU7XHJcbiAgICAgICAgICAgICQodGhpcy5lSW5wdXQpLnRpbWVwaWNrZXIoe1xyXG4gICAgICAgICAgICAgICAgbWludXRlU3RlcDogMSxcclxuICAgICAgICAgICAgICAgIC8vdGVtcGxhdGU6ICdtb2RhbCcsXHJcbiAgICAgICAgICAgICAgICAvL2FwcGVuZFdpZGdldFRvOiAnYm9keScsXHJcbiAgICAgICAgICAgICAgICBzaG93U2Vjb25kczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dNZXJpZGlhbjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0VGltZTogZmFsc2VcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUaW1lcGlja2VyLnByb3RvdHlwZS5nZXRHdWkgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVJbnB1dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRpbWVwaWNrZXIucHJvdG90eXBlLmFmdGVyR3VpQXR0YWNoZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZUlucHV0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZUlucHV0LnNlbGVjdCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVGltZXBpY2tlci5wcm90b3R5cGUuZ2V0VmFsdWUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVJbnB1dC52YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRpbWVwaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgVGltZXBpY2tlci5wcm90b3R5cGUuaXNQb3B1cCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRpbWVwaWNrZXI7XHJcbiAgICB9XHJcblxyXG5cclxufSIsIlxyXG5tb2R1bGUgSENNUy5Db250cm9scyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFNtYXJ0QWxlcnQge1xyXG5cclxuICAgICAgICBwcml2YXRlIHdhcm5pbmdDb3VudGVyOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBBbGVydCA9IChtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aXRsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHdpbmRvd1snYXBwQ29uZmlnJ10uYXBwbGljYXRpb25OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRbJ3NtYWxsQm94J10oe1xyXG4gICAgICAgICAgICAgICAgdGl0bGU6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIjxpIGNsYXNzPSdmYSBmYS1jbG9jay1vJz48L2k+IDxpPlwiICsgdGl0bGUgKyBcIjwvaT5cIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM1Rjg5NUZcIixcclxuICAgICAgICAgICAgICAgIGljb25TbWFsbDogXCJmYSBmYS1jaGVjayBib3VuY2UgYW5pbWF0ZWRcIixcclxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDgwMDBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyB3aW5kb3cuYWxlcnQobWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgV2FybmluZyA9IChtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aXRsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHdpbmRvd1snYXBwQ29uZmlnJ10uYXBwbGljYXRpb25OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRbJ2JpZ0JveCddKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgIC8vIGNvbG9yOiBcIiNGRjhBNjVcIixcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNDNzkxMjFcIixcclxuICAgICAgICAgICAgICAgIGljb246IFwiZmEgZmEtd2FybmluZyBzaGFrZSBhbmltYXRlZFwiLFxyXG4gICAgICAgICAgICAgICAgbnVtYmVyOiArK3RoaXMud2FybmluZ0NvdW50ZXIsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBFcnJvciA9IChtZXNzYWdlOiBzdHJpbmcsIHRpdGxlPzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aXRsZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHdpbmRvd1snYXBwQ29uZmlnJ10uYXBwbGljYXRpb25OYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRbJ2JpZ0JveCddKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjQzQ2QTY5XCIsXHJcbiAgICAgICAgICAgICAgICBpY29uOiBcImZhIGZhLXdhcm5pbmcgc2hha2UgYW5pbWF0ZWRcIixcclxuICAgICAgICAgICAgICAgIG51bWJlcjogKyt0aGlzLndhcm5pbmdDb3VudGVyLFxyXG4gICAgICAgICAgICAgICAgdGltZW91dDogMTAwMDBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIENvbmZpcm0gPSAobWVzc2FnZTogc3RyaW5nLCB0aXRsZT86IHN0cmluZywgeWVzQ2FsbEJhY2s/OiBGdW5jdGlvbiwgbm9DYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICRbJ1NtYXJ0TWVzc2FnZUJveCddKHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBidXR0b25zOiAnW05vXVtZZXNdJ1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoQnV0dG9uUHJlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKEJ1dHRvblByZXNzZWQgPT09IFwiWWVzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeWVzQ2FsbEJhY2sgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZXNDYWxsQmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChCdXR0b25QcmVzc2VkID09PSBcIk5vXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobm9DYWxsQmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vQ2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL2hjbXNVdGlsaXRpZXMuc2VydmljZSgnc21hcnRBbGVydFNlcnZpY2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICByZXR1cm4gbmV3IFNtYXJ0QWxlcnQoKTtcclxuICAgIC8vfSk7XHJcblxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9zY3JpcHRzL3R5cGluZ3MvYW5ndWxhcmpzL2FuZ3VsYXIuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kYXRhYWNjZXNzL21vZHVsZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kYXRhYWNjZXNzL3N0YXJ0dXAvc3RhcnR1cC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kYXRhYWNjZXNzL3NlcnZpY2VzL2RhdGFtYW5hZ2VyLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc2VydmljZXMvdHJhbnNsYXRlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc3RhcnR1cC91dGlsaXR5LnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc3RhcnR1cC9jdXJyZW50bG9naW5pbmZvLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc3RhcnR1cC9kYXRhYmFzZXByb2ZpbGUudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2xhbmd1YWdlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc3RhcnR1cC9jb21wYW55LnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc3RhcnR1cC91c2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLk1lbnVzIHtcclxuXHJcblxyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICBleHBvcnQgdmFyIGhjbXNNZW51czogbmcuSU1vZHVsZSA9XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoXCJIQ01TLk1lbnVzXCIsIFsnSENNUy5EYXRhQWNjZXNzJ10pO1xyXG5cclxuXHJcbn0gIiwiXHJcblxyXG5tb2R1bGUgSENNUy5NZW51cyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEhvbWVNZW51cyB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvcmdNZW51cyA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgYWxsTWVudXMgPSBbXTtcclxuICAgICAgICBwcml2YXRlIGZpbHRlcmVkTWVudXMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRSb290ID0geyBNZW51SWQ6IC0xLCBQYXJlbnRJZDogLTEgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0ZTogYW55O1xyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIG1lbnVUYWJzU2VydmljZTogTWVudVRhYnNTZXJ2aWNlLCAkc3RhdGU6IGFueSwgJGZpbHRlcjogbmcuSUZpbHRlclNlcnZpY2UsICRzY29wZTogYW55LCAkdGltZW91dDogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAkc3RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gJGZpbHRlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TWVudXMoKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIG1lbnVUYWJzU2VydmljZS5DbGVhck1lbnVUYWJzKCk7XHJcblxyXG4gICAgICAgICAgICAvLz09PT09PT09PT09PT09PT0gQ3JlYXRlIFJvdXRpbmcgU3RhdGVzIGZvciBjb25maWdcclxuICAgICAgICAgICAgdmFyIHJvb3RTdGF0ZSA9IHRoaXMuc3RhdGU7ICAgLy8gZm9yIHRlc3QgICAgJHJvb3RTY29wZS4kc3RhdGU7XHJcbiAgICAgICAgICAgIGlmICghcm9vdFN0YXRlLmhyZWYoXCJhcHAudGFicy5zdWJ0YWJzXCIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoXCJNZW51U3RhdGVzXCIsICdHZXRNZW51U3RhdGVzJywgXCJcIiwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZXMgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlcyhzdGF0ZXMpO1xyXG4gICAgICAgICAgICAgICAgfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc3RhdGVzID0gW107XHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy90cmFuc2xhdGUgTWVudXNcclxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlID0gKHRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnbWVudS0nICsgdGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0dldCBBbGwgQ3V1cmVudCBVc2VyIE1lbnVzXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRNZW51cyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRMb2dpbkluZm8gPSBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudExvZ2luSW5mbyA9PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3VzZXJJZD0nICsgY3VycmVudExvZ2luSW5mby5Vc2VyLlVzZXJJZCArICcgJmxhbmdJZD0nICsgY3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIkhvbWVNZW51c1wiLCAnR2V0QWxsJywgcXVlcnlTdHJpbmcsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWxsTWVudXMgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3JnTWVudXMgPSB0aGlzLmFsbE1lbnVzLnNsaWNlKCk7IC8vIGNvcHkgYWxsIG1lbnVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVXNlKGN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0lkKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFscnQgPSBuZXcgSENNUy5Db250cm9scy5TbWFydEFsZXJ0KCk7XHJcbiAgICAgICAgICAgICAgICBhbHJ0LkFsZXJ0KFwiQ2FuIG5vdCBsb2FkIG1lbnVzLlwiKTtcclxuXHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIG9wZW4gTWVudSBpbiBhIFRhYlxyXG4gICAgICAgIHByaXZhdGUgb3Blbk1lbnUgPSAobWVudSkgPT4ge1xyXG4gICAgICAgICAgICAvL3N5c01lbnVzLnNlbGVjdGVkTWVudSA9IG1lbnVcclxuICAgICAgICAgICAgLy9zeXNNZW51cy5zZWxlY3RlZE1lbnUuY2hpbGRyZW4gPSBnZXRDaGlsZE1lbnVzKG1lbnUuTWVudUlkKVxyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhtZW51LlN0YXRlTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7IGFwaUNvbnRyb2xsZXI6IG51bGwsIHJlcG9ydElkOiBudWxsLCBmb3JtSWQ6IG51bGwgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKG1lbnUuUmVwb3J0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnJlcG9ydElkID0gbWVudS5SZXBvcnRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKG1lbnUuRm9ybUlkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5mb3JtSWQgPSBtZW51LkZvcm1JZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobWVudS5Gb3JtQ29udHJvbGxlcikpXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmFwaUNvbnRyb2xsZXIgPSBtZW51LkZvcm1Db250cm9sbGVyO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubWVudVRhYnNTZXJ2aWNlLkFkZE1lbnVUYWIobWVudSwgcGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIC8vJHN0YXRlLmdvKG1lbnUuU3RhdGVOYW1lLCBwYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5nbyhcImFwcC50YWJzLnN1YnRhYnNcIik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgc2V0U2VsZWN0ZWRSb290ID0gKG1lbnUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvb3QgPSBtZW51O1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFBhcmVudE1lbnVzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgb3JkZXJCeSA9IHRoaXMuZmlsdGVyKCdvcmRlckJ5Jyk7XHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmdNZW51cyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gdGhpcy5maWx0ZXIoJ2ZpbHRlcicpKHRoaXMub3JnTWVudXMsIHsgUGFyZW50SWQ6IG51bGwgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcmRlckJ5KGNoaWxkcmVuLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gcGFyc2VJbnQoaXRlbS5NZW51T3JkZXIpOyB9LCBmYWxzZSAvKlJldmVyc2U9ZmFsc2UqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRDaGlsZE1lbnVzID0gKG1lbnVJZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChtZW51SWQpIHx8IG1lbnVJZCA9PSAnJylcclxuICAgICAgICAgICAgICAgIG1lbnVJZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBvcmRlckJ5ID0gdGhpcy5maWx0ZXIoJ29yZGVyQnknKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbE1lbnVzICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmZpbHRlcignZmlsdGVyJykodGhpcy5hbGxNZW51cywgeyBQYXJlbnRJZDogbWVudUlkIH0sIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JkZXJCeShjaGlsZHJlbiwgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIHBhcnNlSW50KGl0ZW0uTWVudU9yZGVyKTsgfSwgZmFsc2UgLypSZXZlcnNlPWZhbHNlKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vLy9maWx0ZXJNZW51c1xyXG4gICAgICAgIC8vcHJpdmF0ZSBmaWx0ZXJNZW51cyA9IChtZW51SWQpID0+IHtcclxuICAgICAgICAvLyAgICB0aGlzLmZpbHRlcmVkTWVudXMgPSAkKHRoaXMub3JnTWVudXMpLmZpbHRlcihmdW5jdGlvbiAoaSwgbikgeyByZXR1cm4gbi5NZW51SWQgPT09IG1lbnVJZCB9KTtcclxuXHJcbiAgICAgICAgLy8gICAgdGhpcy5hZGRDaGlsZE1lbnVzKG1lbnVJZCk7XHJcblxyXG4gICAgICAgIC8vICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICAgICAgICB0aGlzLmFsbE1lbnVzID0gW107XHJcbiAgICAgICAgLy8gICAgICAgIHRoaXMuYWxsTWVudXMgPSB0aGlzLmZpbHRlcmVkTWVudXMuc2xpY2UoKTtcclxuICAgICAgICAvLyAgICB9LCAwKTtcclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRDaGlsZE1lbnVzID0gKG1lbnVJZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChtZW51SWQpIHx8IG1lbnVJZCA9PSBudWxsIHx8IG1lbnVJZCA9PSAnJylcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcmRlckJ5ID0gdGhpcy5maWx0ZXIoJ29yZGVyQnknKTtcclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5vcmdNZW51cyAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gdGhpcy5maWx0ZXIoJ2ZpbHRlcicpKHRoaXMub3JnTWVudXMsIHsgUGFyZW50SWQ6IG1lbnVJZCB9LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuZmlsdGVyZWRNZW51cywgY2hpbGRyZW4pXHJcblxyXG4gICAgICAgICAgICAgICAgLy9pdGVyYXRlIGNoaWxkcmVuXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2hpbGRyZW4sICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZE1lbnVzKHZhbHVlLk1lbnVJZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vPT09PT09PT09PT09PT09PSBDcmVhdGUgUm91dGluZyBTdGF0ZXMgZm9yIGNvbmZpZ1xyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRTdGF0ZXMgPSAoZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0YXRlID0ge1xyXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCIvc3VidGFic1wiLFxyXG4gICAgICAgICAgICAgICAgLy9yZWxvYWRPblNlYXJjaDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAvL3JlbG9hZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBcInZpZXdzXCI6IHt9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdmlld05hbWUgPSBcInZpZXdcIiArIHZhbHVlLk1lbnVJZDsvLysgXCJAYXBwXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgc3RhdGUudmlld3Nbdmlld05hbWVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiB2YWx1ZS5TdGFydFZpZXcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogdmFsdWUuSnNDb250cm9sbGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogdmFsdWUuSnNDb250cm9sbGVyQVNcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB3aW5kb3dbJyRzdGF0ZVByb3ZpZGVyUmVmJ10uc3RhdGUoXCJhcHAudGFicy5zdWJ0YWJzXCIsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vd2luZG93WyckdXJsUm91dGVyJ10uc3luYygpO1xyXG4gICAgICAgICAgICAvL3dpbmRvd1snJHVybFJvdXRlciddLmxpc3RlbigpO1xyXG5cclxuICAgICAgICAgICAgLy8kc3RhdGUuZ28oXCJob21lXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc01lbnVzLmNvbnRyb2xsZXIoJ2hvbWVNZW51c0NvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJ21lbnVUYWJzU2VydmljZScsICckc3RhdGUnLCAnJGZpbHRlcicsICckc2NvcGUnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCBtZW51VGFic1NlcnZpY2UsICRzdGF0ZSwgJGZpbHRlcjogbmcuSUZpbHRlclNlcnZpY2UsICRzY29wZSwgJHRpbWVvdXQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEhvbWVNZW51cyh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsIG1lbnVUYWJzU2VydmljZSwgJHN0YXRlLCAkZmlsdGVyLCAkc2NvcGUsICR0aW1lb3V0KTtcclxuICAgIH1dKTtcclxuXHJcbn0iLCJtb2R1bGUgSENNUy5NZW51cyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElNZW51VGFiIHtcclxuICAgICAgICBNZW51SXRlbTogYW55O1xyXG4gICAgICAgIE1lbnVQYXJhbXM6IGFueTtcclxuICAgICAgICBhY3RpdmU6IGJvb2xlYW47XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgTWVudVRhYnNTZXJ2aWNlIHtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBtZW51VGFiczogQXJyYXk8SU1lbnVUYWI+ID0gW107XHJcbiAgICAgICAgcHVibGljIEFkZE1lbnVUYWIgPSAobWVudUl0ZW06IGFueSwgcGFyYW1zOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5tZW51VGFicy5sZW5ndGggKyAxO1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVUYWJzLnB1c2goeyBNZW51SXRlbTogbWVudUl0ZW0sIE1lbnVQYXJhbXM6IHBhcmFtcywgYWN0aXZlOiBmYWxzZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSZW1vdmVNZW51VGFiID0gKG1lbnVUYWI6IElNZW51VGFiKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMubWVudVRhYnMuaW5kZXhPZihtZW51VGFiKTtcclxuICAgICAgICAgICAgdGhpcy5tZW51VGFicy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIEdldE1lbnVUYWJzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tZW51VGFicztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBDbGVhck1lbnVUYWJzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVUYWJzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vc3RhdGljIEN1cnJlbnRMb2dpbkluZm86IElDdXJyZW50TG9naW5JbmZvID1udWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaGNtc01lbnVzLnNlcnZpY2UoXCJtZW51VGFic1NlcnZpY2VcIiwgTWVudVRhYnNTZXJ2aWNlKTtcclxuXHJcbiAgICBoY21zTWVudXMuc2VydmljZSgnbWVudVRhYnNTZXJ2aWNlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWVudVRhYnNTZXJ2aWNlKCk7XHJcbiAgICB9KTtcclxuXHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwibWVudXRhYnNzZXJ2aWNlLnRzXCIgLz5cclxubW9kdWxlIEhDTVMuTWVudXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBNZW51VGFic0NvbnRyb2xsZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gW1widHJhbnNsYXRlU2VydmljZVwiLCBcImRhdGFNYW5hZ2VyU2VydmljZVwiLCBcIm1lbnVUYWJzU2VydmljZVwiLCBcIiRzdGF0ZVwiLCBcIiRzY29wZVwiLCBcIiR0aW1lb3V0XCJdO1xyXG5cclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2U7XHJcbiAgICAgICAgcHJpdmF0ZSBtZW51VGFic1NlcnZpY2U6IE1lbnVUYWJzU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIHNjb3BlOiBhbnk7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0ZTogYW55O1xyXG4gICAgICAgIHByaXZhdGUgdGltZW91dDogYW55O1xyXG5cclxuICAgICAgICBwcml2YXRlIHRhYnM6IEFycmF5PGFueT4gPSBbXTtcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXI7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBtZW51VGFic1NlcnZpY2U6IE1lbnVUYWJzU2VydmljZSwgJHN0YXRlOiBhbnksICRzY29wZTogYW55LCAkdGltZW91dDogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZSA9IHRyYW5zbGF0ZVNlcnZpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyID0gZGJNYW5hZ2VyO1xyXG4gICAgICAgICAgICB0aGlzLm1lbnVUYWJzU2VydmljZSA9IG1lbnVUYWJzU2VydmljZTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICRzdGF0ZTtcclxuICAgICAgICAgICAgdGhpcy5zY29wZSA9ICRzY29wZTtcclxuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gJHRpbWVvdXQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRhYnMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIC8vc2NvcGUuJHN0YXRlID0gdGhpcy4kc3RhdGU7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGN1cnJlbnQgTG9naW4gSW5mb1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgLy9pZiAoY3VycmVudEluZm8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mbyA9IG5ldyBEYXRhQWNjZXNzLkN1cnJlbnRMb2dpbkluZm8odGhpcy5kYk1hbmFnZXIpO1xyXG4gICAgICAgICAgICAvLyAgICB2YXIgY3VycmVudFVzZXIgPSBhbmd1bGFyLmZyb21Kc29uKHNlc3Npb25TdG9yYWdlWyd1c2VyJ10pO1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mby5TZXRMb2dpbkluZm8oeyBVc2VySWQ6IGN1cnJlbnRVc2VyLnVzZXJJZCwgTGFuZ0lkOiBjdXJyZW50VXNlci5sYW5nSWQsIERhdGFiYXNlUHJvZmlsZUlkOiBjdXJyZW50VXNlci5kYXRhYmFzZVByb2ZpbGVJZCwgQ29tcGFueUlkOiBjdXJyZW50VXNlci5jb21wYW55SWQgfSk7XHJcbiAgICAgICAgICAgIC8vICAgIERhdGFBY2Nlc3MuU3RhcnRVcC5TZXRDdXJyZW50TG9naW5JbmZvKGN1cnJlbnRJbmZvKTtcclxuICAgICAgICAgICAgLy99XHJcblxyXG5cclxuICAgICAgICAgICAgLy90aGlzLnRhYnMgPSB0aGlzLm1lbnVUYWJzU2VydmljZS5HZXRNZW51VGFicygpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFRvTWVudVRhYnModGhpcy5tZW51VGFic1NlcnZpY2UuR2V0TWVudVRhYnMoKSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMubWVudVRhYnNTZXJ2aWNlLkdldE1lbnVUYWJzKCksXHJcbiAgICAgICAgICAgICAgICAobmV3VmFsdWU6IEFycmF5PElNZW51VGFiPiwgb2xkVmFsdWU6IEFycmF5PElNZW51VGFiPikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLnRhYnMgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmFjdGl2ZVRhYkluZGV4ID0gdGhpcy50YWJzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9NZW51VGFicyhuZXdWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zY29wZS5hZGRUb01lbnVUYWJzKG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdHJhbnNsYXRlIEZ1bmN0aW9uXHJcbiAgICAgICAgcHVibGljIHRyYW5zbGF0ZVRleHQgPSAodGV4dDogc3RyaW5nLCB2aWV3SWQ/OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2VydmljZS5UcmFuc2xhdGUodGV4dCwgdmlld0lkKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFkZFRvTWVudVRhYnMgPSAoX3RhYnM6IEFycmF5PElNZW51VGFiPikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoX3RhYnMgPT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciB0YWIgPSBfdGFic1tfdGFicy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKHRhYiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhYnMucHVzaCh0YWIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMudGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IHRoaXMudGFicy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90YWIuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy50YWJzLnB1c2goeyBoZWFkaW5nOiB0YWIuTWVudUl0ZW0uTWVudU5hbWUsIHJvdXRlOiB0YWIuTWVudUl0ZW0uU3RhdGVOYW1lICsgdGFiLk1lbnVJdGVtLk1lbnVJZCwgcGFyYW1zOiB0YWIuTWVudVBhcmFtcyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNsb3NlVGFiID0gKGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGFicy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9oY21zTWVudXMuY29udHJvbGxlcignbWVudVRhYnNDb250cm9sbGVyJywgTWVudVRhYnNDb250cm9sbGVyKTtcclxuXHJcbiAgICBoY21zTWVudXMuY29udHJvbGxlcignbWVudVRhYnNDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICdtZW51VGFic1NlcnZpY2UnLCAnJHN0YXRlJywgJyRzY29wZScsICckdGltZW91dCcsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsIG1lbnVUYWJzU2VydmljZSwgJHN0YXRlLCAkc2NvcGUsICR0aW1lb3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNZW51VGFic0NvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCBtZW51VGFic1NlcnZpY2UsICRzdGF0ZSwgJHNjb3BlLCAkdGltZW91dCk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLy8vIDxyZWZlcmVuY2UgcGF0aD1cIm1lbnV0YWJzc2VydmljZS50c1wiIC8+XHJcbi8vbW9kdWxlIEhDTVMuTWVudXMge1xyXG5cclxuLy8gICAgZXhwb3J0IGNsYXNzIE1lbnVOYXZUYWJzIGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4vLyAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0UnO1xyXG4vLyAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7fTsvLyB7ICdzZXRBZGRNZW51Rm4nOiBcIiY/XCIgfTtcclxuLy8gICAgICAgIHB1YmxpYyBwcmlvcml0eSA9IDA7XHJcblxyXG4vLyAgICAgICAgcHVibGljIHRlbXBsYXRlVXJsOiBzdHJpbmcgPSBcImFwcF9oZWJzL21lbnVzL21lbnVUYWJzLmh0bWxcIjtcclxuXHJcblxyXG4vLyAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2U7XHJcbi8vICAgICAgICBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2U7XHJcbi8vICAgICAgICBwcml2YXRlIG1lbnVUYWJzU2VydmljZTogTWVudVRhYnNTZXJ2aWNlO1xyXG5cclxuXHJcbi8vICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIG1lbnVUYWJzU2VydmljZTogTWVudVRhYnNTZXJ2aWNlLCBwcml2YXRlICRzdGF0ZTogYW55KSB7XHJcbi8vICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVTZXJ2aWNlID0gdHJhbnNsYXRlU2VydmljZTtcclxuLy8gICAgICAgICAgICB0aGlzLmRiTWFuYWdlciA9IGRiTWFuYWdlcjtcclxuLy8gICAgICAgICAgICB0aGlzLm1lbnVUYWJzU2VydmljZSA9IG1lbnVUYWJzU2VydmljZTtcclxuLy8gICAgICAgIH1cclxuXHJcbi8vICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgJGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG4vLyAgICAgICAgICAgIHNjb3BlLm1lbnVUYWJzID0gW107XHJcbi8vICAgICAgICAgICAgc2NvcGUuJHN0YXRlID0gdGhpcy4kc3RhdGU7XHJcbi8vICAgICAgICAgICAgLy8gY2hlY2sgY3VycmVudCBMb2dpbiBJbmZvXHJcbi8vICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbi8vICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmZvID09IG51bGwpIHtcclxuLy8gICAgICAgICAgICAgICAgY3VycmVudEluZm8gPSBuZXcgRGF0YUFjY2Vzcy5DdXJyZW50TG9naW5JbmZvKHRoaXMuZGJNYW5hZ2VyKTtcclxuLy8gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gYW5ndWxhci5mcm9tSnNvbihzZXNzaW9uU3RvcmFnZVsndXNlciddKTtcclxuLy8gICAgICAgICAgICAgICAgY3VycmVudEluZm8uU2V0TG9naW5JbmZvKHsgVXNlcklkOiBjdXJyZW50VXNlci51c2VySWQsIExhbmdJZDogY3VycmVudFVzZXIubGFuZ0lkLCBEYXRhYmFzZVByb2ZpbGVJZDogY3VycmVudFVzZXIuZGF0YWJhc2VQcm9maWxlSWQsIENvbXBhbnlJZDogY3VycmVudFVzZXIuY29tcGFueUlkIH0pO1xyXG4vLyAgICAgICAgICAgICAgICBEYXRhQWNjZXNzLlN0YXJ0VXAuU2V0Q3VycmVudExvZ2luSW5mbyhjdXJyZW50SW5mbyk7XHJcbi8vICAgICAgICAgICAgfVxyXG5cclxuXHJcbi8vICAgICAgICAgICAgLy8gdHJhbnNsYXRlIEZ1bmN0aW9uXHJcbi8vICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHZpZXdJZD86IGFueSkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSh0ZXh0LCB2aWV3SWQpO1xyXG4vLyAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbi8vICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMubWVudVRhYnNTZXJ2aWNlLkdldE1lbnVUYWJzKCksXHJcbi8vICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogQXJyYXk8SU1lbnVUYWI+LCBvbGRWYWx1ZTogQXJyYXk8SU1lbnVUYWI+KSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubWVudVRhYnMgPSBuZXdWYWx1ZTtcclxuLy8gICAgICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLmFkZFRvTWVudVRhYnMobmV3VmFsdWUpO1xyXG4vLyAgICAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcblxyXG5cclxuLy8gICAgICAgICAgICBzY29wZS5hZGRUb01lbnVUYWJzID0gKHRhYnM6IEFycmF5PElNZW51VGFiPikgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICBpZiAodGFicyA9PSB1bmRlZmluZWQpIHJldHVybjtcclxuLy8gICAgICAgICAgICAgICAgdmFyIHRhYiA9IHRhYnNbdGFicy5sZW5ndGggLSAxXTtcclxuLy8gICAgICAgICAgICAgICAgaWYgKHRhYiAhPT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICAvL3Njb3BlLm1lbnVUYWJzLnB1c2godGFiKTtcclxuLy8gICAgICAgICAgICAgICAgICAgIHNjb3BlLm1lbnVUYWJzLnB1c2goeyBoZWFkaW5nOiB0YWIuTWVudUl0ZW0uTWVudU5hbWUsIHJvdXRlOiB0YWIuTWVudUl0ZW0uU3RhdGVOYW1lICsgdGFiLk1lbnVJdGVtLk1lbnVJZCwgcGFyYW1zOiB0YWIuTWVudVBhcmFtcyB9KTtcclxuLy8gICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgICAgIHNjb3BlLmdvID0gKG1lbnU6IElNZW51VGFiKSA9PiB7XHJcbi8vICAgICAgICAgICAgICAgIHRoaXMuJHN0YXRlLmdvKG1lbnUuTWVudUl0ZW0uU3RhdGVOYW1lICsgbWVudS5NZW51SXRlbS5NZW51SWQsIG1lbnUuTWVudVBhcmFtcyk7XHJcbi8vICAgICAgICAgICAgfTtcclxuXHJcbi8vICAgICAgICAgICAgc2NvcGUuZ2V0U3RhdGUgPSAobWVudTogSU1lbnVUYWIpID0+IHtcclxuLy8gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFwiXCI7XHJcbi8vICAgICAgICAgICAgICAgIGlmIChtZW51Lk1lbnVQYXJhbXMgIT0gdW5kZWZpbmVkKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobWVudS5NZW51UGFyYW1zLCAodmFsdWUsIGtleSkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcyArPSBrZXkgKyBcIjonXCIgKyBtZW51Lk1lbnVQYXJhbXNba2V5XSArIFwiJyxcIjtcclxuLy8gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4vLyAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcy5zdWJzdHIoMCwgcGFyYW1zLmxlbmd0aCAtIDEpO1xyXG4vLyAgICAgICAgICAgICAgICB2YXIgc3RhdGVOYW1lID0gbWVudS5NZW51SXRlbS5TdGF0ZU5hbWUgKyBtZW51Lk1lbnVJdGVtLk1lbnVJZDtcclxuLy8gICAgICAgICAgICAgICAgaWYgKHBhcmFtcyAhPSBcIlwiKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgICBzdGF0ZU5hbWUgKz0gXCIoe1wiICsgcGFyYW1zICsgXCJ9KVwiO1xyXG4vLyAgICAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZU5hbWU7XHJcbi8vICAgICAgICAgICAgfTtcclxuXHJcbi8vICAgICAgICAgICAgLy9zY29wZS5hY3RpdmUgPSAobWVudTogSU1lbnVUYWIpID0+IHtcclxuLy8gICAgICAgICAgICAvLyAgICByZXR1cm4gdGhpcy4kc3RhdGUuaXMobWVudS5NZW51SXRlbS5TdGF0ZU5hbWUpO1xyXG4vLyAgICAgICAgICAgIC8vfTtcclxuXHJcbi8vICAgICAgICAgICAgLy9zY29wZS4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsICgpID0+IHtcclxuLy8gICAgICAgICAgICAvLyAgICBzY29wZS5tZW51VGFicy5mb3JFYWNoKGZ1bmN0aW9uICh0YWIpIHtcclxuLy8gICAgICAgICAgICAvLyAgICAgICAgdGFiLmFjdGl2ZSA9IHNjb3BlLmFjdGl2ZSh0YWIpO1xyXG4vLyAgICAgICAgICAgIC8vICAgIH0pO1xyXG4vLyAgICAgICAgICAgIC8vfSk7XHJcblxyXG5cclxuLy8gICAgICAgIH1cclxuXHJcblxyXG4vLyAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4vLyAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuLy8gICAgICAgICAgICAgICAgKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgbWVudVRhYnNTZXJ2aWNlOiBNZW51VGFic1NlcnZpY2UsICRzdGF0ZTogYW55KSA9PiBuZXcgTWVudU5hdlRhYnModHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBtZW51VGFic1NlcnZpY2UsICRzdGF0ZSk7XHJcbi8vICAgICAgICAgICAgLy9kaXJlY3RpdmUncyBpbmplY3Rpb24gbGlzdFxyXG4vLyAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1widHJhbnNsYXRlU2VydmljZVwiLCBcImRhdGFNYW5hZ2VyU2VydmljZVwiLCBcIm1lbnVUYWJzU2VydmljZVwiLCBcIiRzdGF0ZVwiXTtcclxuLy8gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4vLyAgICAgICAgfVxyXG5cclxuLy8gICAgfVxyXG5cclxuLy8gICAgaGNtc01lbnVzLmRpcmVjdGl2ZSgnbWVudU5hdlRhYnMnLCBNZW51TmF2VGFicy5GYWN0b3J5KCkpO1xyXG5cclxuLy99IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3NjcmlwdHMvdHlwaW5ncy9hbmd1bGFyanMvYW5ndWxhci5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3MvbW9kdWxlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc2VydmljZXMvdHJhbnNsYXRlLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2RhdGFhY2Nlc3Mvc2VydmljZXMvZGF0YW1hbmFnZXIudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3N0YXJ0dXAudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2NvbXBhbnkudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2N1cnJlbnRsb2dpbmluZm8udHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2RhdGFiYXNlcHJvZmlsZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kYXRhYWNjZXNzL3N0YXJ0dXAvbGFuZ3VhZ2UudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3VzZXIudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3V0aWxpdHkudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIGV4cG9ydCB2YXIgaGNtc0Zvcm1zOiBuZy5JTW9kdWxlID1cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZShcIkhDTVMuRm9ybXNcIiwgWyd1aS5yb3V0ZXInLCAnSENNUy5Db250cm9scycsICdIQ01TLkRhdGFBY2Nlc3MnLCdIQ01TLkF1dGhlbnRpY2F0aW9uJ10pO1xyXG5cclxuICAgIFxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL21vZHVsZS50c1wiIC8+XHJcblxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBEeW5hbWljRm9ybSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7ICdmb3JtSWQnOiBcIj1cIiwgJ2Zvcm1UZW1wbGF0ZVVybCc6IFwiPVwiLCAncGFyZW50SWRGaWVsZE5hbWUnOiBcIj0/XCIsICdwYXJlbnRJdGVtJzogXCI9P1wiLCAnY29udHJvbGxlck5hbWUnOiBcIkBcIiwgJ2NvbnRyb2xsZXJBcyc6IFwiQFwiIH07XHJcbiAgICAgICAgLy9wdWJsaWMgY29udHJvbGxlcjogc3RyaW5nID0gXCJAXCI7XHJcbiAgICAgICAgLy9wdWJsaWMgbmFtZTogc3RyaW5nID0gXCJAY29udHJvbGxlck5hbWVcIjtcclxuICAgICAgICAvL3B1YmxpYyBjb250cm9sbGVyQXM6IHN0cmluZyA9IFwiZHluYW1pY0Zvcm1cIjtcclxuICAgICAgICBwdWJsaWMgcHJpb3JpdHkgPSAwO1xyXG5cclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2U7XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZVJlcXVlc3Q6IG5nLklUZW1wbGF0ZVJlcXVlc3RTZXJ2aWNlO1xyXG4gICAgICAgIHB1YmxpYyBjb21waWxlcjogbmcuSUNvbXBpbGVTZXJ2aWNlO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJGNvbXBpbGU6IG5nLklDb21waWxlU2VydmljZSwgdGVtcGxhdGVSZXF1ZXN0OiBuZy5JVGVtcGxhdGVSZXF1ZXN0U2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UgPSB0cmFuc2xhdGVTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlciA9IGRiTWFuYWdlcjtcclxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZVJlcXVlc3QgPSB0ZW1wbGF0ZVJlcXVlc3Q7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGlsZXIgPSAkY29tcGlsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlUmVxdWVzdChzY29wZS5mb3JtVGVtcGxhdGVVcmwpLnRoZW4oZnVuY3Rpb24gKGh0bWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGFuZ3VsYXIuZWxlbWVudChodG1sKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb250cm9sbGVyU3RyOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzY29wZS5jb250cm9sbGVyTmFtZSkgJiYgc2NvcGUuY29udHJvbGxlck5hbWUgIT09IFwiXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlclN0ciA9IFwibmctY29udHJvbGxlcj0nXCIgKyBzY29wZS5jb250cm9sbGVyTmFtZSArIFwiIGFzIFwiICsgc2NvcGUuY29udHJvbGxlckFzICsgXCInXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gYW5ndWxhci5lbGVtZW50KFwiPGRpdiBcIiArIGNvbnRyb2xsZXJTdHIgKyAgXCIgPjwvZGl2PlwiKTtcclxuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmQodGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoZGl2KTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuY29tcGlsZXIoZGl2KShzY29wZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIGNvbXBpbGU6IG5nLklDb21waWxlU2VydmljZSwgdGVtcGxhdGVSZXF1ZXN0OiBuZy5JVGVtcGxhdGVSZXF1ZXN0U2VydmljZSkgPT4gbmV3IER5bmFtaWNGb3JtKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgY29tcGlsZSwgdGVtcGxhdGVSZXF1ZXN0KTtcclxuICAgICAgICAgICAgLy9kaXJlY3RpdmUncyBpbmplY3Rpb24gbGlzdFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcInRyYW5zbGF0ZVNlcnZpY2VcIiwgXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkY29tcGlsZVwiLCBcIiR0ZW1wbGF0ZVJlcXVlc3RcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuZGlyZWN0aXZlKCdoY21zRHluYW1pY0Zvcm0nLCBEeW5hbWljRm9ybS5GYWN0b3J5KCkpO1xyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9tb2R1bGUudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBGb3JtTmF2VGFicyBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnRSc7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBhbnkgPSB7ICdmb3JtSWQnOiBcIj1cIiwgJ3BhcmVudElkRmllbGROYW1lJzogXCI9P1wiLCAncGFyZW50SXRlbSc6IFwiPT9cIiwgJ2hjT3B0aW9ucyc6IFwiPT9cIiB9O1xyXG4gICAgICAgIHB1YmxpYyBwcmlvcml0eSA9IDA7XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZVVybDogc3RyaW5nID0gXCJhcHBfaGVicy9mb3Jtcy9iYXNlRGlyZWN0aXZlcy92aWV3cy9mb3JtTmF2VGFic0RpcmVjdGl2ZS5odG1sXCI7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2U7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UgPSB0cmFuc2xhdGVTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlciA9IGRiTWFuYWdlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgLy92YXIgdHJhbnNsYXRlVGV4dDogKHRleHQ6IHN0cmluZywgdmlld0lkPzogYW55KSA9PiBhbnk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgLy9pZiAoY3VycmVudEluZm8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mbyA9IG5ldyBEYXRhQWNjZXNzLkN1cnJlbnRMb2dpbkluZm8odGhpcy5kYk1hbmFnZXIpO1xyXG4gICAgICAgICAgICAvLyAgICB2YXIgY3VycmVudFVzZXIgPSBhbmd1bGFyLmZyb21Kc29uKHNlc3Npb25TdG9yYWdlWyd1c2VyJ10pO1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mby5TZXRMb2dpbkluZm8oeyBVc2VySWQ6IGN1cnJlbnRVc2VyLnVzZXJJZCwgTGFuZ0lkOiBjdXJyZW50VXNlci5sYW5nSWQsIERhdGFiYXNlUHJvZmlsZUlkOiBjdXJyZW50VXNlci5kYXRhYmFzZVByb2ZpbGVJZCwgQ29tcGFueUlkOiBjdXJyZW50VXNlci5jb21wYW55SWQgfSk7XHJcbiAgICAgICAgICAgIC8vICAgIERhdGFBY2Nlc3MuU3RhcnRVcC5TZXRDdXJyZW50TG9naW5JbmZvKGN1cnJlbnRJbmZvKTtcclxuICAgICAgICAgICAgLy99XHJcblxyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUuaGNPcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaSA9IHsgYWN0aXZhdGVGaXJzdFRhYjogYWN0aXZhdGVGaXJzdFRhYiB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLkZvcm1TZXR1cCA9IG5ldyBCYXNlRm9ybVNldHVwKHRoaXMudHJhbnNsYXRlU2VydmljZSwgdGhpcy5kYk1hbmFnZXIsIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkLCBzY29wZS5mb3JtSWQpO1xyXG4gICAgICAgICAgICBzY29wZS5Gb3JtU2V0dXAuTG9hZFN1YkZvcm1zKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZUZpcnN0VGFiKCkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuYWN0aXZlRm9ybUluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIC8vaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzY29wZS5mb3JtSWQpKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiNzdWJOYXZGb3JtVGFiLXInICsgc2NvcGUuZm9ybUlkICsgJy0wXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHZpZXdJZD86IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2VydmljZS5UcmFuc2xhdGUodGV4dCwgdmlld0lkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpID0+IG5ldyBGb3JtTmF2VGFicyh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIpO1xyXG4gICAgICAgICAgICAvL2RpcmVjdGl2ZSdzIGluamVjdGlvbiBsaXN0XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1widHJhbnNsYXRlU2VydmljZVwiLCBcImRhdGFNYW5hZ2VyU2VydmljZVwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5kaXJlY3RpdmUoJ2Zvcm1OYXZUYWJzJywgRm9ybU5hdlRhYnMuRmFjdG9yeSgpKTtcclxuXHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbW9kdWxlLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEZvcm1TdGFja1RhYnMgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0UnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0geyAnZm9ybUlkJzogXCI9XCIsICdwYXJlbnRJZEZpZWxkTmFtZSc6IFwiPT9cIiwgJ3BhcmVudEl0ZW0nOiBcIj0/XCIsICdoY09wdGlvbnMnOiBcIj0/XCIgfTtcclxuICAgICAgICBwdWJsaWMgcHJpb3JpdHkgPSAwO1xyXG5cclxuICAgICAgICBwdWJsaWMgdGVtcGxhdGVVcmw6IHN0cmluZyA9IFwiYXBwX2hlYnMvZm9ybXMvYmFzZURpcmVjdGl2ZXMvdmlld3MvZm9ybVN0YWNrVGFic0RpcmVjdGl2ZS5odG1sXCI7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2U7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UgPSB0cmFuc2xhdGVTZXJ2aWNlO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlciA9IGRiTWFuYWdlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL3ZhciB0cmFuc2xhdGVUZXh0OiAodGV4dDogc3RyaW5nLCB2aWV3SWQ/OiBhbnkpID0+IGFueTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5mbzogRGF0YUFjY2Vzcy5JQ3VycmVudExvZ2luSW5mbyA9IERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvO1xyXG4gICAgICAgICAgICAvL2lmIChjdXJyZW50SW5mbyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vICAgIGN1cnJlbnRJbmZvID0gbmV3IERhdGFBY2Nlc3MuQ3VycmVudExvZ2luSW5mbyh0aGlzLmRiTWFuYWdlcik7XHJcbiAgICAgICAgICAgIC8vICAgIHZhciBjdXJyZW50VXNlciA9IGFuZ3VsYXIuZnJvbUpzb24oc2Vzc2lvblN0b3JhZ2VbJ3VzZXInXSk7XHJcbiAgICAgICAgICAgIC8vICAgIGN1cnJlbnRJbmZvLlNldExvZ2luSW5mbyh7IFVzZXJJZDogY3VycmVudFVzZXIudXNlcklkLCBMYW5nSWQ6IGN1cnJlbnRVc2VyLmxhbmdJZCwgRGF0YWJhc2VQcm9maWxlSWQ6IGN1cnJlbnRVc2VyLmRhdGFiYXNlUHJvZmlsZUlkLCBDb21wYW55SWQ6IGN1cnJlbnRVc2VyLmNvbXBhbnlJZCB9KTtcclxuICAgICAgICAgICAgLy8gICAgRGF0YUFjY2Vzcy5TdGFydFVwLlNldEN1cnJlbnRMb2dpbkluZm8oY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzY29wZS5oY09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLmFwaSA9IHsgYWN0aXZhdGVGaXJzdFRhYjogYWN0aXZhdGVGaXJzdFRhYiB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLkZvcm1TZXR1cCA9IG5ldyBCYXNlRm9ybVNldHVwKHRoaXMudHJhbnNsYXRlU2VydmljZSwgdGhpcy5kYk1hbmFnZXIsIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkLCBzY29wZS5mb3JtSWQpO1xyXG4gICAgICAgICAgICBzY29wZS5Gb3JtU2V0dXAuTG9hZFN1YkZvcm1zKCk7XHJcblxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVGaXJzdFRhYigpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUZvcm1JbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvL2lmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2NvcGUuZm9ybUlkKSlcclxuICAgICAgICAgICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjc3ViRm9ybVRhYi1yJyArIHNjb3BlLmZvcm1JZCArICctMFwiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgc2NvcGUudHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHZpZXdJZD86IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2VydmljZS5UcmFuc2xhdGUodGV4dCwgdmlld0lkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICh0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UpID0+IG5ldyBGb3JtU3RhY2tUYWJzKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcik7XHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlJ3MgaW5qZWN0aW9uIGxpc3RcclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmRpcmVjdGl2ZSgnZm9ybVN0YWNrVGFicycsIEZvcm1TdGFja1RhYnMuRmFjdG9yeSgpKTtcclxuXHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbW9kdWxlLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIElGcmFtQXV0b1Jlc2l6ZSBpbXBsZW1lbnRzIG5nLklEaXJlY3RpdmUge1xyXG5cclxuICAgICAgICBwdWJsaWMgcmVzdHJpY3QgPSAnQSc7XHJcbiBcclxuICAgICBcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCAkYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLyogU2V0IHRoZSBkaW1lbnNpb25zIGhlcmUsIFxyXG4gICAgICAgICAgICAgICAgICAgSSB0aGluayB0aGF0IHlvdSB3ZXJlIHRyeWluZyB0byBkbyBzb21ldGhpbmcgbGlrZSB0aGlzOiAqL1xyXG4gICAgICAgICAgICAgICAgdmFyIGlGcmFtZUhlaWdodCA9IGVsZW1lbnRbMF1bXCJjb250ZW50V2luZG93XCJdLmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0ICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIHZhciBpRnJhbWVXaWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCd3aWR0aCcsIGlGcmFtZVdpZHRoKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdoZWlnaHQnLCBpRnJhbWVIZWlnaHQpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBzdGF0aWMgRmFjdG9yeSgpOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmU6IG5nLklEaXJlY3RpdmVGYWN0b3J5ID1cclxuICAgICAgICAgICAgICAgICgpID0+IG5ldyBJRnJhbUF1dG9SZXNpemUoKTtcclxuICAgICAgICAgICAgLy8vL2RpcmVjdGl2ZSdzIGluamVjdGlvbiBsaXN0XHJcbiAgICAgICAgICAgIC8vZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJ0cmFuc2xhdGVTZXJ2aWNlXCIsIFwiZGF0YU1hbmFnZXJTZXJ2aWNlXCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmRpcmVjdGl2ZSgnaWZyYW1lQXV0b1Jlc2l6ZScsIElGcmFtQXV0b1Jlc2l6ZS5GYWN0b3J5KCkpO1xyXG5cclxufSIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBDb21tb25Gb3Jte1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgVHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHZpZXdJZDogbnVtYmVyLCBwYXJhbXM/OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2VydmljZS5UcmFuc2xhdGUodGV4dCwgdmlld0lkLCBwYXJhbXMpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vLy9oY21zRm9ybXMuY29udHJvbGxlcignY29tbW9uRm9ybUNvbnRyb2xsZXInLCBDb21tb25Gb3JtQ29udHJvbGxlcik7XHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYmFzZWZvcm1zL2Jhc2Vmb3JtL2NvbW1vbmZvcm0udHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJhc2VSZXBvcnRTZXR1cCB7XHJcblxyXG4gICAgICAgIHB1YmxpYyB0aXRsZTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwdWJsaWMgb2JqZWN0U2VjdXJpdHkgPSB7IGhpZGRlbklkOiAwLCByZWFkb25seUlkOiAxLCBzaG93SWQ6IDIgfTtcclxuICAgICAgICBwdWJsaWMgcmVwb3J0U2V0dXA6IGFueSA9IHt9O1xyXG4gICAgICAgIHB1YmxpYyBvcGVyYXRvcnNEYXRhOiBhbnkgPSBbXTtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZEdyb3VwQnlJdGVtcyA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZEdyb3VwQnlPYmplY3QgPSBbXTtcclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkT3JkZXJCeUl0ZW1zID0gW107XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkT3JkZXJCeU9iamVjdCA9IFtdO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZpbHRlcjogbmcuSUZpbHRlckZpbHRlciwgcHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHB1YmxpYyBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwdWJsaWMgcmVwb3J0SWQ6IG51bWJlcikge1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHJlcG9ydElkPzogbnVtYmVyLCBwYXJhbXM/OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUodGV4dCwgcmVwb3J0SWQsIHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0Q29tbW9uUGFyYW1zID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gJz91c2VySWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLlVzZXIuVXNlcklkXHJcbiAgICAgICAgICAgICAgICArICcmbGFuZ0lkPScgKyBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWRcclxuICAgICAgICAgICAgICAgICsgJyZjb21wYW55SWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAvL2dldCByZXBvcnQgU2V0dXBcclxuICAgICAgICBwdWJsaWMgZ2V0UmVwb3J0U2V0dXAgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5nZXRDb21tb25QYXJhbXMoKSArICcmcmVwb3J0SWQ9JyArIHRoaXMucmVwb3J0SWQ7Ly8nP3RhYmxlPScgKyBiYXNlUmVwb3J0LmluZGV4Vmlld1NldHVwLnZpZXdTZXR1cC5UYWJsZU5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnUmVwb3J0Rm9ybScsICdHZXRBbGxSZXBvcnRTZXR1cCcsIHF1ZXJ5U3RyaW5nLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U2V0dXAgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxiYWNrKSAmJiBjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGdldCBPcGVyYXRvcnNcclxuICAgICAgICBwdWJsaWMgZ2V0Q29udHJvbHNPcGVyYXRvcnMgPSAoY2FsbGJhY2s/KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlJlcG9ydEZvcm1cIiwgXCJHZXRBbGxDb250cm9sc09wZXJhdG9yc1wiLCBcIlwiLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3BlcmF0b3JzRGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY2FsbGJhY2spICYmIGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgLy9hcHBTZXJ2aWNlLmFsZXJ0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIC8vIGdldCBJZCBGaWVsZCBOYW1lXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRJZEZpZWxkTmFtZSA9ICh2aWV3RmllbGRzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vc2V0IHByaW1hcnlGaWVsZCB0byBncmlkT3B0aW9ucyBPYmplY3QgdG8gYWNjZXNzIGluIGV2ZXJ5IHJvd1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHZpZXdGaWVsZHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2aWV3RmllbGRzW3Byb3BdLklzUHJpbWFyeSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3RmllbGRzW3Byb3BdLkZpZWxkTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RmllbGRzQXNPYmplY3RzID0gKHZpZXdGaWVsZHMpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZpZXdGaWVsZHMgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fVxyXG4gICAgICAgICAgICB2YXIgYXJyID0gdmlld0ZpZWxkc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGFycltpXTtcclxuICAgICAgICAgICAgICAgIC8vZm9yICh2YXIgcHJvcCBpbiBhcnJbaV0pIHtcclxuICAgICAgICAgICAgICAgIC8vICAgIG9ialtwcm9wXSA9IGFycltpXVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2FycltpXVtcIkZpZWxkTmFtZVwiXV0gPSBvYmo7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRQcm9wZXJ0aWVzVG9GaWVsZHMgPSAodmlld0ZpZWxkcywgYXJyT2JqZWN0U2VjdXJpdHkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZpZXdGaWVsZHMgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fVxyXG4gICAgICAgICAgICB2YXIgYXJyID0gdmlld0ZpZWxkc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGFycltpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN1cml0eUlkID0gdGhpcy5nZXRTZWN1cml0eShvYmpbJ0NvbnRyb2xJZCddLCBhcnJPYmplY3RTZWN1cml0eSk7XHJcbiAgICAgICAgICAgICAgICBvYmouSXNIaWRkZW4gPSBvYmouSXNIaWRkZW4gfHwgKHNlY3VyaXR5SWQgPT09IHRoaXMub2JqZWN0U2VjdXJpdHkuaGlkZGVuSWQpO1xyXG4gICAgICAgICAgICAgICAgb2JqLklzUmVhZE9ubHkgPSBvYmouSXNSZWFkT25seSB8fCAoc2VjdXJpdHlJZCA9PT0gdGhpcy5vYmplY3RTZWN1cml0eS5yZWFkb25seUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYXBwbHkgc2VjdXJpeSBvbiBjb250cm9sc1xyXG4gICAgICAgIHByaXZhdGUgZ2V0U2VjdXJpdHkgPSAoY29udHJvbElkLCBhcnJTZWN1cml0eSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgYXJyU2VjID0gYXJyU2VjdXJpdHk7XHJcbiAgICAgICAgICAgIHZhciBteU9iamVjdHMgPSB0aGlzLmZpbHRlcihhcnJTZWMsIHsgT2JqZWN0SWQ6IGNvbnRyb2xJZCB9KTtcclxuICAgICAgICAgICAgaWYgKG15T2JqZWN0cy5sZW5ndGggPiAwKSByZXR1cm4gbXlPYmplY3RzWzBdW1wiT2JqZWN0U2VjdXJpdHlJZFwiXTtcclxuICAgICAgICAgICAgZWxzZSByZXR1cm4gdGhpcy5vYmplY3RTZWN1cml0eS5zaG93SWQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIC8vZXhwb3J0IGludGVyZmFjZSBJU2VsZWN0ZWRWaWV3U2V0dXAge1xyXG4gICAgLy8gICAgdmlld1NldHVwOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXc7XHJcbiAgICAvLyAgICB2aWV3RmllbGRzOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXdGaWVsZFtdO1xyXG4gICAgLy99XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIENhbmNlbEV2ZW50QXJncyB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBoYW5kbGVyczogeyAoZGF0YT86IFQpOiB2b2lkOyB9W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZGF0YTogYW55O1xyXG4gICAgICAgIHB1YmxpYyBjYW5jZWw6IGJvb2xlYW47XHJcbiAgICAgICAgY29uc3RydWN0b3IoZGF0YTogYW55LCBjYW5jZWw6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgdGhpcy5jYW5jZWwgPSBjYW5jZWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQ2FuY2VsRXZlbnREYXRhIHtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVyczogeyAoZT86IENhbmNlbEV2ZW50QXJncyk6IHZvaWQ7IH1bXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgYWRkSGFuZGxlcihoYW5kbGVyOiB7IChlPzogQ2FuY2VsRXZlbnRBcmdzKTogdm9pZCB9KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBSZW1vdmVIYW5kbGVyKGhhbmRsZXI6IHsgKGU/OiBDYW5jZWxFdmVudEFyZ3MpOiB2b2lkIH0pOiB2b2lkIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycyA9IHRoaXMuaGFuZGxlcnMuZmlsdGVyKGggPT4gaCAhPT0gaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdHJpZ2dlcihlPzogQ2FuY2VsRXZlbnRBcmdzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZXJzLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNsaWNlKDApLmZvckVhY2goaCA9PiBoKGUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBleHBvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50QXJncyB7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBoYW5kbGVyczogeyAoZGF0YT86IFQpOiB2b2lkOyB9W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZGF0YTogYW55O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEV2ZW50RGF0YSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGFuZGxlcnM6IHsgKGU/OiBFdmVudEFyZ3MpOiB2b2lkOyB9W10gPSBbXTtcclxuXHJcbiAgICAgICAgcHVibGljIGFkZEhhbmRsZXIoaGFuZGxlcjogeyAoZT86IEV2ZW50QXJncyk6IHZvaWQgfSk6IHZvaWQge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnB1c2goaGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgUmVtb3ZlSGFuZGxlcihoYW5kbGVyOiB7IChlPzogRXZlbnRBcmdzKTogdm9pZCB9KTogdm9pZCB7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcihoID0+IGggIT09IGhhbmRsZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHRyaWdnZXIoZT86IEV2ZW50QXJncykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVycy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zbGljZSgwKS5mb3JFYWNoKGggPT4gaChlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZXhwb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAvL0V2ZW50c1xyXG4gICAgICAgIHByaXZhdGUgb25BZGRpbmc6IENhbmNlbEV2ZW50RGF0YSA9IG5ldyBDYW5jZWxFdmVudERhdGEoKTtcclxuICAgICAgICBwcml2YXRlIG9uVXBkYXRpbmc6IENhbmNlbEV2ZW50RGF0YSA9IG5ldyBDYW5jZWxFdmVudERhdGEoKTtcclxuICAgICAgICBwcml2YXRlIG9uRGVsZXRpbmc6IENhbmNlbEV2ZW50RGF0YSA9IG5ldyBDYW5jZWxFdmVudERhdGEoKTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvbkFkZGVkOiBFdmVudERhdGEgPSBuZXcgRXZlbnREYXRhKCk7XHJcbiAgICAgICAgcHJpdmF0ZSBvblVwZGF0ZWQ6IEV2ZW50RGF0YSA9IG5ldyBFdmVudERhdGEoKTtcclxuICAgICAgICBwcml2YXRlIG9uRGVsZXRlZDogRXZlbnREYXRhID0gbmV3IEV2ZW50RGF0YSgpO1xyXG5cclxuICAgICAgICBwcml2YXRlIG9uRWRpdENsaWNrZWQ6IEV2ZW50RGF0YSA9IG5ldyBFdmVudERhdGEoKTtcclxuICAgICAgICBwcml2YXRlIG9uQ3JlYXRlTmV3Q2xpY2tlZCA6IEV2ZW50RGF0YT0gbmV3IEV2ZW50RGF0YSgpO1xyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uQWRkaW5nKCkgeyByZXR1cm4gdGhpcy5vbkFkZGluZy5leHBvc2UoKTsgfVxyXG4gICAgICAgIHB1YmxpYyBnZXQgT25VcGRhdGluZygpIHsgcmV0dXJuIHRoaXMub25VcGRhdGluZy5leHBvc2UoKTsgfVxyXG4gICAgICAgIHB1YmxpYyBnZXQgT25EZWxldGluZygpIHsgcmV0dXJuIHRoaXMub25EZWxldGluZy5leHBvc2UoKTsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uQWRkZWQoKSB7IHJldHVybiB0aGlzLm9uQWRkZWQuZXhwb3NlKCk7IH1cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uVXBkYXRlZCgpIHsgcmV0dXJuIHRoaXMub25VcGRhdGVkLmV4cG9zZSgpOyB9XHJcbiAgICAgICAgcHVibGljIGdldCBPbkRlbGV0ZWQoKSB7IHJldHVybiB0aGlzLm9uRGVsZXRlZC5leHBvc2UoKTsgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uRWRpdENsaWNrZWQoKSB7IHJldHVybiB0aGlzLm9uRWRpdENsaWNrZWQuZXhwb3NlKCk7IH1cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uQ3JlYXRlTmV3Q2xpY2tlZCgpIHsgcmV0dXJuIHRoaXMub25DcmVhdGVOZXdDbGlja2VkLmV4cG9zZSgpOyB9XHJcbiAgICAgICAgLy89PT09PT09PT09PT09PT1cclxuICAgICAgICBwcml2YXRlIG9uU2VsZWN0Q2xpY2tlZDogRXZlbnREYXRhID0gbmV3IEV2ZW50RGF0YSgpO1xyXG4gICAgICAgIHB1YmxpYyBnZXQgT25TZWxlY3RDbGlja2VkKCkgeyByZXR1cm4gdGhpcy5vblNlbGVjdENsaWNrZWQuZXhwb3NlKCk7IH1cclxuXHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgRm9ybVNldHVwOiBCYXNlRm9ybVNldHVwO1xyXG4gICAgICAgIHB1YmxpYyBGb3JtRGF0YTogQmFzZUZvcm1EYXRhO1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGRpc3BsYXlDcmVhdGVOZXdUZW1wbGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHB1YmxpYyBkaXNwbGF5RWRpdFRlbXBsYXRlOiBib29sZWFuID0gZmFsc2VcclxuICAgICAgICBwdWJsaWMgZGlzcGxheURldGFpbHNUZW1wbGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGRhdGFMaXN0OiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgcHVibGljIGRhdGFJdGVtOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgZ3JpZDogR3JpZDtcclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkVmlld1NldHVwOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkNyZWF0ZVZpZXcoKTtcclxuXHJcbiAgICAgICAgcHVibGljIGZvcm1JZDogbnVtYmVyO1xyXG4gICAgICAgIC8vcHJpdmF0ZSBhcGlDb250cm9sbGVyOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIHNtYXJ0QWxlcnQ6IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydDtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwdWJsaWMgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgZm9ybUlkOiBudW1iZXIpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAvL3NldCBsb2dpbiBJbmZvXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50SW5mbzogRGF0YUFjY2Vzcy5JQ3VycmVudExvZ2luSW5mbyA9IERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvO1xyXG4gICAgICAgICAgICAvL2lmIChjdXJyZW50SW5mbyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vICAgIGN1cnJlbnRJbmZvID0gbmV3IERhdGFBY2Nlc3MuQ3VycmVudExvZ2luSW5mbyhkYk1hbmFnZXIpO1xyXG4gICAgICAgICAgICAvLyAgICB2YXIgY3VycmVudFVzZXIgPSBhbmd1bGFyLmZyb21Kc29uKHNlc3Npb25TdG9yYWdlWyd1c2VyJ10pO1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mby5TZXRMb2dpbkluZm8oeyBVc2VySWQ6IGN1cnJlbnRVc2VyLnVzZXJJZCwgTGFuZ0lkOiBjdXJyZW50VXNlci5sYW5nSWQsIERhdGFiYXNlUHJvZmlsZUlkOiBjdXJyZW50VXNlci5kYXRhYmFzZVByb2ZpbGVJZCwgQ29tcGFueUlkOiBjdXJyZW50VXNlci5jb21wYW55SWQgfSk7XHJcbiAgICAgICAgICAgIC8vICAgIERhdGFBY2Nlc3MuU3RhcnRVcC5TZXRDdXJyZW50TG9naW5JbmZvKGN1cnJlbnRJbmZvKTtcclxuICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRBbGVydCA9IG5ldyBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQoKTtcclxuICAgICAgICAgICAgLy9zZXQgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1JZCA9IGZvcm1JZDsvLyRzdGF0ZVBhcmFtc1tcImZvcm1JZFwiXTtcclxuICAgICAgICAgICAgLy90aGlzLmFwaUNvbnRyb2xsZXIgPSAkc3RhdGVQYXJhbXNbXCJhcGlDb250cm9sbGVyXCJdO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlZpZXdJZCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cCA9IG5ldyBCYXNlRm9ybVNldHVwKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgY3VycmVudEluZm8uVXNlci5Vc2VySWQsIHRoaXMuZm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ3JpZCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuR3JpZFNldHVwLk15R3JpZDtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgdHJhbnNsYXRlVGV4dCA9ICh0ZXh0OiBzdHJpbmcsIHZpZXdJZD86IG51bWJlciwgcGFyYW0/OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUodGV4dCwgdmlld0lkLCBwYXJhbSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldElkRmllbGROYW1lKHZpZXdGaWVsZHM6IE1vZGVscy5TeXN0ZW1Gb3JtVmlld0ZpZWxkW10pOiBzdHJpbmcge1xyXG4gICAgICAgICAgICAvL3NldCBwcmltYXJ5RmllbGQgdG8gZ3JpZE9wdGlvbnMgT2JqZWN0IHRvIGFjY2VzcyBpbiBldmVyeSByb3dcclxuICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiB2aWV3RmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmlld0ZpZWxkc1twcm9wXS5Jc1ByaW1hcnkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlld0ZpZWxkc1twcm9wXS5GaWVsZE5hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBHZXRJZFZhbHVlKHJvd0RhdGE6IGFueSwgdmlldz86IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyk6IGFueSB7XHJcbiAgICAgICAgICAgIGlmICh2aWV3ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZpZXcgPSB0aGlzLnNlbGVjdGVkVmlld1NldHVwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByb3dEYXRhW3RoaXMuZ2V0SWRGaWVsZE5hbWUodmlldy5WaWV3RmllbGRzKV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0NsaWNrIEVkaXQgTGluayBcclxuICAgICAgICBwdWJsaWMgZWRpdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGN1cnJlbnRPYmplY3Quc2VsZWN0ZWRWaWV3U2V0dXAgPSBjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXc7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGN1cnJlbnRPYmplY3QuR2V0SWRWYWx1ZShpdGVtKTtcclxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5Gb3JtRGF0YS5HZXREYXRhSXRlbShpZCwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5EaXNwbGF5RWRpdFZpZXcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL29uRWRpdENsaWNrZWRcclxuICAgICAgICAgICAgICAgIHZhciBlID0gbmV3IEV2ZW50QXJncyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3Qub25FZGl0Q2xpY2tlZC50cmlnZ2VyKGUpO1xyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50T2JqZWN0LmdlbmVyYWxGb3JtU2VydmljZS5zZXRTZWxlY3RlZFBhcmVudChnZW5lcmFsRm9ybS5nZXRLZXlGaWVsZCgpLCBnZW5lcmFsRm9ybS5kYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRlbGV0ZUNsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvL29uRGVsZXRpbmdcclxuICAgICAgICAgICAgdmFyIGNhbmNlbDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgY2FuY2VsRSA9IG5ldyBDYW5jZWxFdmVudEFyZ3MoaXRlbSwgY2FuY2VsKTtcclxuICAgICAgICAgICAgdGhpcy5vbkRlbGV0aW5nLnRyaWdnZXIoY2FuY2VsRSk7XHJcbiAgICAgICAgICAgIGlmIChjYW5jZWxFLmNhbmNlbCA9PSB0cnVlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLy0tLS1cclxuICAgICAgICAgICAgLy92YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXc7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuR2V0SWRWYWx1ZShpdGVtKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRFZGl0SWQgPSB0aGlzLkdldElkVmFsdWUodGhpcy5kYXRhSXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuRGVsZXRlRGF0YShpZCwgaXRlbSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFZGl0SWQgPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL29uRGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnRBcmdzKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkRlbGV0ZWQudHJpZ2dlcihlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2N1cnJlbnRPYmplY3QuZ2V0RGF0YUxpc3QoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGN1cnJlbnRPYmplY3Quc2VsZWN0ZWRWaWV3U2V0dXAgPSBjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXc7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IGN1cnJlbnRPYmplY3QuR2V0SWRWYWx1ZShpdGVtKTtcclxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5Gb3JtRGF0YS5HZXREYXRhSXRlbShpZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5EaXNwbGF5RWRpdFZpZXcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL29uU2VsZWN0Q2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnRBcmdzKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5vblNlbGVjdENsaWNrZWQudHJpZ2dlcihlKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vQ2xpY2sgQ3JlYXRlTmV3IExpbmtcclxuICAgICAgICBEaXNwbGF5QWRkVmlldyhjYWxsYmFjaz8pIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUNyZWF0ZU5ld1RlbXBsYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RWRpdFRlbXBsYXRlID0gZmFsc2VcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGV0YWlsc1RlbXBsYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlld0lkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3SWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZUZpZWxkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5UYWJsZUNvZGVGaWVsZDtcclxuICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjb2RlRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVGaWVsZCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLkdldE5ld0NvZGUodmlld0lkLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbVtjb2RlRmllbGRdID0gZGF0YTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY2FsbGJhY2spICYmIGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY2FsbGJhY2spICYmIGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL29uQ3JlYXRlTmV3Q2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnRBcmdzKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNyZWF0ZU5ld0NsaWNrZWQudHJpZ2dlcihlKTtcclxuICAgICAgICAgICAgICAgIC8vY3VycmVudE9iamVjdC5nZW5lcmFsRm9ybVNlcnZpY2Uuc2V0U2VsZWN0ZWRQYXJlbnQoZ2VuZXJhbEZvcm0uZ2V0S2V5RmllbGQoKSwgZ2VuZXJhbEZvcm0uZGF0YUl0ZW0pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL0NsaWNrIEVkaXQgTGluayBcclxuICAgICAgICBEaXNwbGF5RWRpdFZpZXcoY2FsbGJhY2s/KSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5Q3JlYXRlTmV3VGVtcGxhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RWRpdFRlbXBsYXRlID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEZXRhaWxzVGVtcGxhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxiYWNrKSAmJiBjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9DbGljayBEZXRhaWxzIExpbmsgXHJcbiAgICAgICAgRGlzcGxheURldGFpbHNWaWV3KGNhbGxiYWNrPykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkRldGFpbHNWaWV3O1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlDcmVhdGVOZXdUZW1wbGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlFZGl0VGVtcGxhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5RGV0YWlsc1RlbXBsYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxiYWNrKSAmJiBjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9DbGljayBJbmRleCBMaW5rIFxyXG4gICAgICAgIERpc3BsYXlJbmRleFZpZXcoY2FsbGJhY2s/KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUNyZWF0ZU5ld1RlbXBsYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUVkaXRUZW1wbGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY2FsbGJhY2spICYmIGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHNhdmVJdGVtID0gKHZhbGlkOiBib29sZWFuKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtID0gdGhpcy5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlDcmVhdGVOZXdUZW1wbGF0ZSA9PT0gdHJ1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vb25BZGRpbmdcclxuICAgICAgICAgICAgICAgIHZhciBjYW5jZWw6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBjYW5jZWxFID0gbmV3IENhbmNlbEV2ZW50QXJncyh0aGlzLmRhdGFJdGVtLCBjYW5jZWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkFkZGluZy50cmlnZ2VyKGNhbmNlbEUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbmNlbEUuY2FuY2VsID09IHRydWUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIC8vLS0tLVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuQWRkRGF0YSh2YWxpZCwgKGRhdGEpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbkFkZGVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gbmV3IEV2ZW50QXJncyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQWRkZWQudHJpZ2dlcihlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL29uVXBkYXRpbmdcclxuICAgICAgICAgICAgICAgIHZhciBjYW5jZWw6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZhciBjYW5jZWxFID0gbmV3IENhbmNlbEV2ZW50QXJncyh0aGlzLmRhdGFJdGVtLCBjYW5jZWwpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblVwZGF0aW5nLnRyaWdnZXIoY2FuY2VsRSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsRS5jYW5jZWwgPT0gdHJ1ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgLy8tLS0tXHJcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSB0aGlzLkdldElkVmFsdWUodGhpcy5kYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLlVwZGF0ZURhdGEodmFsaWQsIGlkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vblVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudEFyZ3ModGhpcy5kYXRhSXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblVwZGF0ZWQudHJpZ2dlcihlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL30pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2Vmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2VuZXJhbEZvcm1TZXR1cCBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGZvcm1JZDogbnVtYmVyO1xyXG4gICAgICAgIC8vcHJpdmF0ZSBhcGlDb250cm9sbGVyOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRJZEZpZWxkTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMubG9hZERhdGEoKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5FZGl0Q2FsbGJhY2sgPSB0aGlzLmVkaXRDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkNhbGxiYWNrT25Mb2FkID0gKHZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SWRGaWVsZE5hbWUgPSB0aGlzLmdldElkRmllbGROYW1lKHZpZXcuVmlld0ZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhID0gbmV3IEJhc2VGb3JtRGF0YSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGZvcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLkZvcm1EYXRhLmRhdGFMaXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSGlkZVZpZXdBZnRlclNhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uVXBkYXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkhpZGVWaWV3QWZ0ZXJTYXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5PbkFkZGluZy5hZGRIYW5kbGVyKHRoaXMuYmVmb3JlQWRkKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGRJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QWRkVmlldygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlld0lkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3SWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZUZpZWxkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5UYWJsZUNvZGVGaWVsZDtcclxuICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjb2RlRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVGaWVsZCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLkdldE5ld0NvZGUodmlld0lkLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbVtjb2RlRmllbGRdID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBlZGl0SXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUVkaXRWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZGlzcGxheUl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlEZXRhaWxzVmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBpbmRleEl0ZW1WaWV3ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNGb3Jtcy5jb250cm9sbGVyKCdnZW5lcmFsRm9ybVNldHVwQ29udHJvbGxlcicsIEdlbmVyYWxGb3JtU2V0dXApO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdnZW5lcmFsRm9ybVNldHVwQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmFsRm9ybVNldHVwKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJiYXNlZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJhc2VTdWJGb3JtTWFuYWdlciBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIG9uU3ViRm9ybUxvYWRlZDogRXZlbnREYXRhID0gbmV3IEV2ZW50RGF0YSgpO1xyXG4gICAgICAgIHB1YmxpYyBnZXQgT25TdWJGb3JtTG9hZGVkKCkgeyByZXR1cm4gdGhpcy5vblN1YkZvcm1Mb2FkZWQuZXhwb3NlKCk7IH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgc2NvcGU6IGFueTtcclxuICAgICAgICBwdWJsaWMgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFyZW50SXRlbTogYW55O1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBHZXREYXRhQnlQYXJlbnRDYWxsQmFjazogKGRhdGE/OiBhbnkpID0+IHZvaWQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyBHZXREYXRhQnlQYXJlbnRJZDogKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHZvaWQ7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLmZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gc2NvcGUucGFyZW50SWRGaWVsZE5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50SXRlbSA9IHNjb3BlLnBhcmVudEl0ZW07XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMubG9hZERhdGEoKTtcclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oYXN5bmMgKGZvcm06IE1vZGVscy5Gb3JtKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5FZGl0Q2FsbGJhY2sgPSB0aGlzLmVkaXRDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEgPSBuZXcgQmFzZUZvcm1EYXRhKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgZm9ybSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHRoaXMuRm9ybURhdGEuZGF0YUl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLkdldERhdGFCeVBhcmVudElkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldERhdGFCeVBhcmVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudEFyZ3MoZm9ybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25TdWJGb3JtTG9hZGVkLnRyaWdnZXIoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICwgNTAwKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMuc2NvcGUucGFyZW50SXRlbVt0aGlzLnNjb3BlLnBhcmVudElkRmllbGROYW1lXSxcclxuICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW1bdGhpcy5zY29wZS5wYXJlbnRJZEZpZWxkTmFtZV0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkdldERhdGFCeVBhcmVudElkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMuc2NvcGUucGFyZW50SWRGaWVsZE5hbWUsXHJcbiAgICAgICAgICAgICAgICAobmV3VmFsdWU6IHN0cmluZywgb2xkVmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRJZEZpZWxkTmFtZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25BZGRpbmcuYWRkSGFuZGxlcih0aGlzLmJlZm9yZUFkZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLk9uQWRkZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkKChkYXRhKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSGlkZVZpZXdBZnRlclNhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEl0ZW1WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSGlkZVZpZXdBZnRlclNhdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEl0ZW1WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGdldERhdGFCeVBhcmVudCA9IChjYWxsYmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5HZXREYXRhQnlQYXJlbnRJZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBiZWZvcmVBZGQgPSAoZTogQ2FuY2VsRXZlbnRBcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1bdGhpcy5wYXJlbnRJZEZpZWxkTmFtZV0gPSB0aGlzLnBhcmVudEl0ZW1bdGhpcy5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFkZEl0ZW1WaWV3KGNhbGxCYWNrPykge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KGNhbGxCYWNrKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZWRpdEl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlFZGl0VmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRpc3BsYXlJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RGV0YWlsc1ZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgaW5kZXhJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNGb3Jtcy5jb250cm9sbGVyKCdwcm9maWxlQ29udGFjdHNDb250cm9sbGVyJywgcHJvZmlsZUNvbnRhY3RzQ29udHJvbGxlcik7XHJcblxyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHZW5lcmFsU3ViRm9ybUNvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHBhcmVudElkKSkgcGFyZW50SWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmcGFyZW50SWQ9JyArIHBhcmVudElkO1xyXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uQ29tcGFueS5Db21wYW55SWQ7XHJcbiAgICAgICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZ0YWJsZU5hbWU9XCIgKyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuVGFibGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImam9pbkZpZWxkPVwiICsgY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVBhcmVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2dlbmVyYWxTdWJGb3JtQ29udHJvbGxlcicsIEdlbmVyYWxTdWJGb3JtQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2dlbmVyYWxTdWJGb3JtQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmFsU3ViRm9ybUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCJtb2R1bGUgSENNUy5Nb2RlbHMge1xyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRm9ybSB7XHJcblxyXG5cclxuICAgICAgICBGb3JtSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgUGFyZW50Rm9ybUlkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIEZvcm1PcmRlcjogbnVtYmVyID0gMDtcclxuICAgICAgICBGb3JtTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBGb3JtTmFtZV86IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgRm9ybUNvbnRyb2xsZXI6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgSnNDb250cm9sbGVyOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIEpzQ29udHJvbGxlckFzOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFN0YXJ0Vmlldzogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBDb2RlU2V0dXBJZDogbnVtYmVyID0gMDtcclxuICAgICAgICBIaWRlVmlld0FmdGVyU2F2ZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIERvbnRBdXRvQ29kZVdoZW5TYXZlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgRGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBTdGFydERhdGU6IERhdGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgRW5kRGF0ZTogRGF0ZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgSW5kZXhWaWV3OiBJbmRleFZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgQ3JlYXRlVmlldzogQ3JlYXRlVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICBFZGl0VmlldzogRWRpdFZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgRGV0YWlsc1ZpZXc6IERldGFpbHNWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIFN1YkZvcm1zOiBGb3JtW10gPSBbXTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdXNlcklkOiBudW1iZXIsIGZvcm1JZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRm9ybUlkID0gZm9ybUlkO1xyXG4gICAgICAgICAgICB0aGlzLkluZGV4VmlldyA9IG5ldyBJbmRleFZpZXcodGhpcy50cmFuc2xhdG9yLCBkYk1hbmFnZXIsIHVzZXJJZCwgZm9ybUlkKTtcclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVWaWV3ID0gbmV3IENyZWF0ZVZpZXcodGhpcy50cmFuc2xhdG9yLCBkYk1hbmFnZXIsIHVzZXJJZCwgZm9ybUlkKTtcclxuICAgICAgICAgICAgdGhpcy5FZGl0VmlldyA9IG5ldyBFZGl0Vmlldyh0aGlzLnRyYW5zbGF0b3IsIGRiTWFuYWdlciwgdXNlcklkLCBmb3JtSWQpO1xyXG4gICAgICAgICAgICB0aGlzLkRldGFpbHNWaWV3ID0gbmV3IERldGFpbHNWaWV3KHRoaXMudHJhbnNsYXRvciwgZGJNYW5hZ2VyLCB1c2VySWQsIGZvcm1JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3B1YmxpYyBMb2FkQSgpIHtcclxuICAgICAgICAvLyAgICB2YXIgY3VycmVudEZvcm0gPSB0aGlzO1xyXG4gICAgICAgIC8vICAgIHZhciBxdWVyeVN0cmluZyA9ICc/Zm9ybUlkPScgKyB0aGlzLkZvcm1JZCArICcmdXNlcklkPScgKyB0aGlzLnVzZXJJZDtcclxuICAgICAgICAvLyAgICByZXR1cm4gbmV3IFByb21pc2U8Rm9ybT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdHZW5lcmFsRm9ybVNldHVwJywgJ0dldEZvcm1TZXR1cCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzdWx0LmRhdGEsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3JtLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvcm1ba2V5XSA9IHJlc3VsdC5kYXRhW2tleV07XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgcmVzb2x2ZShjdXJyZW50Rm9ybSk7XHJcblxyXG4gICAgICAgIC8vICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICAvLyAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAgIH0pO1xyXG5cclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgcHVibGljIExvYWQoY2FsbGJhY2s/OiAoZm9ybTogTW9kZWxzLkZvcm0pID0+IGFueSkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudEZvcm0gPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudEZvcm0uRm9ybUlkID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP2Zvcm1JZD0nICsgY3VycmVudEZvcm0uRm9ybUlkICsgJyZ1c2VySWQ9JyArIGN1cnJlbnRGb3JtLnVzZXJJZDtcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdHZW5lcmFsRm9ybVNldHVwJywgJ0dldEZvcm1TZXR1cCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzdWx0LmRhdGEsICh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGb3JtLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvcm1ba2V5XSA9IHJlc3VsdC5kYXRhW2tleV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50Rm9ybS5Mb2FkU3ViRm9ybXMoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50Rm9ybS5Db3B5RnJvbShyZXN1bHQuZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhjdXJyZW50Rm9ybSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIExvYWRTdWJGb3JtcyhjYWxsYmFjaz86IChmb3JtOiBNb2RlbHMuRm9ybSkgPT4gYW55KSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50Rm9ybSA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChjdXJyZW50Rm9ybS5Gb3JtSWQpIHx8IGN1cnJlbnRGb3JtLkZvcm1JZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz9mb3JtSWQ9JyArIGN1cnJlbnRGb3JtLkZvcm1JZCArICcmdXNlcklkPScgKyBjdXJyZW50Rm9ybS51c2VySWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRTdWJGb3JtcycsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZm9ybXMgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgZm9ybXNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGZvcm1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZvcm0gPSBuZXcgRm9ybShjdXJyZW50Rm9ybS50cmFuc2xhdG9yLCBjdXJyZW50Rm9ybS5kYk1hbmFnZXIsIGN1cnJlbnRGb3JtLnVzZXJJZCwgY3VycmVudEZvcm0uRm9ybUlkKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2l0ZXJhdGUgZm9ybSBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGVudHJ5LCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtW2tleV0gPSBlbnRyeVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvcm0uU3ViRm9ybXMucHVzaChmb3JtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjdXJyZW50Rm9ybSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufSIsIm1vZHVsZSBIQ01TLk1vZGVscyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEdyaWRDb2x1bW5PcHRpb24ge1xyXG4gICAgICAgIHB1YmxpYyBWaWV3SWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcHVibGljIEZpZWxkSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcHVibGljIENvbHVtbk9wdGlvbklkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHB1YmxpYyBDb2x1bW5PcHRpb25OYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBDb2x1bW5PcHRpb25WYWx1ZTogc3RyaW5nID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAgXHJcbiAgICBcclxufSAiLCJtb2R1bGUgSENNUy5Nb2RlbHMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBHcmlkT3B0aW9uIHtcclxuICAgICAgICBwdWJsaWMgVmlld0lkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHB1YmxpYyBHcmlkT3B0aW9uSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcHVibGljIEdyaWRPcHRpb25OYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIHB1YmxpYyBHcmlkT3B0aW9uVmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgcHVibGljIEdyaWRPcHRpb25EZWZhdWx0VmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG59IiwibW9kdWxlIEhDTVMuTW9kZWxzIHtcclxuICAgIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTeXN0ZW1Gb3JtVmlldyB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBWaWV3SWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgRm9ybUlkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIFZpZXdUeXBlSWQ6IFZpZXdUeXBlID0gVmlld1R5cGUuSW5kZXg7XHJcbiAgICAgICAgU2VsZWN0QnV0dG9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgQ3JlYXRlQnV0dG9uOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgRWRpdEJ1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIFNhdmVCdXR0b246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBEZWxldGVCdXR0b246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBDYW5jZWxCdXR0b246IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBUYWJsZU5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgVGFibGVDb2RlRmllbGQ6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgU2VsZWN0UXVlcnk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgRnJvbVF1ZXJ5OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFdoZXJlUXVlcnk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgT3JkZXJCeVF1ZXJ5OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIEdyb3VwQnlRdWVyeTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBTdGFydERhdGU6IERhdGUgPSBudWxsO1xyXG4gICAgICAgIEVuZERhdGU6IERhdGUgPSBudWxsO1xyXG4gICAgICAgIERpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgRWRpdExpbms6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgRGVsZXRlTGluazogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBDcmVhdGVMaW5rOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFic3RyYWN0IENhbGxiYWNrT25Mb2FkKHZpZXc6IFN5c3RlbUZvcm1WaWV3KTogdm9pZDtcclxuXHJcbiAgICAgICAgLy9wdWJsaWMgVmlld0ZpZWxkczogU3lzdGVtRm9ybVZpZXdGaWVsZFtdID0gW107XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgU2VsZWN0Q2FsbGJhY2s6IChpdGVtOiBhbnkpID0+IHZvaWQ7XHJcbiAgICAgICAgcHVibGljIEVkaXRDYWxsYmFjazogKGl0ZW06IGFueSkgPT4gdm9pZDtcclxuICAgICAgICBwdWJsaWMgRGVsZXRlQ2FsbGJhY2s6IChpdGVtOiBhbnkpID0+IHZvaWQ7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIF92aWV3RmllbGRzOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXdGaWVsZFtdID0gW107XHJcblxyXG4gICAgICAgIHB1YmxpYyBWaWV3RmllbGRzT2JqZWN0OiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgcHVibGljIGFkZFZpZXdGaWVsZCA9ICh2aWV3RmllbGQ6IE1vZGVscy5TeXN0ZW1Gb3JtVmlld0ZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdGaWVsZHMucHVzaCh2aWV3RmllbGQpO1xyXG4gICAgICAgICAgICB0aGlzLlZpZXdGaWVsZHNPYmplY3Rbdmlld0ZpZWxkLkZpZWxkTmFtZV0gPSB2aWV3RmllbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0IFZpZXdGaWVsZHMoKTogYW55IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdGaWVsZHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgQ29udmVydEZpZWxkc0FzT2JqZWN0cyA9ICh2aWV3RmllbGRzOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXdGaWVsZFtdKTogYW55ID0+IHtcclxuICAgICAgICAgICAgaWYgKHZpZXdGaWVsZHMgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7fVxyXG4gICAgICAgICAgICB2YXIgYXJyID0gdmlld0ZpZWxkc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGFycltpXTtcclxuICAgICAgICAgICAgICAgIC8vZm9yICh2YXIgcHJvcCBpbiBhcnJbaV0pIHtcclxuICAgICAgICAgICAgICAgIC8vICAgIG9ialtwcm9wXSA9IGFycltpXVtwcm9wXTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0W2FycltpXS5GaWVsZE5hbWVdID0gb2JqO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHVibGljIHRyYW5zbGF0b3I/OiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHB1YmxpYyBkYk1hbmFnZXI/OiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSB1c2VySWQ/OiBudW1iZXIsIGZvcm1JZD86IG51bWJlciwgdmlld1R5cGVJZD86IFZpZXdUeXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRm9ybUlkID0gZm9ybUlkO1xyXG4gICAgICAgICAgICB0aGlzLlZpZXdUeXBlSWQgPSB2aWV3VHlwZUlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIExvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLkZvcm1JZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICc/Zm9ybUlkPScgKyB0aGlzLkZvcm1JZCArICcmdmlld1R5cGVJZD0nICsgdGhpcy5WaWV3VHlwZUlkICsgJyZ1c2VySWQ9JyArIHRoaXMudXNlcklkO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRWaWV3U2V0dXAnLCBxdWVyeVN0cmluZylcclxuXHJcbiAgICAgICAgICAgIERhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5T2JqZWN0KHRoaXMsIHJlc3VsdC5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9hZEZpZWxkcyh0aGlzLlZpZXdJZCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2FkRmllbGRzID0gYXN5bmMgKHZpZXdJZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2aWV3SWQgPT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gbGV0IGZpZWxkczogU3lzdGVtRm9ybVZpZXdGaWVsZFtdPVtdO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSAnP3ZpZXdJZD0nICsgdmlld0lkICsgJyZ1c2VySWQ9JyArIHRoaXMudXNlcklkO1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRWaWV3RmllbGRzJywgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVtpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZDogU3lzdGVtRm9ybVZpZXdGaWVsZCA9IG5ldyBTeXN0ZW1Gb3JtVmlld0ZpZWxkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5T2JqZWN0KGZpZWxkLCByZXN1bHQuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlld0ZpZWxkKGZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLkNhbGxiYWNrT25Mb2FkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ2FsbGJhY2tPbkxvYWQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIEdldE5ld0NvZGUodmlld0lkLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBpZiAodmlld0lkID09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz92aWV3SWQ9JyArIHZpZXdJZDtcclxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYk1hbmFnZXIuR2V0KCdDb2RlU2V0dXAnLCBcIkdldE5ld0NvZGVcIiwgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEluZGV4VmlldyBleHRlbmRzIFN5c3RlbUZvcm1WaWV3IHtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBHcmlkU2V0dXA6IEZvcm1zLkJhc2VHcmlkU2V0dXA7XHJcblxyXG4gICAgICAgIHB1YmxpYyBDYWxsYmFja09uTG9hZCh2aWV3OiBTeXN0ZW1Gb3JtVmlldykge1xyXG4gICAgICAgICAgICB2YXIgX3ZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLkdyaWRTZXR1cC5Mb2FkR3JpZE9wdGlvbnMoX3ZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLkdyaWRTZXR1cC5Mb2FkQ29sdW1uT3B0aW9ucyh2aWV3LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkdyaWRTZXR1cC5TZXRDb2x1bW5EZWZpbml0aW9ucygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgdXNlcklkOiBudW1iZXIsIGZvcm1JZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgdXNlcklkLCBmb3JtSWQsIFZpZXdUeXBlLkluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5HcmlkU2V0dXAgPSBuZXcgRm9ybXMuQmFzZUdyaWRTZXR1cCh0cmFuc2xhdG9yLCBkYk1hbmFnZXIpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBDcmVhdGVWaWV3IGV4dGVuZHMgU3lzdGVtRm9ybVZpZXcge1xyXG4gICAgICAgIHB1YmxpYyBDYWxsYmFja09uTG9hZCh2aWV3OiBTeXN0ZW1Gb3JtVmlldykge1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0b3I/OiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcj86IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCB1c2VySWQ/OiBudW1iZXIsIGZvcm1JZD86IG51bWJlcikge1xyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdG9yLCBkYk1hbmFnZXIsIHVzZXJJZCwgZm9ybUlkLCBWaWV3VHlwZS5FZGl0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRWRpdFZpZXcgZXh0ZW5kcyBTeXN0ZW1Gb3JtVmlldyB7XHJcbiAgICAgICAgcHVibGljIENhbGxiYWNrT25Mb2FkKHZpZXc6IFN5c3RlbUZvcm1WaWV3KSB7XHJcblxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRvcj86IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyPzogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHVzZXJJZD86IG51bWJlciwgZm9ybUlkPzogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgdXNlcklkLCBmb3JtSWQsIFZpZXdUeXBlLkVkaXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIERldGFpbHNWaWV3IGV4dGVuZHMgU3lzdGVtRm9ybVZpZXcge1xyXG4gICAgICAgIHB1YmxpYyBDYWxsYmFja09uTG9hZCh2aWV3OiBTeXN0ZW1Gb3JtVmlldykge1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgdXNlcklkOiBudW1iZXIsIGZvcm1JZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0b3IsIGRiTWFuYWdlciwgdXNlcklkLCBmb3JtSWQsIFZpZXdUeXBlLkRldGFpbHMpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG59IiwibW9kdWxlIEhDTVMuTW9kZWxzIHtcclxuICAgIGV4cG9ydCBjbGFzcyBTeXN0ZW1Gb3JtVmlld0ZpZWxkIHtcclxuXHJcbiAgICAgICAgVmlld0ZpZWxkSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgVmlld0lkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIEZpZWxkTmFtZTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBEYXRhVHlwZU5hbWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgQ29udHJvbFR5cGVOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIElzUHJpbWFyeTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIE51bWJlck1pblZhbHVlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIE51bWJlck1heFZhbHVlOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIE1pbkxlbmd0aDogbnVtYmVyID0gMDtcclxuICAgICAgICBNYXhMZW5ndGg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgUGF0dGVybjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBQbGFjZWhvbGRlcjogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBEYXRlTWluVmFsdWU6IERhdGUgPSBudWxsO1xyXG4gICAgICAgIERhdGVNYXhWYWx1ZTogRGF0ZSA9IG51bGw7XHJcbiAgICAgICAgRGVmYXVsdFZhbHVlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIElzUmVxdWlyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBGaWVsZE9yZGVyOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIElzSGlkZGVuOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgRGVmYXVsdERpc3BsYXlUZXh0OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIElzUmVhZE9ubHk6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBJc0lkZW50aXR5OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgU2VsZWN0UXVlcnk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgU2VsZWN0QXBpVXJsOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFNlbGVjdERpc3BsYXlOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFNlbGVjdERpc3BsYXlOYW1lXzogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBTZWxlY3REaXNwbGF5VmFsdWU6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgU2VsZWN0U2VhcmNoRmllbGRzOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFNlbGVjdEh0bWxEYXRhOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFRhYmxlU2VsZWN0OiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFRhYmxlRnJvbTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBUYWJsZVdoZXJlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIFRhYmxlR3JvdXBCeTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBUYWJsZU9yZGVyQnk6IHN0cmluZyA9IFwiXCI7XHJcbiAgICAgICAgRHJvcERvd25JZDogbnVtYmVyID0gMDtcclxuICAgICAgICBGaWx0ZXJGaWVsZDogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBGaWx0ZXJFeHByZXNzaW9uOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgIH1cclxufSIsIm1vZHVsZSAgSENNUy5Nb2RlbHMge1xyXG5cclxuICAgIGV4cG9ydCBlbnVtIFZpZXdUeXBlIHtcclxuICAgICAgICBBbGwgPSAwLFxyXG4gICAgICAgIEluZGV4ID0gMSxcclxuICAgICAgICBEZXRhaWxzID0gMixcclxuICAgICAgICBFZGl0ID0gM1xyXG4gICAgfVxyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJjb21tb25mb3JtLnRzXCIgLz5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSUJhc2VGb3JtRGF0YSB7XHJcblxyXG4gICAgICAgIEdldERhdGFJdGVtKGlkOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik7XHJcbiAgICAgICAgR2V0RGF0YUxpc3QoY2FsbGJhY2s6IEZ1bmN0aW9uKTtcclxuICAgICAgICBVcGRhdGVEYXRhKHZhbGlkOiBib29sZWFuLCBpZDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pO1xyXG4gICAgICAgIEFkZERhdGEodmFsaWQ6IGJvb2xlYW4sIGNhbGxiYWNrOiBGdW5jdGlvbik7XHJcbiAgICAgICAgRGVsZXRlRGF0YShpZDogc3RyaW5nLCBpdGVtOiBhbnksIGNhbGxiYWNrOiBGdW5jdGlvbik7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCYXNlRm9ybURhdGEgZXh0ZW5kcyBDb21tb25Gb3JtIGltcGxlbWVudHMgSUJhc2VGb3JtRGF0YSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyBNeUZvcm06IE1vZGVscy5Gb3JtO1xyXG4gICAgICAgIHB1YmxpYyBkYXRhSXRlbTogYW55ID0ge307XHJcbiAgICAgICAgcHVibGljIGRhdGFMaXN0OiBBcnJheTxhbnk+ID0gW107XHJcblxyXG4gICAgICAgIHByaXZhdGUgc21hcnRBbGVydDogSENNUy5Db250cm9scy5TbWFydEFsZXJ0O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBmb3JtOiBNb2RlbHMuRm9ybSkge1xyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0ID0gbmV3IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydCgpO1xyXG4gICAgICAgICAgICB0aGlzLk15Rm9ybSA9IGZvcm07XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRDb21tb25QYXJhbXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnP2Zvcm1JZD0nICsgdGhpcy5NeUZvcm0uRm9ybUlkICsgJyZ1c2VySWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgR2V0RGF0YUl0ZW0oaWQ6IHN0cmluZywgY2FsbGJhY2s/OiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmlkPScgKyBpZDtcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0RGV0YWlscycsIHF1ZXJ5U3RyaW5nLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSByZXNwb25zZS5kYXRhOyAvLyB2bS5mb3JtYXRJdGVtRGF0YShyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsYmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIEdldERhdGFMaXN0KGNhbGxiYWNrPzogRnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudE9iamVjdC5NeUZvcm0uRm9ybUlkID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LmdldENvbW1vblBhcmFtcygpO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRBbGwnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTsgLy8gdm0uZm9ybWF0SXRlbURhdGEocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgZ2V0SWRGaWVsZE5hbWUodmlld0ZpZWxkczogTW9kZWxzLlN5c3RlbUZvcm1WaWV3RmllbGRbXSk6IHN0cmluZyB7XHJcbiAgICAgICAgLy8gICAgLy9zZXQgcHJpbWFyeUZpZWxkIHRvIGdyaWRPcHRpb25zIE9iamVjdCB0byBhY2Nlc3MgaW4gZXZlcnkgcm93XHJcbiAgICAgICAgLy8gICAgZm9yICh2YXIgcHJvcCBpbiB2aWV3RmllbGRzKSB7XHJcbiAgICAgICAgLy8gICAgICAgIGlmICh2aWV3RmllbGRzW3Byb3BdLklzUHJpbWFyeSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuIHZpZXdGaWVsZHNbcHJvcF0uRmllbGROYW1lO1xyXG4gICAgICAgIC8vICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgfVxyXG5cclxuICAgICAgICAvLyAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBnZXRJZFZhbHVlKHZpZXdGaWVsZHM6IE1vZGVscy5TeXN0ZW1Gb3JtVmlld0ZpZWxkW10sIHJvd0RhdGE6IGFueSk6IGFueSB7XHJcbiAgICAgICAgLy8gICAgcmV0dXJuIHJvd0RhdGFbdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3RmllbGRzKV07XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIHByaXZhdGUgTWVzc2FnZUNvbmZpcm1hdGlvbiA9IChkYXRhOiBhbnksIHN1Y2Nlc3NNZXNzZ2U6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgICAgICAgICB2YXIgc3lzdGVtUmVzdWx0ID0gZGF0YS5TeXN0ZW1NZXNzYWdlO1xyXG4gICAgICAgICAgICAvL2lmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZGF0YSkgJiYgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc3lzdGVtUmVzdWx0KSkge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNtYXJ0QWxlcnQuRXJyb3IoZGF0YSk7XHJcbiAgICAgICAgICAgIC8vfWVsc2VcclxuICAgICAgICAgICAgdmFyIHJlc3VsdDogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc3lzdGVtUmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5Jc0Vycm9yTWVzc2FnZSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkFsZXJ0KHN1Y2Nlc3NNZXNzZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChzeXN0ZW1SZXN1bHQuSXNQcmV2ZW50TWVzc2FnZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkVycm9yKHN5c3RlbVJlc3VsdC5TeXN0ZW1NZXNzYWdlLk1lc3NhZ2VDb21tZW50LCBzeXN0ZW1SZXN1bHQuU3lzdGVtTWVzc2FnZS5NZXNzYWdlQ29kZSk7IC8vIEVycm9yIEFsZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBbGVydC5XYXJuaW5nKHN5c3RlbVJlc3VsdC5TeXN0ZW1NZXNzYWdlLk1lc3NhZ2VDb21tZW50LCBzeXN0ZW1SZXN1bHQuU3lzdGVtTWVzc2FnZS5NZXNzYWdlQ29kZSk7IC8vIFdhcm5pbmcgQWxlcnRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQuQWxlcnQoc3VjY2Vzc01lc3NnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBVcGRhdGVEYXRhID0gKHZhbGlkOiBib29sZWFuLCBpZDogc3RyaW5nLCBjYWxsYmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuTXlGb3JtLkZvcm1JZCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy92YXIgaWQgPSBjdXJyZW50T2JqZWN0LmdldElkVmFsdWUodmlld0ZpZWxkcywgY3VycmVudE9iamVjdC5kYXRhSXRlbSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB0aGlzLmdldENvbW1vblBhcmFtcygpICsgJyZpZD0nICsgaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLlB1dCh0aGlzLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ1B1dERhdGEnLCBxdWVyeVN0cmluZywgdGhpcy5kYXRhSXRlbSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy92bS5kYXRhSXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50T2JqZWN0LmRhdGFJdGVtID0ge307XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5NZXNzYWdlQ29uZmlybWF0aW9uKHJlc3VsdC5kYXRhLCBcIlNhdmVkIFN1Y2Nlc3NmdWxseVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGNhbGxiYWNrKSAmJiBjYWxsYmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL2FkZCBOZXcgRGF0YVxyXG4gICAgICAgIHB1YmxpYyBBZGREYXRhID0gKHZhbGlkOiBib29sZWFuLCBjYWxsYmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5NeUZvcm0uRm9ybUlkID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB0aGlzLmdldENvbW1vblBhcmFtcygpO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KHRoaXMuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnUG9zdERhdGEnLCBxdWVyeVN0cmluZywgKHRoaXMuZGF0YUl0ZW0pLCAocmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50T2JqZWN0LmRhdGFJdGVtID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLk1lc3NhZ2VDb25maXJtYXRpb24ocmVzdWx0LmRhdGEsIFwiU2F2ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY2FsbGJhY2spICYmIGNhbGxiYWNrICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0sIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRocm93IHJlc3VsdDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBEZWxldGVEYXRhID0gKGlkOiBzdHJpbmcsIGl0ZW06IGFueSwgY2FsbGJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQuQ29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGVcIiwgXCJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5nZXRDb21tb25QYXJhbXMoKSArICcmaWQ9JyArIGlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuRGVsZXRlKHRoaXMuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnRGVsZXRlRGF0YScsIHF1ZXJ5U3RyaW5nLCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UodGhpcy5kYXRhTGlzdC5pbmRleE9mKGl0ZW0pLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSB0aGlzLk1lc3NhZ2VDb25maXJtYXRpb24ocmVzdWx0LmRhdGEsIFwiUmVjb3JkIGhhcyBiZWVuIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjYWxsYmFjaykgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNGb3Jtcy5jb250cm9sbGVyKCdiYXNlRm9ybUNvbnRyb2xsZXInLCBCYXNlRm9ybVNldHVwKTtcclxuXHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImNvbW1vbmZvcm0udHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzXHJcbiAgICAgICAgQmFzZUZvcm1TZXR1cCBleHRlbmRzIENvbW1vbkZvcm0ge1xyXG5cclxuICAgICAgICBwdWJsaWMgTXlGb3JtOiBNb2RlbHMuRm9ybTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHVzZXJJZDogbnVtYmVyLCBwcml2YXRlIGZvcm1JZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLk15Rm9ybSA9IG5ldyBNb2RlbHMuRm9ybSh0cmFuc2xhdG9yLCB0aGlzLmRiTWFuYWdlciwgdXNlcklkLCBmb3JtSWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIExvYWRGb3JtID0gKGNhbGxiYWNrPzogKGZvcm06IE1vZGVscy5Gb3JtKSA9PiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5NeUZvcm0uTG9hZChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIExvYWRTdWJGb3JtcyA9IChjYWxsYmFjaz86IChmb3JtOiBNb2RlbHMuRm9ybSkgPT4gYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuTXlGb3JtLkxvYWRTdWJGb3JtcyhjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3B1YmxpYyBhc3luYyBMb2FkRm9ybUEoKSB7XHJcbiAgICAgICAgLy8gICAgcmV0dXJuIGF3YWl0IHRoaXMuTXlGb3JtLkxvYWRBKCk7XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgXHJcblxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJhc2VHcmlkICB7XHJcblxyXG4gICAgICAgXHJcbiAgICB9XHJcblxyXG59ICIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgR3JpZCB7XHJcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyA9IFwibGlzdEdyaWRcIjtcclxuICAgICAgICBwdWJsaWMgZ3JpZE9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHB1YmxpYyBncmlkQ29sdW1uRGVmczogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuXHJcbiAgICAgICAgLy92bS5ncmlkID0geyBuYW1lOiAnbGlzdEdyaWQnLCBncmlkT3B0aW9uczogeyBlbmFibGVSdGw6IGFwcFNlcnZpY2UuZ2V0RGlyZWN0aW9uKCkgPT09ICdydGwnID8gdHJ1ZSA6IGZhbHNlIH0sIGdyaWRDb2x1bW5EZWZzOiBbXSB9O1xyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCYXNlR3JpZFNldHVwIHtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgb25Db2x1bW5PcHRpb25zTG9hZGVkOiBFdmVudERhdGEgPSBuZXcgRXZlbnREYXRhKCk7XHJcbiAgICAgICAgcHJpdmF0ZSBvbkdyaWRPcHRpb25zTG9hZGVkOiBFdmVudERhdGEgPSBuZXcgRXZlbnREYXRhKCk7XHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXQgT25Db2x1bW5PcHRpb25zTG9hZGVkKCkgeyByZXR1cm4gdGhpcy5vbkNvbHVtbk9wdGlvbnNMb2FkZWQuZXhwb3NlKCk7IH1cclxuICAgICAgICBwdWJsaWMgZ2V0IE9uR3JpZE9wdGlvbnNMb2FkZWQoKSB7IHJldHVybiB0aGlzLm9uR3JpZE9wdGlvbnNMb2FkZWQuZXhwb3NlKCk7IH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBNeUdyaWQ6IEdyaWQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGVmYXVsdENvbHVtbk9wdGlvbnM6IEFycmF5PE1vZGVscy5HcmlkQ29sdW1uT3B0aW9uPjtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSB2aWV3Q29sdW1uT3B0aW9uczogQXJyYXk8TW9kZWxzLkdyaWRDb2x1bW5PcHRpb24+O1xyXG5cclxuICAgICAgICBwcml2YXRlIE15VmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgcHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLk15R3JpZCA9IG5ldyBHcmlkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTXlHcmlkLmdyaWRPcHRpb25zW1wiZW5hYmxlUnRsXCJdID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgLy90aGlzLkxvYWRHcmlkT3B0aW9ucygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIExvYWRHcmlkT3B0aW9ucyh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcsIGNhbGxiYWs/KSB7XHJcbiAgICAgICAgICAgIGlmICh2aWV3LlZpZXdJZCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuTXlWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ0dlbmVyYWxGb3JtU2V0dXAnLCAnR2V0R3JpZE9wdGlvbnMnLCBcIlwiLCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5kYXRhLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhW2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbjogTW9kZWxzLkdyaWRPcHRpb24gPSBuZXcgTW9kZWxzLkdyaWRPcHRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGF0YUFjY2Vzcy5VdGlsaXR5LkNvcHlPYmplY3Qob3B0aW9uLCByZXN1bHQuZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuTXlHcmlkLmdyaWRPcHRpb25zW29wdGlvbi5HcmlkT3B0aW9uTmFtZV0gPSBvcHRpb24uR3JpZE9wdGlvbkRlZmF1bHRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Mb2FkVmlld0dyaWRPcHRpb25zKGNhbGxiYWspO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIExvYWRWaWV3R3JpZE9wdGlvbnMoY2FsbEJhY2s/OiBGdW5jdGlvbikge1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvL2N1cnJlbnRPYmplY3QuTXlHcmlkLmdyaWRPcHRpb25zWyd2aWV3RmllbGRzJ10gPSB2aWV3LlZpZXdGaWVsZHM7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj92aWV3SWQ9XCIgKyBjdXJyZW50T2JqZWN0Lk15Vmlldy5WaWV3SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRWaWV3R3JpZE9wdGlvbnMnLCBxdWVyeVN0cmluZywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVtpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb246IE1vZGVscy5HcmlkT3B0aW9uID0gbmV3IE1vZGVscy5HcmlkT3B0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5T2JqZWN0KG9wdGlvbiwgcmVzdWx0LmRhdGFbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0Lk15R3JpZC5ncmlkT3B0aW9uc1tvcHRpb24uR3JpZE9wdGlvbk5hbWVdID0gb3B0aW9uLkdyaWRPcHRpb25WYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbkdyaWRPcHRpb25zTG9hZGVkXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9IG5ldyBFdmVudEFyZ3MoY3VycmVudE9iamVjdC5NeUdyaWQuZ3JpZE9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkdyaWRPcHRpb25zTG9hZGVkLnRyaWdnZXIoZSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgTG9hZENvbHVtbk9wdGlvbnMgPSAodmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3LCBjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2aWV3LlZpZXdJZCA9PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuTXlWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRlZmF1bHRDb2x1bW5PcHRpb25zID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRHcmlkRGVmYXVsdENvbHVtbnNPcHRpb25zJywgXCJcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGF0YS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YVtpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb246IE1vZGVscy5HcmlkQ29sdW1uT3B0aW9uID0gbmV3IE1vZGVscy5HcmlkQ29sdW1uT3B0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5T2JqZWN0KG9wdGlvbiwgcmVzdWx0LmRhdGFbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRlZmF1bHRDb2x1bW5PcHRpb25zLnB1c2gob3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuTG9hZFZpZXdDb2x1bW5PcHRpb25zKGNhbGxCYWNrKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBMb2FkVmlld0NvbHVtbk9wdGlvbnMoY2FsbEJhY2s/OiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50T2JqZWN0Lk15Vmlldy5WaWV3SWQgPT0gMCkgcmV0dXJuO1xyXG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LnZpZXdDb2x1bW5PcHRpb25zID0gW107XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICc/dmlld0lkPScgKyBjdXJyZW50T2JqZWN0Lk15Vmlldy5WaWV3SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnR2VuZXJhbEZvcm1TZXR1cCcsICdHZXRHcmlkVmlld0NvbHVtbnNPcHRpb25zJywgcXVlcnlTdHJpbmcsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGFbaV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uOiBNb2RlbHMuR3JpZENvbHVtbk9wdGlvbiA9IG5ldyBNb2RlbHMuR3JpZENvbHVtbk9wdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEYXRhQWNjZXNzLlV0aWxpdHkuQ29weU9iamVjdChvcHRpb24sIHJlc3VsdC5kYXRhW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC52aWV3Q29sdW1uT3B0aW9ucy5wdXNoKG9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjYWxsQmFjayAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL29uQ29sdW1uT3B0aW9uc0xvYWRlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXZlbnRBcmdzKGN1cnJlbnRPYmplY3Qudmlld0NvbHVtbk9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbHVtbk9wdGlvbnNMb2FkZWQudHJpZ2dlcihlKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIFNldENvbHVtbkRlZmluaXRpb25zID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuTXlHcmlkLmdyaWRDb2x1bW5EZWZzID0gW107XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0Q29sdW1uRGVmcyA9IHRoaXMuZ2V0RGVmYXVsdENvbHVtbkRlZnMoKTtcclxuXHJcbiAgICAgICAgICAgIC8vYWRkIHNlbGVjdCBCdXR0b25cclxuICAgICAgICAgICAgdGhpcy5hZGRTZWxlY3RCdXR0b24odGhpcy5NeUdyaWQuZ3JpZENvbHVtbkRlZnMpO1xyXG5cclxuICAgICAgICAgICAgLy9hZGQgZWRpdCBCdXR0b25cclxuICAgICAgICAgICAgdGhpcy5hZGRFZGl0QnV0dG9uKHRoaXMuTXlHcmlkLmdyaWRDb2x1bW5EZWZzKTtcclxuXHJcbiAgICAgICAgICAgIC8vYWRkIGRlbGV0ZSBCdXR0b25cclxuICAgICAgICAgICAgdGhpcy5hZGREZWxldGVCdXR0b24odGhpcy5NeUdyaWQuZ3JpZENvbHVtbkRlZnMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuTXlWaWV3LlZpZXdGaWVsZHMgIT0gbnVsbCAmJiB0aGlzLk15Vmlldy5WaWV3RmllbGRzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIG9mIHRoaXMuTXlWaWV3LlZpZXdGaWVsZHMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk9iaiA9IGpRdWVyeS5leHRlbmQodHJ1ZSwge30sIGRlZmF1bHRDb2x1bW5EZWZzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKHRoaXMudmlld0NvbHVtbk9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncmlkQ29sdW1uT3B0aW9ucyA9IHRoaXMudmlld0NvbHVtbk9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLkZpZWxkSWQgPT09IGl0ZW0uVmlld0ZpZWxkSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZ3JpZENvbHVtbk9wdGlvbnMubGVuZ3RoOyBmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25SZXN1bHQgPSB0aGlzLmdldFJpZ2h0VmFsdWUoZ3JpZENvbHVtbk9wdGlvbnNbZl0uQ29sdW1uT3B0aW9uVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uT2JqW2dyaWRDb2x1bW5PcHRpb25zW2ZdLkNvbHVtbk9wdGlvbk5hbWVdID0gb3B0aW9uUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uT2JqLmhpZGUgPSBpdGVtLklzSGlkZGVuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5PYmouY29udHJvbFR5cGVOYW1lID0gaXRlbS5Db250cm9sVHlwZU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TZXQgRmllbGROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uT2JqLmZpZWxkID0gaXRlbS5GaWVsZE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZXQgaGVhZGVyIE5hbWVcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5PYmouaGVhZGVyTmFtZSA9IChpdGVtLkRlZmF1bHREaXNwbGF5VGV4dCA9PSBudWxsKSA/IGl0ZW0uRmllbGROYW1lIDogaXRlbS5EZWZhdWx0RGlzcGxheVRleHQ7O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc2V0IFRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uT2JqLnRlbXBsYXRlID0gdGhpcy5nZXRHcmlkQ29udHJvbFRlbXBsYXRlKGNvbHVtbk9iaik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbk9iai5oZWFkZXJWYWx1ZUdldHRlciA9IHRoaXMuZ2V0SGVhZGVyTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NeUdyaWQuZ3JpZENvbHVtbkRlZnMucHVzaChjb2x1bW5PYmopO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0FkZCBzZWxlY3QgYnV0dG9uXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRTZWxlY3RCdXR0b24ocmVzdWx0Q29sdW1uczogYW55KSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKHRoaXMuTXlWaWV3LlNlbGVjdEJ1dHRvbikge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0Q29sdW1ucy5wdXNoKHsgaGVhZGVyTmFtZTogXCJcIiwgaGVhZGVyVmFsdWVHZXR0ZXI6IGN1cnJlbnRPYmplY3QuZ2V0SGVhZGVyTmFtZSwgd2lkdGg6IDUwLCBjZWxsUmVuZGVyZXI6IGN1cnJlbnRPYmplY3Quc2VsZWN0Q2VsbCwgc3VwcHJlc3NNZW51OiB0cnVlLCBzdXBwcmVzc1NvcnRpbmc6IHRydWUsIHN1cHByZXNzU2l6ZVRvRml0OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vQWRkIGVkaXQgYnV0dG9uXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRFZGl0QnV0dG9uKHJlc3VsdENvbHVtbnM6IGFueSkge1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLk15Vmlldy5FZGl0QnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRDb2x1bW5zLnB1c2goeyBoZWFkZXJOYW1lOiBcIlwiLCBoZWFkZXJWYWx1ZUdldHRlcjogY3VycmVudE9iamVjdC5nZXRIZWFkZXJOYW1lLCB3aWR0aDogNTAsIGNlbGxSZW5kZXJlcjogY3VycmVudE9iamVjdC5lZGl0Q2VsbCwgc3VwcHJlc3NNZW51OiB0cnVlLCBzdXBwcmVzc1NvcnRpbmc6IHRydWUsIHN1cHByZXNzU2l6ZVRvRml0OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vQWRkIGRlbGV0ZSBidXR0b25cclxuICAgICAgICBwcml2YXRlIGFkZERlbGV0ZUJ1dHRvbihyZXN1bHRDb2x1bW5zOiBhbnkpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5NeVZpZXcuRGVsZXRlQnV0dG9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRDb2x1bW5zLnB1c2goeyBoZWFkZXJOYW1lOiBcIlwiLCBoZWFkZXJWYWx1ZUdldHRlcjogY3VycmVudE9iamVjdC5nZXRIZWFkZXJOYW1lLCB3aWR0aDogNTAsIGNlbGxSZW5kZXJlcjogY3VycmVudE9iamVjdC5kZWxldGVDZWxsLCBzdXBwcmVzc01lbnU6IHRydWUsIHN1cHByZXNzU29ydGluZzogdHJ1ZSwgc3VwcHJlc3NTaXplVG9GaXQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IHF3XHJcblxyXG4gICAgICAgIC8vU2VsZWN0IGhhbmRsZXI9PSAgIFxyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0Q2VsbCA9IChwYXJhbXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvL3ZhciBzZWxlY3RDYWxsYmFjayA9IHBhcmFtcy5hcGkuZ3JpZENvcmUuZ3JpZE9wdGlvbnMuc2VsZWN0Q2FsbGJhY2s7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RDYWxsYmFjayA9IHRoaXMuTXlWaWV3LlNlbGVjdENhbGxiYWNrO1xyXG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICAvLyAgZWxlbS5pbm5lckhUTUwgPSAnPGEgaHJlZj1cIiNcIj57e1wiU2VsZWN0XCIgfCB0cmFuc2xhdGUgfX08L2E+JztcclxuICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSAnPGEgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1oYW5kLXBvaW50ZXItbyBjZW50ZXItYmxvY2tcIj48L3NwYW4+PC9hPic7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyBzZWxlY3RDYWxsYmFjayhwYXJhbXMuZGF0YSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vZWRpdCBoYW5kbGVyPT0gXHJcbiAgICAgICAgcHJpdmF0ZSBlZGl0Q2VsbCA9IChwYXJhbXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvL3ZhciBlZGl0Q2FsbGJhY2sgPSBwYXJhbXMuYXBpLmdyaWRDb3JlLmdyaWRPcHRpb25zLmVkaXRDYWxsYmFjaztcclxuICAgICAgICAgICAgdmFyIGVkaXRDYWxsYmFjayA9IHRoaXMuTXlWaWV3LkVkaXRDYWxsYmFjaztcclxuICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgLy9lbGVtLmlubmVySFRNTCA9ICc8YSBocmVmPVwiI1wiPnt7XCJFZGl0XCIgfCB0cmFuc2xhdGUgfX08L2E+JztcclxuICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSAnPGEgY2xhc3M9XCJidG4gYnRuLXhzIGJ0bi1wcmltYXJ5XCI+PHNwYW4gY2xhc3M9XCJmYSBmYS1wZW5jaWwgY2VudGVyLWJsb2NrXCI+PC9zcGFuPjwvYT4nO1xyXG4gICAgICAgICAgICBpZiAoZWRpdENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7IGVkaXRDYWxsYmFjayhwYXJhbXMuZGF0YSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9kZWxldGUgaGFuZGxlcj09IFxyXG4gICAgICAgIHByaXZhdGUgZGVsZXRlQ2VsbCA9IChwYXJhbXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAvL3ZhciBkZWxldGVDYWxsYmFjayA9IHBhcmFtcy5hcGkuZ3JpZENvcmUuZ3JpZE9wdGlvbnMuZGVsZXRlQ2FsbGJhY2s7XHJcbiAgICAgICAgICAgIHZhciBkZWxldGVDYWxsYmFjayA9IHRoaXMuTXlWaWV3LkRlbGV0ZUNhbGxiYWNrO1xyXG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgICAgICAgICAvL2VsZW0uaW5uZXJIVE1MID0gJzxhIGhyZWY9XCIjXCI+e3tcIkRlbGV0ZVwiIHwgdHJhbnNsYXRlIH19PC9hPic7XHJcbiAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJzxhIGNsYXNzPVwiYnRuIGJ0bi14cyBidG4tZGFuZ2VyXCI+PHNwYW4gY2xhc3M9XCJmYSBmYS10aW1lcyBjZW50ZXItYmxvY2tcIj48L3NwYW4+PC9hPic7XHJcbiAgICAgICAgICAgIGlmIChkZWxldGVDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkgeyBkZWxldGVDYWxsYmFjayhwYXJhbXMuZGF0YSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vZ2V0IGNvbHVtbiBuYW1lIHVzZWQgYnkgYWctZ3JpZCB0byByZW5kZXIgY29sdW1uIGhlYWRlciBuYW1lXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRIZWFkZXJOYW1lID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShwYXJhbXMuY29sRGVmLmhlYWRlck5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RGVmYXVsdENvbHVtbkRlZnMoKTogYW55IHtcclxuICAgICAgICAgICAgdmFyIGNvbHVtbnNEZWZzOiBhbnkgPSB7fTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBvZiB0aGlzLmRlZmF1bHRDb2x1bW5PcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW5zRGVmc1tpdGVtLkNvbHVtbk9wdGlvbk5hbWVdID0gaXRlbS5Db2x1bW5PcHRpb25WYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sdW1uc0RlZnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFJpZ2h0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZmFsc2VcIjpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0cnVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldEdyaWRDb250cm9sVGVtcGxhdGUgPSBmdW5jdGlvbiAoZ3JpZENvbHVtbikge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcclxuICAgICAgICAgICAgc3dpdGNoIChncmlkQ29sdW1uLmNvbnRyb2xUeXBlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tcIjpcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwiPGlucHV0IHR5cGU9J2NoZWNrYm94JyBuZy1tb2RlbD0nZGF0YS5cIiArIGdyaWRDb2x1bW4uZmllbGQgKyBcIicgbmctZGlzYWJsZWQ9J1wiICsgIShncmlkQ29sdW1uLmVkaXRhYmxlKSArIFwiJyAvPlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwiPHA+e3tkYXRhLlwiICsgZ3JpZENvbHVtbi5maWVsZCArIFwiIHwgZGF0ZTonZGQvTU0veXl5eSd9fTwvcD5cIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vc2NyaXB0cy90eXBpbmdzL2FuZ3VsYXJqcy9hbmd1bGFyLmQudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9tb2R1bGUudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3N0YXJ0dXAudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2NvbXBhbnkudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2N1cnJlbnRsb2dpbmluZm8udHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL2RhdGFiYXNlcHJvZmlsZS50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9kYXRhYWNjZXNzL3N0YXJ0dXAvbGFuZ3VhZ2UudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3N0YXJ0dXAudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3VzZXIudHNcIiAvPlxyXG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vZGF0YWFjY2Vzcy9zdGFydHVwL3V0aWxpdHkudHNcIiAvPlxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEVudGl0eVNlcnZpY2U8VD4gIHtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpQ29udHJvbGxlck5hbWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlciA9IG5ldyBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBBZGQgPSAocXVlcnlTdHJpbmc6IHN0cmluZywgZW50aXR5OiBUKTogbmcuSUh0dHBQcm9taXNlPFQ+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKHRoaXMuYXBpQ29udHJvbGxlck5hbWUsIFwiUG9zdFwiLCBxdWVyeVN0cmluZywgZW50aXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVwZGF0ZSA9IChxdWVyeVN0cmluZzogc3RyaW5nLCBlbnRpdHk6IFQpOiBuZy5JSHR0cFByb21pc2U8VD4gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUHV0UHJvbWlzZSh0aGlzLmFwaUNvbnRyb2xsZXJOYW1lLCBcIlB1dFwiLCBxdWVyeVN0cmluZywgZW50aXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIERlbGV0ZSA9IChxdWVyeVN0cmluZzogc3RyaW5nLCBlbnRpdHk6IFQpOiBuZy5JSHR0cFByb21pc2U8VD4gPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUHV0UHJvbWlzZSh0aGlzLmFwaUNvbnRyb2xsZXJOYW1lLCBcIkRlbGV0ZVwiLCBxdWVyeVN0cmluZywgZW50aXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEdldCA9IChxdWVyeVN0cmluZzogc3RyaW5nKTogbmcuSUh0dHBQcm9taXNlPFQ+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UodGhpcy5hcGlDb250cm9sbGVyTmFtZSwgXCJHZXRCeUlkXCIsIHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEdldEFsbCA9IChxdWVyeVN0cmluZzogc3RyaW5nKTogbmcuSUh0dHBQcm9taXNlPFQ+ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UodGhpcy5hcGlDb250cm9sbGVyTmFtZSwgXCJHZXRBbGxcIiwgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgIFxyXG4gICAgfVxyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZWZvcm1tYW5hZ2VyLnRzXCIgLz5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFeGNlbEhlYWRlciBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHhsc09wdGlvbnMgPSB7IGRhdGE6IFtdLCBmaWxlTmFtZTogXCJcIiwgb25DaGFuZ2VkOiBudWxsLCBvbkNsaWNrOiBudWxsIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc21hcnRBTGVydDogSENNUy5Db250cm9scy5TbWFydEFsZXJ0O1xyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBSZWZObzogbnVtYmVyID0gMDs7XHJcbiAgICAgICAgcHJpdmF0ZSBGaWxlTmFtZTogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQgPSBuZXcgSENNUy5Db250cm9scy5TbWFydEFsZXJ0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVOZXcoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy54bHNPcHRpb25zLm9uQ2xpY2sgPSB0aGlzLmNsZWFyU2VsZWN0ZWRGaWxlO1xyXG4gICAgICAgICAgICAvL3RoaXMueGxzT3B0aW9ucy5vbkNoYW5nZWQgPSB0aGlzLmVtcG9ydERhdGFDaGFuZ2VkO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBMb2FkRnJvbUV4Y2VsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuZGJNYW5hZ2VyLlBvc3QodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkdldExpc3RcIiwgXCJcIiwgZGF0YSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLmRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgIC8vfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNtYXJ0QUxlcnQuRXJyb3IocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAvL30pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLlJlZk5vIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiUGxlYXNlIGVudGVyIFJlZmVyZW5jZSBOb1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90aGlzLkZpbGVOYW1lID0gKHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBudWxsIHx8IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBcIlwiID8gXCJ0ZXh0XCIgOiB0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5GaWxlTmFtZSA9IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnhsc09wdGlvbnMuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLkZpbGVOYW1lID09IG51bGwgfHwgdGhpcy5GaWxlTmFtZSA9PSBcIlwiIHx8IGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBzZWxlY3QgZmlsZSBmb3IgdXBsb2FkLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vICsgXCImZmlsZU5hbWU9XCIgKyB0aGlzLkZpbGVOYW1lO1xyXG5cclxuICAgICAgICAgICAgLy9pZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3N0UmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlNhdmVMaXN0XCIsIHF1ZXJ5U3RyaW5nLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2xlYXJTZWxlY3RlZEZpbGUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLndyYXAoJzxmb3JtPicpLmNsb3Nlc3QoJ2Zvcm0nKS5nZXQoMCkucmVzZXQoKTtcclxuICAgICAgICAgICAgZS51bndyYXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cclxuICAgICAgICAgICAgLy9lLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0TGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TGlzdFwiLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlTmV3ID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TWF4UmVmTm9cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHRoaXMuUmVmTm8gPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGxvYWRCeVJlZk5vID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5SZWZObyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBlbnRlciBSZWZlcmVuY2UgTm9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RJdGVtTGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZ3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZhciByZXN1bHQyID0gYXdhaXQgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJSZWNvcmRzIGhhcyBiZWVuIHBvc3RlZCBzdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiWW91IG11c3Qgc2VsZWN0IHJlY29yZChzKSB0byBwb3N0LlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0SXRlbUxpc3QgPSBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhlc2UgaXRlbXNcIiwgXCJcIiwgYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5ncmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlVuUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgcmVzdWx0MiA9IGF3YWl0IHRoaXMuZ2V0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5BbGVydChcIlJlY29yZHMgaGFzIGJlZW4gcG9zdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0Lldhcm5pbmcoXCJZb3UgbXVzdCBzZWxlY3QgcmVjb3JkKHMpIHRvIHVucG9zdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2ZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNhdmVJdGVtTGlzdCA9ICh2YWxpZCkgPT4ge1xyXG4gICAgICAgIC8vICAgIGlmICh0aGlzLnhsc09wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICAgICAvLyB2YXIgZGF0YSA9IEpTT04ucGFyc2UodGhpcy54bHNPcHRpb25zLmRhdGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgLy8gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhTGlzdDsvLyBKU09OLnN0cmluZ2lmeSh0aGlzLnhsc09wdGlvbnMuZGF0YSk7XHJcbiAgICAgICAgLy8gICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlNhdmVMaXN0XCIsIFwiXCIsIGRhdGEsIChyZXN1bHQpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJTYXZlZCBTdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgIC8vICAgICAgICB9LCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuRXJyb3IocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgIC8vICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyAgICB9XHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGRlbGV0ZUNsaWNrZWQgPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBpdGVtXCIsIFwiXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUxpc3QuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZGVsZXRlU2VsZWN0ZWRSb3dzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBpdGVtXCIsIFwiXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLmdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2Ygc2VsZWN0ZWRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigndXBsb2FkRXhjZWxIZWFkZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgRXhjZWxIZWFkZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59IiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFeGNlbEhlYWRlclNlcnZpY2Uge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIFJlZk5vOiBudW1iZXIgPSAwOztcclxuICAgICAgICBwcml2YXRlIEZpbGVOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3RvcihkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiBcclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2V4Y2VsSGVhZGVyU2VydmljZScsIFsgJ2RhdGFNYW5hZ2VyU2VydmljZScsIGZ1bmN0aW9uICggIGRhdGFNYW5hZ2VyU2VydmljZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRXhjZWxIZWFkZXJTZXJ2aWNlKCBkYXRhTWFuYWdlclNlcnZpY2UpO1xyXG4gICAgfV0pO1xyXG5cclxufSIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExvZ091dCB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuICAgICAgICAvL3B1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IFNlbGVjdGVkUHJvZmlsZTtcclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhdGU6IGFueSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGxvZ291dCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuU2V0Q3VycmVudExvZ2luSW5mbyhudWxsKTtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHZhciAkYm9keSA9ICQoJ2JvZHknKTtcclxuICAgICAgICAgICAgJGJvZHkucmVtb3ZlQ2xhc3MoXCJzbWFydC1ydGxcIik7XHJcbiAgICAgICAgICAgIC8vd2luZG93Wyckc3RhdGVQcm92aWRlclJlZiddLiBcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignbG9nb3V0Q29udHJvbGxlcicsIFsnJHN0YXRlJywgZnVuY3Rpb24gKCRzdGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTG9nT3V0KCRzdGF0ZSk7XHJcbiAgICB9XSk7XHJcblxyXG59IiwiXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBHZW5lcmFsUmVwb3J0Rm9ybSBleHRlbmRzIEJhc2VSZXBvcnRTZXR1cCB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBwcml2YXRlIGlGcmFtZVNvdXJjZTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBwcml2YXRlIHNtYXJ0QWxlcnQ6IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmVUYWJJbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNjZTogbmcuSVNDRVNlcnZpY2UsIGZpbHRlcjogbmcuSUZpbHRlckZpbHRlciwgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcihmaWx0ZXIsIHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5SZXBvcnRJZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQgPSBuZXcgSENNUy5Db250cm9scy5TbWFydEFsZXJ0KCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldFJlcG9ydFNldHVwKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpdGxlID0gdGhpcy50cmFuc2xhdGVUZXh0KGRhdGEuUmVwb3J0TmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTZXR1cC5SZXBvcnREZWNpbWFsU2NhbGUgPSBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuRGVjaW1hbFNjYWxlO1xyXG5cclxuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVwb3J0U2V0dXAuUmVwb3J0RmllbGRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5hY3RpdmFUYWIoMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmFjdGl2YVRhYigxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFNldHVwLlJlcG9ydEZpZWxkczIgPSBIQ01TLkRhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5RGF0YSh0aGlzLnJlcG9ydFNldHVwLlJlcG9ydEZpZWxkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHRoaXMucmVwb3J0U2V0dXAuUmVwb3J0RmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LklzUmVxdWlyZWQgPSBlbnRyeS5Jc1JlcXVpcmVkIHx8IGVudHJ5LklzUGFyYW1ldGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5GaWVsZERlc2NyaXB0aW9uID0gdGhpcy50cmFuc2xhdGVUZXh0KGVudHJ5LkZpZWxkTmFtZSwgdGhpcy5yZXBvcnRJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuRmllbGRPcHRpb25zMiA9IEhDTVMuRGF0YUFjY2Vzcy5VdGlsaXR5LkNvcHlEYXRhKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuRmllbGRPcHRpb25zMi5Jc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKGVudHJ5LklzUmVxdWlyZWQgfHwgZW50cnkuSXNQYXJhbWV0ZXIpICYmIGVudHJ5LlJlcG9ydE9wZXJhdG9yID09ICdCRVRXRUVOJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5yZXBvcnRTZXR1cC5SZXBvcnRUYWJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1YkVudHJ5IG9mIGVudHJ5LlJlcG9ydFRhYkZpZWxkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViRW50cnkuSXNSZXF1aXJlZCA9IHN1YkVudHJ5LklzUmVxdWlyZWQgfHwgc3ViRW50cnkuSXNQYXJhbWV0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJFbnRyeS5GaWVsZERlc2NyaXB0aW9uID0gdGhpcy50cmFuc2xhdGVUZXh0KHN1YkVudHJ5LkZpZWxkTmFtZSwgdGhpcy5yZXBvcnRJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgdGhpcy5yZXBvcnRTZXR1cC5SZXBvcnRUYWJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1YkVudHJ5IG9mIGVudHJ5LlJlcG9ydFRhYkZpZWxkcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViRW50cnkuSXNSZXF1aXJlZCA9IHN1YkVudHJ5LklzUmVxdWlyZWQgfHwgc3ViRW50cnkuSXNQYXJhbWV0ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJFbnRyeS5GaWVsZERlc2NyaXB0aW9uID0gdGhpcy50cmFuc2xhdGVUZXh0KHN1YkVudHJ5LkZpZWxkTmFtZSwgdGhpcy5yZXBvcnRJZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVudHJ5LkZpZWxkT3B0aW9uczIgPSBIQ01TLkRhdGFBY2Nlc3MuVXRpbGl0eS5Db3B5RGF0YShzdWJFbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJFbnRyeS5GaWVsZE9wdGlvbnMyLklzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoc3ViRW50cnkuSXNSZXF1aXJlZCB8fCBzdWJFbnRyeS5Jc1BhcmFtZXRlcikgJiYgc3ViRW50cnkuUmVwb3J0T3BlcmF0b3IgPT0gJ0JFVFdFRU4nIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29udHJvbHNPcGVyYXRvcnMoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFjdGl2YVRhYiA9IChpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcubmF2LXRhYnMgYTpmaXJzdCcpLnRhYignc2hvdycpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZXBvcnRUYWJDbGljayA9IChpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiI2dlbmVyYWwtcmVwb3J0LXRhYi1yJyArIGluZGV4ICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZXNpemVJZnJhbWUgPSAoaWZyYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBpRnJhbWVIZWlnaHQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCArICdweCc7XHJcbiAgICAgICAgICAgIHZhciBpRnJhbWVXaWR0aCA9ICcxMDAlJztcclxuICAgICAgICAgICAgaWZyYW1lLmNzcygnd2lkdGgnLCBpRnJhbWVXaWR0aCk7XHJcbiAgICAgICAgICAgIGlmcmFtZS5jc3MoJ2hlaWdodCcsIGlGcmFtZUhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb3B5T3B0aW9ucyA9IChzb3VyY2UsIG9wZXJhdG9yKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zO1xyXG4gICAgICAgICAgICBvcHRpb25zID0gRGF0YUFjY2Vzcy5VdGlsaXR5LkNvcHlEYXRhKHNvdXJjZSk7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuSXNSZWFkT25seSA9IChvcGVyYXRvciAhPT0gXCJCRVRXRUVOXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHByaW50ID0gKHZhbGlkKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBpZiAodmFsaWQgPT0gZmFsc2UpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVwb3J0U2V0dXAuRmlsdGVyU2VsZWN0ID0gdGhpcy5nZXRTZWxlY3RlZEdyb3VwQnkoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXBvcnRTZXR1cC5GaWx0ZXJPcmRlckJ5ID0gdGhpcy5nZXRTZWxlY3RlZE9yZGVyQnkoKTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJlcG9ydFNldHVwOy8veyByZXBvcnQ6IGdlbmVyYWxSZXBvcnQucmVwb3J0U2V0dXAucmVwb3J0LCByZXBvcnRUYWJzOiBnZW5lcmFsUmVwb3J0LnJlcG9ydFNldHVwLnJlcG9ydFRhYnMgfVxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB0aGlzLmdldENvbW1vblBhcmFtcygpO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KFwiUmVwb3J0Rm9ybVwiLCBcIlByaW50XCIsIHF1ZXJ5U3RyaW5nLCBkYXRhLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5TdWNjZXNzID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLy8vcmVzdWx0LlJlcG9ydFZpZXdlcklkXHJcbiAgICAgICAgICAgICAgICAgICAgLy93aW5kb3cub3BlbihcIi9SZXBvcnRzL1JETFZpZXdlci5hc3B4P1ZpZXdlcklkPVwiICsgcmVzdWx0LlJlcG9ydFZpZXdlcklkLCBcIl9ibGFua1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwb3J0c1VybCA9IERhdGFBY2Nlc3MuU3RhcnRVcC5yZXBvcnRzVXJsICsgXCIvUkRMVmlld2VyLmFzcHg/Vmlld2VySWQ9XCIgKyByZXN1bHQuUmVwb3J0Vmlld2VySWRcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlGcmFtZVNvdXJjZSA9IHRoaXMuc2NlLnRydXN0QXNSZXNvdXJjZVVybChyZXBvcnRzVXJsKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihyZXBvcnRzVXJsLCBcIl9ibGFua1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkFsZXJ0KHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRTZWxlY3RlZEdyb3VwQnkgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzdHIgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuc2VsZWN0ZWRHcm91cEJ5T2JqZWN0O1xyXG4gICAgICAgICAgICB2YXIgY291bnQgPSAxO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YSwgKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA8PSA3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgcmVzdWx0ID0gJGZpbHRlcignZmlsdGVyJykoZ2VuZXJhbFJlcG9ydC5zZWxlY3RlZEdyb3VwQnlJdGVtcywgeyBSZXBvcnRPcmRlckJ5SWQ6IHZhbHVlLmlkIH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAkLmdyZXAodGhpcy5zZWxlY3RlZEdyb3VwQnlJdGVtcywgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuUmVwb3J0R3JvdXBCeUlkID09IHZhbHVlLmlkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCIsXCIgKyByZXN1bHQuVmFsdWVGaWVsZCArIFwiIGFzIEdyb3VwTGV2ZWxcIiArIGNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSBcIixcIiArIHJlc3VsdC5EZXNjcmlwdGlvbkZpZWxkICsgXCIgYXMgR3JvdXBOYW1lXCIgKyBjb3VudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNvdW50OyBpIDw9IDc7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiLDAgYXMgR3JvdXBMZXZlbFwiICsgaTtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIiwnJyBhcyBHcm91cE5hbWVcIiArIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGFkZEdyb3VwQnlJdGVtID0gKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEdyb3VwQnlJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAkKCcjcmVwb3J0R3JvdXBCeURpdiBvbCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnJlcG9ydFNldHVwLlJlcG9ydEdyb3VwQnkuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICAgICAgdGhpcy5yZXBvcnRTZXR1cC5SZXBvcnRHcm91cEJ5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSByZW1vdmVHcm91cEJ5SXRlbSA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVwb3J0U2V0dXAuUmVwb3J0R3JvdXBCeS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnNlbGVjdGVkR3JvdXBCeUl0ZW1zLmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHcm91cEJ5SXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgJCgnI3JlcG9ydEdyb3VwQnlEaXYgb2wnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGdldFNlbGVjdGVkT3JkZXJCeSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5zZWxlY3RlZE9yZGVyQnlPYmplY3Q7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhLCAodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICQuZ3JlcCh0aGlzLnNlbGVjdGVkT3JkZXJCeUl0ZW1zLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5SZXBvcnRPcmRlckJ5SWQgPT0gdmFsdWUuaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IHJlc3VsdC5GaWVsZE5hbWUgKyBcIiBcIiArIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChyZXN1bHQuRGlyZWN0aW9uKSB8fCByZXN1bHQuRGlyZWN0aW9uID09IGZhbHNlID8gXCJhc2NcIiA6IFwiZGVzY1wiKTtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIixcIjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHN0ciA9IHN0ci5zbGljZSgwLCAtMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhZGRPcmRlckJ5SXRlbSA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcmRlckJ5SXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgJCgnI3JlcG9ydE9yZGVyQnlEaXYgb2wnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5yZXBvcnRTZXR1cC5SZXBvcnRPcmRlckJ5LmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVwb3J0U2V0dXAuUmVwb3J0T3JkZXJCeS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgcmVtb3ZlT3JkZXJCeUl0ZW0gPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlcG9ydFNldHVwLlJlcG9ydE9yZGVyQnkucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5zZWxlY3RlZE9yZGVyQnlJdGVtcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3JkZXJCeUl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICQoJyNyZXBvcnRPcmRlckJ5RGl2IG9sJykudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdnZW5lcmFsUmVwb3J0Q29udHJvbGxlcicsIFsnJHNjZScsICckZmlsdGVyJywgJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAoJHNjZTogbmcuSVNDRVNlcnZpY2UsICRmaWx0ZXI6IG5nLklGaWx0ZXJGaWx0ZXIsIHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEdlbmVyYWxSZXBvcnRGb3JtKCRzY2UsICRmaWx0ZXIsIHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG59XHJcbiIsIi8vLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL2Zvcm1zL21vZHVsZS50c1wiIC8+XHJcbi8vbW9kdWxlIEhDTVMuRm9ybXMge1xyXG4vLyAgICBleHBvcnQgY2xhc3MgQ2hhcnQge1xyXG4vLyAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbi8vICAgICAgICBwcml2YXRlIGNoYXJ0RGF0YTogeyBsYWJlbHM6IEFycmF5PGFueT4sIHNlcmllc05hbWU6IEFycmF5PHN0cmluZz4sIGRhdGE6IGFueSwgY29sb3JzOiBBcnJheTxhbnk+IH0gPSB7IGxhYmVsczogbnVsbCwgc2VyaWVzTmFtZTogbnVsbCwgZGF0YTogbnVsbCwgY29sb3JzOiBudWxsIH07XHJcblxyXG4vLyAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbi8vICAgICAgICAgICAgdGhpcy5nZXRDaGFydCgxKTtcclxuLy8gICAgICAgIH1cclxuLy8gICAgICAgIHByaXZhdGUgZ2V0Q2hhcnQgPSAoY2hhcnRJZDogbnVtYmVyKSA9PiB7XHJcbi8vICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiQ2hhcnRcIiwgXCJHZXRDaGFydFwiLCBcIj9jaGFydElkPVwiICsgY2hhcnRJZCwgKHJlc3VsdCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YS5sYWJlbHMgPSByZXN1bHQuZGF0YS5MYWJlbHM7XHJcbi8vICAgICAgICAgICAgICAgIHRoaXMuY2hhcnREYXRhLnNlcmllc05hbWUgPSByZXN1bHQuZGF0YS5TZXJpZXNOYW1lO1xyXG4vLyAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YS5kYXRhID0gcmVzdWx0LmRhdGEuZGF0YTtcclxuLy8gICAgICAgICAgICAgICAgdGhpcy5jaGFydERhdGEuY29sb3JzID0gWycjNDViN2NkJywgJyNmZjYzODQnXTtcclxuICAgICAgICAgICAgICAgXHJcblxyXG4vLyAgICAgICAgICAgIH0sIG51bGwsIG51bGwpXHJcbi8vICAgICAgICB9XHJcblxyXG4vLyAgICB9XHJcbi8vICAgIGhjbXNGb3Jtcy5jb25maWcoZnVuY3Rpb24gKENoYXJ0SnNQcm92aWRlcikge1xyXG4vLyAgICAgICAgQ2hhcnRKc1Byb3ZpZGVyLnNldE9wdGlvbnMoeyBjb2xvcnM6IFsnIzgwMzY5MCcsICcjMDBBREY5JywgJyNEQ0RDREMnLCAnIzQ2QkZCRCcsICcjRkRCNDVDJywgJyM5NDlGQjEnLCAnIzRENTM2MCddIH0pO1xyXG4vLyAgICB9KS5jb250cm9sbGVyKCdjaGFydENvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4vLyAgICAgICAgcmV0dXJuIG5ldyBDaGFydCh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuLy8gICAgfV0pO1xyXG4vL30iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExvZ2luIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIC8vcHVibGljIHNlbGVjdGVkUHJvZmlsZTogU2VsZWN0ZWRQcm9maWxlO1xyXG4gICAgICAgIHByaXZhdGUgYWNjb3VudCA9IHtcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgICAgIGRhdGFiYXNlUHJvZmlsZUlkOiBudWxsLFxyXG4gICAgICAgICAgICBjb21wYW55SWQ6IG51bGwsXHJcbiAgICAgICAgICAgIGxhbmdJZDogbnVsbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBtZXNzYWdlOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhdGU6IGFueSwgcHJpdmF0ZSBhY2NvdW50U2VydmljZTogSENNUy5BdXRoZW50aWNhdGlvbi5BY2NvdW50U2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGNoYW5nZUxhbmd1YWdlID0gKGxhbmdJZCkgPT4ge1xyXG4gICAgICAgIC8vICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnTG9va3VwcycsICdHZXREZXRhaWxzJywgXCI/dGFibGU9U3lzdGVtTGFuZ3VhZ2VzJmlkPVwiICsgbGFuZ0lkLCBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgLy8gICAgICAgIHZhciBsYW5nID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgLy8gICAgICAgIHZhciBpbmZvOiBIQ01TLkRhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm87XHJcblxyXG4gICAgICAgIC8vICAgIH0sIG51bGwpO1xyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgbG9naW4gPSAodmFsaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHZhbGlkICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hY2NvdW50U2VydmljZS5sb2dpbih0aGlzLmFjY291bnQpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFuZ2VMYW5ndWFnZSh0aGlzLmFjY291bnQubGFuZ0lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZ28oXCJhcHAuaG9tZVwiKTtcclxuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvci5lcnJvcl9kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLCBbJyRzdGF0ZScsICdhY2NvdW50U2VydmljZScsIGZ1bmN0aW9uICgkc3RhdGUsIGFjY291bnRTZXJ2aWNlOiBIQ01TLkF1dGhlbnRpY2F0aW9uLkFjY291bnRTZXJ2aWNlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dpbigkc3RhdGUsIGFjY291bnRTZXJ2aWNlKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQ3JlYXRlZFRyYW5zQnlNb250aCB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2hhcnRPcHRpb25zOiBhbnk7XHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKFwiVG90YWwgVHJhbnNhY3Rpb25zXCIpXHJcbiAgICAgICAgICAgICAgICAsIGNvbEZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnV2VlaycpLCBmaWVsZE5hbWU6ICdUcmFuc1dlZWtOYW1lJyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLCB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlU2VydmljZS5UcmFuc2xhdGUoJ1ZhY2F0aW9ucycpLCBmaWVsZE5hbWU6ICdWYWNhdGlvbnMnIH1cclxuICAgICAgICAgICAgICAgICAgICAsIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnTWlzc2lvbnMnKSwgZmllbGROYW1lOiAnTWlzc2lvbnMnIH1cclxuICAgICAgICAgICAgICAgICAgICAsIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnUGVybWlzc2lvbnMnKSwgZmllbGROYW1lOiAnUGVybWlzc2lvbnMnIH1cclxuICAgICAgICAgICAgICAgICAgICAsIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnUGVuYWx0aWVzJyksIGZpZWxkTmFtZTogJ1BlbmFsdGllcycgfVxyXG4gICAgICAgICAgICAgICAgICAgICwgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKCdMb2FucycpLCBmaWVsZE5hbWU6ICdMb2FucycgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIHJvd0RhdGE6IFtdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2FsYXJ5RGF0YSgyMDE3LCAxMSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRTYWxhcnlEYXRhID0gYXN5bmMgKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZShcIkNyZWF0ZWRUcmFuc2FjdGlvbnNDaGFydFwiLCBcIkdldENyZWF0ZWRUcmFuc2FjdGlvbnNCeU1vbnRoXCIsIFwiP3llYXI9XCIgKyB5ZWFyICsgXCImbW9udGg9XCIgKyBtb250aCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcnRPcHRpb25zLnNldFJvd0RhdGEocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignY3JlYXRlZFRyYW5zQnlNb250aCcsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmVhdGVkVHJhbnNCeU1vbnRoKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFRvdGFsU2FsYXJ5Q2hhcnRCeVllYXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGNoYXJ0T3B0aW9uczogYW55O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNoYXJ0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKFwiVG90YWwgU2FsYXJ5XCIpXHJcbiAgICAgICAgICAgICAgICAsIGNvbEZpZWxkczogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnTW9udGgnKSwgZmllbGROYW1lOiAnUGF5cm9sbE1vbnRoTmFtZScgfVxyXG4gICAgICAgICAgICAgICAgICAgICwgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKCdFYXJuaW5nJyksIGZpZWxkTmFtZTogJ1RvdGFsRWFybmluZycgfVxyXG4gICAgICAgICAgICAgICAgICAgICwgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuVHJhbnNsYXRlKCdEZWR1Y3Rpb24nKSwgZmllbGROYW1lOiAnVG90YWxEZWR1Y3Rpb24nIH1cclxuICAgICAgICAgICAgICAgICAgICAsIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVTZXJ2aWNlLlRyYW5zbGF0ZSgnTmV0U2FsYXJ5JyksIGZpZWxkTmFtZTogJ05ldFNhbGFyeScgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIHJvd0RhdGE6IFtdXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0U2FsYXJ5RGF0YSgyMDE3KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFNhbGFyeURhdGEgPSBhc3luYyAoeWVhcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5HZXRQcm9taXNlKFwiU2FsYXJ5Q2hhcnRcIiwgXCJHZXRUb3RhbFNhbGFyeUJ5WWVhclwiLCBcIj95ZWFyPVwiICsgeWVhcik7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcnRPcHRpb25zLnNldFJvd0RhdGEocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigndG90YWxTYWxhcnlDaGFydEJ5WWVhcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBUb3RhbFNhbGFyeUNoYXJ0QnlZZWFyKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBIY21zSGlnaENoYXJ0IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGBcclxuICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIHdlbGxcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTZcIj5cclxuICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiaGlnaGNoYXJ0IHRhYmxlIHRhYmxlLWhvdmVyIHRhYmxlLWJvcmRlcmVkXCIgZGF0YS1oaWdoY2hhcnQtdGFibGUgZGF0YS1ncmFwaC1jb250YWluZXI9XCIuLiAuLiAuaGlnaGNoYXJ0LWNvbnRhaW5lcjMzXCIgZGF0YS1ncmFwaC10eXBlPVwiY29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgICA8Y2FwdGlvbj57ezo6aGNPcHRpb25zLnRpdGxlfX08L2NhcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctcmVwZWF0PVwiaGVhZGVyIGluIGhjT3B0aW9ucy5jb2xGaWVsZHNcIj57ezo6aGVhZGVyLmhlYWRlck5hbWV9fTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XHJcbiAgICAgICAgICAgICAgICA8dGJvZHk+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cIml0ZW0gaW4gaGNPcHRpb25zLnJvd0RhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIG5nLXJlcGVhdD1cImNvbCBpbiBoY09wdGlvbnMuY29sRmllbGRzXCI+e3s6Oml0ZW1bY29sLmZpZWxkTmFtZV19fTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS02XCI+XHJcbiAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGlnaGNoYXJ0LWNvbnRhaW5lcjMzXCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiA8L2Rpdj5cclxuYDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkge1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGxpbms6IG5nLklEaXJlY3RpdmVMaW5rRm4gPSAoc2NvcGU6IGFueSwgZWxlbWVudDogSlF1ZXJ5LCBhdHRyczogbmcuSUF0dHJpYnV0ZXMpID0+IHtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLnNldFJvd0RhdGEgPSAoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5oY09wdGlvbnMucm93RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9ICQoZWxlbWVudCkuZmluZCgndGFibGUnKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRhYmxlKS5oaWdoY2hhcnRUYWJsZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEhjbXNIaWdoQ2hhcnQoZGJNYW5hZ2VyLCAkdGltZW91dCk7XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZS4kaW5qZWN0ID0gW1wiZGF0YU1hbmFnZXJTZXJ2aWNlXCIsIFwiJHRpbWVvdXRcIl07XHJcbiAgICAgICAgICAgIHJldHVybiBkaXJlY3RpdmU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuZGlyZWN0aXZlKCdoY21zSGlnaENoYXJ0JywgSGNtc0hpZ2hDaGFydC5GYWN0b3J5KCkpO1xyXG59IiwiZGVjbGFyZSB2YXIgQ2hhcnQ6IGFueVxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgaW50ZXJmYWNlIElQaWVEYXRhIHtcclxuICAgICAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICAgICAgaGlnaGxpZ2h0OiBzdHJpbmc7XHJcbiAgICAgICAgbGFiZWw6IHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSGNtc1BpZUNoYXJ0IGltcGxlbWVudHMgbmcuSURpcmVjdGl2ZSB7XHJcblxyXG4gICAgICAgIHB1YmxpYyByZXN0cmljdCA9ICdFJztcclxuICAgICAgICBwdWJsaWMgc2NvcGU6IGFueSA9IHtcclxuICAgICAgICAgICAgaGNPcHRpb25zOiBcIj0/XCIsXHJcbiAgICAgICAgICAgIGhjRXZlbnRzOiBcIj0/XCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGBcclxuICAgICAgICAgICAgICAgPGNhbnZhcyBoZWlnaHQ9XCIxMjBcIiA+PC9jYW52YXM+XHJcbiAgICAgICAgICAgIGA7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSB0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsaW5rOiBuZy5JRGlyZWN0aXZlTGlua0ZuID0gKHNjb3BlOiBhbnksIGVsZW1lbnQ6IEpRdWVyeSwgYXR0cnM6IG5nLklBdHRyaWJ1dGVzKSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHBpZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIHNob3VsZCBzaG93IGEgc3Ryb2tlIG9uIGVhY2ggc2VnbWVudFxyXG4gICAgICAgICAgICAgICAgc2VnbWVudFNob3dTdHJva2U6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvL1N0cmluZyAtIFRoZSBjb2xvdXIgb2YgZWFjaCBzZWdtZW50IHN0cm9rZVxyXG4gICAgICAgICAgICAgICAgc2VnbWVudFN0cm9rZUNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gVGhlIHdpZHRoIG9mIGVhY2ggc2VnbWVudCBzdHJva2VcclxuICAgICAgICAgICAgICAgIHNlZ21lbnRTdHJva2VXaWR0aDogMixcclxuICAgICAgICAgICAgICAgIC8vTnVtYmVyIC0gQW1vdW50IG9mIGFuaW1hdGlvbiBzdGVwc1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uU3RlcHM6IDEwMCxcclxuICAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gdHlwZXMgb2YgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb25FYXNpbmc6IFwiZWFzZU91dEJvdW5jZVwiLFxyXG4gICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gV2hldGhlciB3ZSBhbmltYXRlIHRoZSByb3RhdGlvbiBvZiB0aGUgRG91Z2hudXRcclxuICAgICAgICAgICAgICAgIGFuaW1hdGVSb3RhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAvL0Jvb2xlYW4gLSBXaGV0aGVyIHdlIGFuaW1hdGUgc2NhbGluZyB0aGUgRG91Z2hudXQgZnJvbSB0aGUgY2VudHJlXHJcbiAgICAgICAgICAgICAgICBhbmltYXRlU2NhbGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgLy9Cb29sZWFuIC0gUmUtZHJhdyBjaGFydCBvbiBwYWdlIHJlc2l6ZVxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIC8vU3RyaW5nIC0gQSBsZWdlbmQgdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFRlbXBsYXRlOiBcIjx1bCBjbGFzcz1cXFwiPCU9bmFtZS50b0xvd2VyQ2FzZSgpJT4tbGVnZW5kXFxcIj48JSBmb3IgKHZhciBpPTA7IGk8c2VnbWVudHMubGVuZ3RoOyBpKyspeyU+PGxpPjxzcGFuIHN0eWxlPVxcXCJiYWNrZ3JvdW5kLWNvbG9yOjwlPXNlZ21lbnRzW2ldLmZpbGxDb2xvciU+XFxcIj48L3NwYW4+PCVpZihzZWdtZW50c1tpXS5sYWJlbCl7JT48JT1zZWdtZW50c1tpXS5sYWJlbCU+PCV9JT48L2xpPjwlfSU+PC91bD5cIlxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHBpZURhdGE6IElQaWVEYXRhW107XHJcblxyXG5cclxuICAgICAgICAgICAgc2NvcGUuaGNPcHRpb25zLnNldFJvd0RhdGEgPSAoZGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3B0ID0gc2NvcGUuaGNPcHRpb25zO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2YgZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZURhdGEucHVzaCh7IHZhbHVlOiBkYXRhW29wdC52YWx1ZUZpZWxkXSwgbGFiZWw6IGRhdGFbb3B0LmxhYmVsRmllbGRdLCBjb2xvcjogZ2V0UmFuZG9tQ29sb3IoKSwgaGlnaGxpZ2h0OiBnZXRSYW5kb21Db2xvcigpIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSAkKGVsZW1lbnQpLmZpbmQoJ2NhbnZhcycpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdHggPSAkKGNhbnZhcykuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBteU5ld0NoYXJ0ID0gbmV3IENoYXJ0KGN0eCkuUGllKHBpZURhdGEsIHBpZU9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBnZXRSYW5kb21Db2xvciA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBsZXR0ZXJzID0gJzAxMjM0NTY3ODlBQkNERUYnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gJyMnO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgc3RhdGljIEZhY3RvcnkoKTogbmcuSURpcmVjdGl2ZUZhY3Rvcnkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aXZlOiBuZy5JRGlyZWN0aXZlRmFjdG9yeSA9XHJcbiAgICAgICAgICAgICAgICAoZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSkgPT4gbmV3IEhjbXNQaWVDaGFydChkYk1hbmFnZXIsICR0aW1lb3V0KTtcclxuICAgICAgICAgICAgZGlyZWN0aXZlLiRpbmplY3QgPSBbXCJkYXRhTWFuYWdlclNlcnZpY2VcIiwgXCIkdGltZW91dFwiXTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5kaXJlY3RpdmUoJ2hjbXNQaWVDaGFydCcsIEhjbXNQaWVDaGFydC5GYWN0b3J5KCkpO1xyXG59XHJcbiIsImRlY2xhcmUgdmFyIENoYXJ0OiBhbnlcclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGludGVyZmFjZSBJUGllRGF0YSB7XHJcbiAgICAgICAgdmFsdWU6IG51bWJlcjtcclxuICAgICAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgICAgIGhpZ2hsaWdodDogc3RyaW5nO1xyXG4gICAgICAgIGxhYmVsOiBzdHJpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFRvdGFsU2FsYXJ5UGllQ2hhcnQgaW1wbGVtZW50cyBuZy5JRGlyZWN0aXZlIHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3RyaWN0ID0gJ0UnO1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55ID0ge1xyXG4gICAgICAgICAgICBoY09wdGlvbnM6IFwiPT9cIixcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB0ZW1wbGF0ZSA9IGBcclxuICAgICAgICAgICAgICAgIDxoY21zLXBpZS1jaGFydCBoYy1vcHRpb25zPT1cInBpZUNoYXJ0T3B0aW9uc1wiPiA8L2hjbXMtcGllLWNoYXJ0PlxyXG4gICAgICAgICAgICBgO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdGltZW91dDogbmcuSVRpbWVvdXRTZXJ2aWNlKSB7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbGluazogbmcuSURpcmVjdGl2ZUxpbmtGbiA9IChzY29wZTogYW55LCBlbGVtZW50OiBKUXVlcnksIGF0dHJzOiBuZy5JQXR0cmlidXRlcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgc2NvcGUucGllQ2hhcnRPcHRpb25zID0geyB2YWx1ZUZpZWxkOiBcIk5ldFNhbGFyeVwiLCBsYWJlbEZpZWxkOiBcIlBheXJvbGxNb250aE5hbWVcIiB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcGllRGF0YTogSVBpZURhdGFbXTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgZ2V0U2FsYXJ5RGF0YSA9IGFzeW5jICh5ZWFyOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5HZXRQcm9taXNlKFwiU2FsYXJ5Q2hhcnRcIiwgXCJHZXRUb3RhbFNhbGFyeUJ5WWVhclwiLCBcIj95ZWFyPVwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICBzY29wZS5waWVDaGFydE9wdGlvbnMuc2V0Um93RGF0YShyZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLmhjT3B0aW9ucy5zZXRZZWFyID0gKHllYXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2V0U2FsYXJ5RGF0YSh5ZWFyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHN0YXRpYyBGYWN0b3J5KCk6IG5nLklEaXJlY3RpdmVGYWN0b3J5IHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZTogbmcuSURpcmVjdGl2ZUZhY3RvcnkgPVxyXG4gICAgICAgICAgICAgICAgKGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpID0+IG5ldyBUb3RhbFNhbGFyeVBpZUNoYXJ0KGRiTWFuYWdlciwgJHRpbWVvdXQpO1xyXG4gICAgICAgICAgICBkaXJlY3RpdmUuJGluamVjdCA9IFtcImRhdGFNYW5hZ2VyU2VydmljZVwiLCBcIiR0aW1lb3V0XCJdO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmRpcmVjdGl2ZSgndG90YWxTYWxhcnlQaWVDaGFydCcsIFRvdGFsU2FsYXJ5UGllQ2hhcnQuRmFjdG9yeSgpKTtcclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2Vmb3JtbWFuYWdlci50c1wiIC8+XHJcbmludGVyZmFjZSBKUXVlcnkge1xyXG4gICAgdGFiKGtleSk6IHZvaWQ7XHJcbn1cclxuXHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEFsbFByb2ZpbGVzIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy8gc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGZvcm1JZDogbnVtYmVyO1xyXG4gICAgICAgIC8vcHJpdmF0ZSBhcGlDb250cm9sbGVyOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIC8vcHVibGljIHNlbGVjdGVkUHJvZmlsZTogU2VsZWN0ZWRQcm9maWxlO1xyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRIZWFkZXJWaWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkVkaXRWaWV3KCk7XHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSBzY29wZTogYW55LCBwcml2YXRlIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHNlbGVjdGVkUHJvZmlsZVNlcnZpY2U7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zZWxlY3RlZEhlYWRlclZpZXcuVmlld0lkID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEhlYWRlclZpZXcgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXc7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMubG9hZERhdGEoKTtcclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhID0gbmV3IEJhc2VGb3JtRGF0YSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGZvcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLkZvcm1EYXRhLmRhdGFMaXN0O1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRpbmcuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHByb2ZpbGVUeXBlSWQ9MSBtZWFucyBFbXBsb3llZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZVR5cGVJZCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uVXBkYXRpbmcuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHByb2ZpbGVUeXBlSWQ9MSBtZWFucyBFbXBsb3llZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZVR5cGVJZCA9IDE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5Qcm9maWxlSWQgPSByZXN1bHQuZGF0YS5SZXN1bHRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5RWRpdFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uVXBkYXRlZC5hZGRIYW5kbGVyKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSGVhZGVyVmlldyA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0VmlldztcclxuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5HZXRJZFZhbHVlKGl0ZW0sIHRoaXMuc2VsZWN0ZWRIZWFkZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhSXRlbShpZCwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgXCJHZXREZWZhdWx0QXNzaWdubWVudEJ5UHJvZmlsZUlkXCIsIGA/Zm9ybUlkPSR7dGhpcy5mb3JtSWR9JnByb2ZpbGVJRD0ke3RoaXMuZGF0YUl0ZW0uUHJvZmlsZUlkfWAsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZCA9IChyZXN1bHQuZGF0YSAhPSBudWxsID8gcmVzdWx0LmRhdGEuRW1wQXNzaWdubWVudElkIDogMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5RWRpdFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZFByb2ZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2N1cnJlbnRPYmplY3QuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRGdWxsTmFtZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoXCJcIilcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5Qcm9maWxlTmFtZV8gPSBIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbFJlcGxhY2UodGhpcy5kYXRhSXRlbS5Qcm9maWxlRmlyc3ROYW1lXywgJycpICsgJyAnICsgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGxSZXBsYWNlKHRoaXMuZGF0YUl0ZW0uUHJvZmlsZVNlY29uZE5hbWVfLCAnJykgKyAnICcgKyBIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbFJlcGxhY2UodGhpcy5kYXRhSXRlbS5Qcm9maWxlVGhpcmROYW1lXywgJycpICsgJyAnICsgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGxSZXBsYWNlKHRoaXMuZGF0YUl0ZW0uUHJvZmlsZUZvdXJ0aE5hbWVfLCAnJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZU5hbWUgPSBIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbFJlcGxhY2UodGhpcy5kYXRhSXRlbS5Qcm9maWxlRmlyc3ROYW1lLCAnJykgKyAnICcgKyBIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbFJlcGxhY2UodGhpcy5kYXRhSXRlbS5Qcm9maWxlU2Vjb25kTmFtZSwgJycpICsgJyAnICsgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGxSZXBsYWNlKHRoaXMuZGF0YUl0ZW0uUHJvZmlsZVRoaXJkTmFtZSwgJycpICsgJyAnICsgSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGxSZXBsYWNlKHRoaXMuZGF0YUl0ZW0uUHJvZmlsZUZvdXJ0aE5hbWUsICcnKTtcclxuICAgICAgICAgICAgLy90aGlzLmRhdGFJdGVtLlByb2ZpbGVOYW1lID0gdGhpcy5kYXRhSXRlbS5Qcm9maWxlRmlyc3ROYW1lICsgJyAnICsgdGhpcy5kYXRhSXRlbS5Qcm9maWxlU2Vjb25kTmFtZSArICcgJyArIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZVRoaXJkTmFtZSArICcgJyArIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZUZvdXJ0aE5hbWU7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT0gXCJydGxcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZU5hbWVfO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZU5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGROZXdDbGlja2VkKCkge1xyXG4gICAgICAgICAgICAvL3ZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgLy8kc2NvcGUuYWN0aXZlID0gMTsgLy9zZXQgdGhlIGluZGV4IG9mIHRoZSBwcm9maWxlIHRhYlxyXG4gICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkUHJvZmlsZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2FsbFByb2ZpbGVzTmV3Q29udHJvbGxlcicsIEFsbFByb2ZpbGVzKTtcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignYWxsUHJvZmlsZXNOZXdDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHRpbWVvdXQnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbGxQcm9maWxlcyh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHRpbWVvdXQsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59IiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFByb2ZpbGVQaG90b0NvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvLyBzdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnVXBsb2FkJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBwaWNGaWxlOiBhbnk7XHJcbiAgICAgICAgcHVibGljIGVycm9yTXNnOiBzdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSBVcGxvYWQ6IGFueSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VTdWJGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLkdldERhdGFCeVBhcmVudENhbGxCYWNrID0gdGhpcy5HZXRCeVBhcmVudENhbGxCYWNrO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRJdGVtID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIC8vdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2ZpbGVJZCA9IHRoaXMucGFyZW50SXRlbVt0aGlzLnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb2ZpbGVJZCkpIHByb2ZpbGVJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvL3ZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJnByb2ZpbGVJZD0nICsgcHJvZmlsZUlkO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlQcm9maWxlSWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vICAgIGlmIChyZXNwb25zZS5kYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgICAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY3VycmVudE9iamVjdC5kYXRhSXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vfSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5nZXRDb21tb25QYXJhbXMoKSArICcmaWQ9JyArIHByb2ZpbGVJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCgnRW1wUGhvdG9zJywgJ0dldERldGFpbHMnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbXBsb3llZVBob3RvKHRoaXMuZGF0YUl0ZW0uUGhvdG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNldEVtcGxveWVlUGhvdG8obnVsbCk7XHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9lbXBQaG90by5zZWxlY3RlZFByb2ZpbGUgPSBwcm9maWxlU2VydmljZS5nZXRTZWxlY3RlZFByb2ZpbGUoKTtcclxuICAgICAgICAvL3ZhciBjdXJyZW50VXNlciA9IGxvZ2luSW5mby5nZXRDdXJyZW50VXNlcigpO1xyXG4gICAgICAgIHByaXZhdGUgc2V0RW1wbG95ZWVQaG90byA9IChwaG90bzogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwaG90byA9PT0gbnVsbCB8fCBwaG90byA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY0ZpbGUgPSBcIi9zdHlsZXMvaW1nL25vUHJvZmlsZS5wbmdcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGljRmlsZSA9IFwiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCxcIiArIHBob3RvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgY2xlYXJQaG90byA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waWNGaWxlID0gXCIvc3R5bGVzL2ltZy9ub1Byb2ZpbGUucG5nXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaXNDbGVhcmVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waWNGaWxlID09IFwiL3N0eWxlcy9pbWcvbm9Qcm9maWxlLnBuZ1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGlzTmV3UHJvZmlsZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50SXRlbSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvZmlsZUlkID0gdGhpcy5wYXJlbnRJdGVtW3RoaXMucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2ZpbGVJZCA9PSBudWxsIHx8IHByb2ZpbGVJZCA9PSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0Q29tbW9uUGFyYW1zID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gJz91c2VySWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLlVzZXIuVXNlcklkICsgJyZsYW5nSWQ9JyArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0UGhvdG8gPSAoaWQpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5nZXRDb21tb25QYXJhbXMoKSArICcmaWQ9JyArIGlkO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ0VtcFBob3RvcycsICdHZXREZXRhaWxzJywgcXVlcnlTdHJpbmcsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RW1wbG95ZWVQaG90byh0aGlzLmRhdGFJdGVtLlBob3RvKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnNldEVtcGxveWVlUGhvdG8obnVsbCk7XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAgICByZXR1cm4gcHJvZmlsZVNlcnZpY2UuZ2V0U2VsZWN0ZWRQcm9maWxlKCk7XHJcbiAgICAgICAgLy99LFxyXG4gICAgICAgIC8vICAgIGZ1bmN0aW9uIChuZXdWYWwsIG9sZFZhbCkge1xyXG4gICAgICAgIC8vICAgICAgICB2YXIgcHJvZmlsZUlkID0gMDtcclxuICAgICAgICAvLyAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld1ZhbCkgJiYgbmV3VmFsICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBlbXBQaG90by5zZWxlY3RlZFByb2ZpbGUgPSBuZXdWYWw7XHJcbiAgICAgICAgLy8gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQobmV3VmFsLlByb2ZpbGVJZCkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICBwcm9maWxlSWQgPSBuZXdWYWwuUHJvZmlsZUlkO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb2ZpbGVJZCkpIHByb2ZpbGVJZCA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgIGVtcFBob3RvLmdldFBob3RvKHByb2ZpbGVJZCk7XHJcbiAgICAgICAgLy8gICAgfSwgdHJ1ZSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHVwbG9hZFBpYyA9IChmaWxlKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBwcm9maWxlSWQgPSB0aGlzLnBhcmVudEl0ZW1bdGhpcy5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBEYXRhQWNjZXNzLlN0YXJ0VXAuYXBpVXJsICsgXCIvRW1wUGhvdG9zL1Bvc3RQaG90b1wiO1xyXG4gICAgICAgICAgICB0aGlzLlVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7IFBob3RvOiBmaWxlLCBQcm9maWxlSWQ6IHByb2ZpbGVJZCwgVXNlcklkOiBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Vc2VyLlVzZXJJZCB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3ApID0+IHtcclxuICAgICAgICAgICAgICAgIGZpbGUucmVzdWx0ID0gcmVzcC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnU3VjY2VzcyAnICsgcmVzcC5jb25maWcuZGF0YS5maWxlLm5hbWUgKyAndXBsb2FkZWQuIFJlc3BvbnNlOiAnICsgcmVzcC5kYXRhKTtcclxuICAgICAgICAgICAgfSwgKHJlc3ApID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9IHJlc3Auc3RhdHVzICsgJzogJyArIHJlc3AuZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ0Vycm9yIHN0YXR1czogJyArIHJlc3Auc3RhdHVzKTtcclxuICAgICAgICAgICAgfSwgKGV2dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZmlsZS5wcm9ncmVzcyA9IE1hdGgubWluKDEwMCwgcGFyc2VJbnQoKDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkudG9TdHJpbmcoKSkpO1xyXG4gICAgICAgICAgICAgICAgLy92YXIgcHJvZ3Jlc3NQZXJjZW50YWdlID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3Byb2dyZXNzOiAnICsgcHJvZ3Jlc3NQZXJjZW50YWdlICsgJyUgJyArIGV2dC5jb25maWcuZGF0YS5maWxlLm5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVQaG90b0NvbnRyb2xsZXInLCBQcm9maWxlUGhvdG9Db250cm9sbGVyKTtcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigncHJvZmlsZVBob3RvQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnVXBsb2FkJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCBVcGxvYWQsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9maWxlUGhvdG9Db250cm9sbGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgVXBsb2FkLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcbiIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgUGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgICAgICAgcHVibGljIEZvcm1TZXR1cDogQmFzZUZvcm1TZXR1cDtcclxuICAgICAgICBwdWJsaWMgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFyZW50SXRlbTogYW55O1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogbmcuSVNjb3BlO1xyXG4gICAgICAgIHB1YmxpYyBzdGFja1RhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IG5nLklTY29wZSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICAvL3NldCBsb2dpbiBJbmZvXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRJZEZpZWxkTmFtZSA9IHNjb3BlLnBhcmVudElkRmllbGROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0gPSBzY29wZS5wYXJlbnRJdGVtO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIC8vaWYgKGN1cnJlbnRJbmZvID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gICAgY3VycmVudEluZm8gPSBuZXcgRGF0YUFjY2Vzcy5DdXJyZW50TG9naW5JbmZvKGRiTWFuYWdlcik7XHJcbiAgICAgICAgICAgIC8vICAgIHZhciBjdXJyZW50VXNlciA9IGFuZ3VsYXIuZnJvbUpzb24oc2Vzc2lvblN0b3JhZ2VbJ3VzZXInXSk7XHJcbiAgICAgICAgICAgIC8vICAgIGN1cnJlbnRJbmZvLlNldExvZ2luSW5mbyh7IFVzZXJJZDogY3VycmVudFVzZXIudXNlcklkLCBMYW5nSWQ6IGN1cnJlbnRVc2VyLmxhbmdJZCwgRGF0YWJhc2VQcm9maWxlSWQ6IGN1cnJlbnRVc2VyLmRhdGFiYXNlUHJvZmlsZUlkLCBDb21wYW55SWQ6IGN1cnJlbnRVc2VyLmNvbXBhbnlJZCB9KTtcclxuICAgICAgICAgICAgLy8gICAgRGF0YUFjY2Vzcy5TdGFydFVwLlNldEN1cnJlbnRMb2dpbkluZm8oY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwID0gbmV3IEJhc2VGb3JtU2V0dXAodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBjdXJyZW50SW5mby5Vc2VyLlVzZXJJZCwgc2NvcGUuZm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMuc2NvcGUucGFyZW50SXRlbSxcclxuICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFja1RhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3BlcnNvbmFsRGF0YVRhYnNDb250cm9sbGVyJywgUGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXIpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwZXJzb25hbERhdGFUYWJzQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzb25hbERhdGFUYWJzQ29udHJvbGxlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcblxyXG59XHJcblxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZmlsZVBlcnNvbmFsRGF0YUNvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIHN0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VTdWJGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RWRpdFZpZXcoKTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBwcm9maWxlSWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwcm9maWxlSWQpKSBwcm9maWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmcHJvZmlsZUlkPScgKyBwcm9maWxlSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlQcm9maWxlSWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAvL3RoaXMuT25VcGRhdGluZy5hZGRIYW5kbGVyKChlPzogQ2FuY2VsRXZlbnRBcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgIHRoaXMuRm9ybURhdGEuZGF0YUl0ZW0gPSB0aGlzLmRhdGFJdGVtO1xyXG4gICAgICAgICAgICAvL30pXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL2hjbXNGb3Jtcy5jb250cm9sbGVyKCdwcm9maWxlUGVyc29uYWxEYXRhQ29udHJvbGxlcicsIFByb2ZpbGVQZXJzb25hbERhdGFDb250cm9sbGVyKTtcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigncHJvZmlsZVBlcnNvbmFsRGF0YUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvZmlsZVBlcnNvbmFsRGF0YUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcbiIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgUHJvZmlsZVN1YkZvcm1Db250cm9sbGVyIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2ZpbGVJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb2ZpbGVJZCkpIHByb2ZpbGVJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZwcm9maWxlSWQ9JyArIHByb2ZpbGVJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVByb2ZpbGVJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVTdWJGb3JtQ29udHJvbGxlcicsIFByb2ZpbGVTdWJGb3JtQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVTdWJGb3JtQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9maWxlU3ViRm9ybUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvL21vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbi8vICAgIGV4cG9ydCBjbGFzcyBTZWxlY3RlZFByb2ZpbGUge1xyXG5cclxuLy8gICAgICAgIHByaXZhdGUgX2N1cnJlbnRQcm9maWxlOiBhbnkgPSBudWxsO1xyXG5cclxuLy8gICAgICAgIC8vY29uc3RydWN0b3IocHJvZmlsZT86IGFueSkge1xyXG5cclxuLy8gICAgICAgIC8vICAgIHRoaXMuX2N1cnJlbnRQcm9maWxlID0gcHJvZmlsZTtcclxuLy8gICAgICAgIC8vfVxyXG5cclxuLy8gICAgICAgIHB1YmxpYyBTZXRDdXJyZW50UHJvZmlsZShwcm9maWxlOiBhbnkpIHtcclxuLy8gICAgICAgICAgICB0aGlzLl9jdXJyZW50UHJvZmlsZSA9IHByb2ZpbGU7XHJcbi8vICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgcHVibGljIGdldCBDdXJyZW50UHJvZmlsZSgpOiBhbnkge1xyXG4vLyAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50UHJvZmlsZTtcclxuLy8gICAgICAgIH1cclxuXHJcblxyXG4vLyAgICB9XHJcblxyXG4vLyAgICBoY21zRm9ybXMuc2VydmljZShcInNlbGVjdGVkUHJvZmlsZVNlcnZpY2VcIiwgU2VsZWN0ZWRQcm9maWxlKTtcclxuXHJcbi8vfSIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBTeXN0ZW1Qcm9ncmVzc0JhciB7XHJcblxyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0QnlQcm9ncmVzc0lkID0gKHByb2dyZXNzSWQ6IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UoXCJTeXN0ZW1Qcm9ncmVzc1wiLCBcIkdldEJ5UHJvZ3Jlc3NUeXBlSWRcIiwgXCI/cHJvZ3Jlc3NUeXBlSWQ9XCIgKyBwcm9ncmVzc0lkKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59IiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBlbnVtIFByb2dyZXNzVHlwZXMge1xyXG4gICAgICAgIExvYW4gPSAxLFxyXG4gICAgICAgIENhbGNTYWxhcnkgPSAyLFxyXG4gICAgICAgIENhbGNTYWxhcnlUcmFuc2FjdGlvbiA9IDMsXHJcbiAgICAgICAgSW1wb3J0QXR0ZW5kYW5jZSA9IDQsXHJcbiAgICAgICAgQ2xvc2VEYXlBdHRlbmRhbmNlID0gNVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBTeXN0ZW1Qcm9ncmVzc1R5cGUge1xyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldEJ5ID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZShcIkF0dGVuZGFuY2VEYXlUeXBlc1wiLCBcIkdldEFsbFwiLCBxdWVzcnlTdHJpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59IiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5pbnRlcmZhY2UgSlF1ZXJ5IHtcclxuICAgIHRhYihrZXkpOiB2b2lkO1xyXG59XHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQWxsQXBwbGljYW50cyBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vIHN0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBmb3JtSWQ6IG51bWJlcjtcclxuICAgICAgICAvL3ByaXZhdGUgYXBpQ29udHJvbGxlcjogc3RyaW5nO1xyXG5cclxuICAgICAgICAvL3B1YmxpYyBzZWxlY3RlZEFwcGxpY2FudDogc2VsZWN0ZWRBcHBsaWNhbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLnNlbGVjdGVkQXBwbGljYW50ID0gc2VsZWN0ZWRBcHBsaWNhbnRTZXJ2aWNlO1xyXG4gICAgICAgICAgICAvL3RoaXMuc2VsZWN0ZWRIZWFkZXJWaWV3LlZpZXdJZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRIZWFkZXJWaWV3ID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3O1xyXG4gICAgICAgICAgICAvLyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLmxvYWREYXRhKCk7XHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4VmlldztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkxvYWQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy92YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRIZWFkZXJWaWV3ID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3O1xyXG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLkdldElkVmFsdWUoaXRlbSwgdGhpcy5zZWxlY3RlZEhlYWRlclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKGlkLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlFZGl0VmlldygpO1xyXG4gICAgICAgICAgICAgICAgLy9TZWxlY3RlZCBBcHBsaWNhbnQgbm90IHByb2ZpbGUgbGlrZSBodG1sIGZpbGVcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkQXBwbGljYW50Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jdXJyZW50T2JqZWN0LkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAgICAgLy8kKCcubmF2LXRhYnMgYScpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICAvLyQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICAgICAgLy8kKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykuc2hvdygpO1xyXG4gICAgICAgICAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGROZXdDbGlja2VkKCkge1xyXG4gICAgICAgICAgICAvL3ZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgLy8kc2NvcGUuYWN0aXZlID0gMTsgLy9zZXQgdGhlIGluZGV4IG9mIHRoZSBwcm9maWxlIHRhYlxyXG4gICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAvL1NlbGVjdGVkIEFwcGxpY2FudCBub3QgcHJvZmlsZSBsaWtlIGh0bWwgZmlsZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRBcHBsaWNhbnQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAvL3B1YmxpYyBzYXZlSXRlbSh2YWxpZDogYm9vbGVhbikge1xyXG4gICAgICAgIC8vICAgIHJldHVybjtcclxuICAgICAgICAvLyAgICAvL2lmICh0aGlzLmRpc3BsYXlDcmVhdGVOZXdUZW1wbGF0ZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vICAgIC8vICAgIHRoaXMuRm9ybURhdGEuQWRkRGF0YSh2YWxpZCwgKCkgPT4ge1xyXG5cclxuICAgICAgICAvLyAgICAvLyAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgIC8vICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgLy8gICAgLy8gICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAvLyAgICAvLyAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vICAgIC8vICAgIH0pO1xyXG5cclxuICAgICAgICAvLyAgICAvL31cclxuICAgICAgICAvLyAgICAvL2Vsc2Uge1xyXG4gICAgICAgIC8vICAgIC8vICAgIHZhciBpZCA9IHRoaXMuR2V0SWRWYWx1ZSh0aGlzLmRhdGFJdGVtKTtcclxuICAgICAgICAvLyAgICAvLyAgICB0aGlzLkZvcm1EYXRhLlVwZGF0ZURhdGEodmFsaWQsIGlkLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgLy8gICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAvLyAgICAvLyAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgIC8vICAgIC8vICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAvLyAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gICAgLy99XHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgLy9wdWJsaWMgY2FuY2VsQ2xpY2tlZCgpIHtcclxuICAgICAgICAvLyAgICByZXR1cm47XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdBbGxBcHBsaWNhbnRzTmV3Q29udHJvbGxlcicsIEFsbEFwcGxpY2FudHMpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhbGxBcHBsaWNhbnRzTmV3Q29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbGxBcHBsaWNhbnRzKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufSIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBBcHBsaWNhbnRQZXJzb25hbERhdGFDb250cm9sbGVyIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBzdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlU3ViRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5HZXREYXRhQnlQYXJlbnRDYWxsQmFjayA9IHRoaXMuR2V0QnlQYXJlbnRDYWxsQmFjaztcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpczsgIFxyXG4gICAgICAgICAgICAgICAgdmFyIHByb2ZpbGVJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHByb2ZpbGVJZCkpIHByb2ZpbGVJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZwcm9maWxlSWQ9JyArIHByb2ZpbGVJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVByb2ZpbGVJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVQZXJzb25hbERhdGFDb250cm9sbGVyJywgUHJvZmlsZVBlcnNvbmFsRGF0YUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhcHBsaWNhbnRQZXJzb25hbERhdGFDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFwcGxpY2FudFBlcnNvbmFsRGF0YUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcbiIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQXBwbGljYW50UGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgICAgICAgcHVibGljIEZvcm1TZXR1cDogQmFzZUZvcm1TZXR1cDtcclxuICAgICAgICBwdWJsaWMgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFyZW50SXRlbTogYW55O1xyXG4gICAgICAgIHB1YmxpYyBzY29wZTogYW55O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICAvL3NldCBsb2dpbiBJbmZvXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnRJZEZpZWxkTmFtZSA9IHNjb3BlLnBhcmVudElkRmllbGROYW1lO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0gPSBzY29wZS5wYXJlbnRJdGVtO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmZvOiBEYXRhQWNjZXNzLklDdXJyZW50TG9naW5JbmZvID0gRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm87XHJcbiAgICAgICAgICAgIC8vaWYgKGN1cnJlbnRJbmZvID09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gICAgY3VycmVudEluZm8gPSBuZXcgRGF0YUFjY2Vzcy5DdXJyZW50TG9naW5JbmZvKGRiTWFuYWdlcik7XHJcbiAgICAgICAgICAgIC8vICAgIHZhciBjdXJyZW50VXNlciA9IGFuZ3VsYXIuZnJvbUpzb24oc2Vzc2lvblN0b3JhZ2VbJ3VzZXInXSk7XHJcbiAgICAgICAgICAgIC8vICAgIGN1cnJlbnRJbmZvLlNldExvZ2luSW5mbyh7IFVzZXJJZDogY3VycmVudFVzZXIudXNlcklkLCBMYW5nSWQ6IGN1cnJlbnRVc2VyLmxhbmdJZCwgRGF0YWJhc2VQcm9maWxlSWQ6IGN1cnJlbnRVc2VyLmRhdGFiYXNlUHJvZmlsZUlkLCBDb21wYW55SWQ6IGN1cnJlbnRVc2VyLmNvbXBhbnlJZCB9KTtcclxuICAgICAgICAgICAgLy8gICAgRGF0YUFjY2Vzcy5TdGFydFVwLlNldEN1cnJlbnRMb2dpbkluZm8oY3VycmVudEluZm8pO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwID0gbmV3IEJhc2VGb3JtU2V0dXAodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBjdXJyZW50SW5mby5Vc2VyLlVzZXJJZCwgc2NvcGUuZm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGUuJHdhdGNoKCgpID0+IHRoaXMuc2NvcGUucGFyZW50SXRlbSxcclxuICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3BlcnNvbmFsRGF0YVRhYnNDb250cm9sbGVyJywgUGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXIpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhcHBsaWNhbnRQZXJzb25hbERhdGFUYWJzQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBsaWNhbnRQZXJzb25hbERhdGFUYWJzQ29udHJvbGxlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcblxyXG59XHJcblxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgQXBwbGljYW50UGhvdG9Db250cm9sbGVyIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy8gc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJ1VwbG9hZCcsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgcGljRmlsZTogYW55O1xyXG4gICAgICAgIHB1YmxpYyBlcnJvck1zZzogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgVXBsb2FkOiBhbnksIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlU3ViRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5HZXREYXRhQnlQYXJlbnRDYWxsQmFjayA9IHRoaXMuR2V0QnlQYXJlbnRDYWxsQmFjaztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50SXRlbSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAvL3ZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBwcm9maWxlSWQgPSB0aGlzLnBhcmVudEl0ZW1bdGhpcy5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwcm9maWxlSWQpKSBwcm9maWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy92YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZwcm9maWxlSWQ9JyArIHByb2ZpbGVJZDtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5UHJvZmlsZUlkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAvLyAgICBpZiAocmVzcG9uc2UuZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY3VycmVudE9iamVjdC5kYXRhSXRlbSA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuICAgICAgICAgICAgICAgIC8vICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL30sIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHRoaXMuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmlkPScgKyBwcm9maWxlSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoJ0FwcGxpY2FudFBob3RvcycsICdHZXREZXRhaWxzJywgcXVlcnlTdHJpbmcsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RW1wbG95ZWVQaG90byh0aGlzLmRhdGFJdGVtLlBob3RvKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5zZXRFbXBsb3llZVBob3RvKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vZW1wUGhvdG8uc2VsZWN0ZWRQcm9maWxlID0gcHJvZmlsZVNlcnZpY2UuZ2V0U2VsZWN0ZWRQcm9maWxlKCk7XHJcbiAgICAgICAgLy92YXIgY3VycmVudFVzZXIgPSBsb2dpbkluZm8uZ2V0Q3VycmVudFVzZXIoKTtcclxuICAgICAgICBwcml2YXRlIHNldEVtcGxveWVlUGhvdG8gPSAocGhvdG86IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGhvdG8gPT09IG51bGwgfHwgcGhvdG8gPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waWNGaWxlID0gXCIvc3R5bGVzL2ltZy9ub1Byb2ZpbGUucG5nXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBpY0ZpbGUgPSBcImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsXCIgKyBwaG90bztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGNsZWFyUGhvdG8gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGljRmlsZSA9IFwiL3N0eWxlcy9pbWcvbm9Qcm9maWxlLnBuZ1wiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGlzQ2xlYXJlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGljRmlsZSA9PSBcIi9zdHlsZXMvaW1nL25vUHJvZmlsZS5wbmdcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc05ld1Byb2ZpbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudEl0ZW0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2ZpbGVJZCA9IHRoaXMucGFyZW50SXRlbVt0aGlzLnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9maWxlSWQgPT0gbnVsbCB8fCBwcm9maWxlSWQgPT0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldENvbW1vblBhcmFtcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICc/dXNlcklkPScgKyBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Vc2VyLlVzZXJJZCArICcmbGFuZ0lkPScgKyBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFBob3RvID0gKGlkKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHRoaXMuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmlkPScgKyBpZDtcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KCdBcHBsaWNhbnRQaG90b3MnLCAnR2V0RGV0YWlscycsIHF1ZXJ5U3RyaW5nLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVtcGxveWVlUGhvdG8odGhpcy5kYXRhSXRlbS5QaG90byk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgdGhpcy5zZXRFbXBsb3llZVBob3RvKG51bGwpO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL3Njb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gICAgcmV0dXJuIHByb2ZpbGVTZXJ2aWNlLmdldFNlbGVjdGVkUHJvZmlsZSgpO1xyXG4gICAgICAgIC8vfSxcclxuICAgICAgICAvLyAgICBmdW5jdGlvbiAobmV3VmFsLCBvbGRWYWwpIHtcclxuICAgICAgICAvLyAgICAgICAgdmFyIHByb2ZpbGVJZCA9IDA7XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChuZXdWYWwpICYmIG5ld1ZhbCAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgZW1wUGhvdG8uc2VsZWN0ZWRQcm9maWxlID0gbmV3VmFsO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG5ld1ZhbC5Qcm9maWxlSWQpKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgcHJvZmlsZUlkID0gbmV3VmFsLlByb2ZpbGVJZDtcclxuICAgICAgICAvLyAgICAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwcm9maWxlSWQpKSBwcm9maWxlSWQgPSAwO1xyXG4gICAgICAgIC8vICAgICAgICBlbXBQaG90by5nZXRQaG90byhwcm9maWxlSWQpO1xyXG4gICAgICAgIC8vICAgIH0sIHRydWUpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyB1cGxvYWRQaWMgPSAoZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgcHJvZmlsZUlkID0gdGhpcy5wYXJlbnRJdGVtW3RoaXMucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gRGF0YUFjY2Vzcy5TdGFydFVwLmFwaVVybCArIFwiL0FwcGxpY2FudFBob3Rvcy9Qb3N0UGhvdG9cIjtcclxuICAgICAgICAgICAgdGhpcy5VcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogeyBQaG90bzogZmlsZSwgUHJvZmlsZUlkOiBwcm9maWxlSWQsIFVzZXJJZDogRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uVXNlci5Vc2VySWQgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXNwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmaWxlLnJlc3VsdCA9IHJlc3AuZGF0YTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1N1Y2Nlc3MgJyArIHJlc3AuY29uZmlnLmRhdGEuZmlsZS5uYW1lICsgJ3VwbG9hZGVkLiBSZXNwb25zZTogJyArIHJlc3AuZGF0YSk7XHJcbiAgICAgICAgICAgIH0sIChyZXNwKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSByZXNwLnN0YXR1cyArICc6ICcgKyByZXNwLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdFcnJvciBzdGF0dXM6ICcgKyByZXNwLnN0YXR1cyk7XHJcbiAgICAgICAgICAgIH0sIChldnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGZpbGUucHJvZ3Jlc3MgPSBNYXRoLm1pbigxMDAsIHBhcnNlSW50KCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpLnRvU3RyaW5nKCkpKTtcclxuICAgICAgICAgICAgICAgIC8vdmFyIHByb2dyZXNzUGVyY2VudGFnZSA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwcm9ncmVzczogJyArIHByb2dyZXNzUGVyY2VudGFnZSArICclICcgKyBldnQuY29uZmlnLmRhdGEuZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwcm9maWxlUGhvdG9Db250cm9sbGVyJywgUHJvZmlsZVBob3RvQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2FwcGxpY2FudFBob3RvQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnVXBsb2FkJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCBVcGxvYWQsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBsaWNhbnRQaG90b0NvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCBVcGxvYWQsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBBcHBsaWNhbnRTdWJGb3JtQ29udHJvbGxlciBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBwcm9maWxlSWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwcm9maWxlSWQpKSBwcm9maWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmcHJvZmlsZUlkPScgKyBwcm9maWxlSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlQcm9maWxlSWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgIC8vIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwcm9maWxlU3ViRm9ybUNvbnRyb2xsZXInLCBQcm9maWxlU3ViRm9ybUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhcHBsaWNhbnRTdWJGb3JtQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcHBsaWNhbnRTdWJGb3JtQ29udHJvbGxlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VEYXlUeXBlcyB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG4gXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBnZXRBbGwgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5HZXRQcm9taXNlKFwiQXR0ZW5kYW5jZURheVR5cGVzXCIsIFwiR2V0QWxsXCIsIHF1ZXNyeVN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFZGl0QXR0ZW5kYW5jZUhvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkQXR0ZW5kYW5jZVByb2ZpbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZWRpdEF0dGVuZGFuY2VIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFZGl0QXR0ZW5kYW5jZUhvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFZGl0QXR0ZW5kYW5jZVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGhlYWRlciA9IHtcclxuICAgICAgICAgICAgZnJvbURhdGU6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyBEYXRhVHlwZU5hbWU6ICdkYXRlJywgQ29udHJvbFR5cGVOYW1lOiAnZGF0ZScgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b0RhdGU6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyBEYXRhVHlwZU5hbWU6ICdkYXRlJywgQ29udHJvbFR5cGVOYW1lOiAnZGF0ZScgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuIFxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICAgICAgICAgIC8vIEdldERhdGFCeVBhcmVudElkXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdyaWQuZ3JpZE9wdGlvbnNbJ29uR3JpZFJlYWR5J10gPSAocGFyYW1zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMuYXBpLnNpemVDb2x1bW5zVG9GaXQoKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuR3JpZFNldHVwLk9uQ29sdW1uT3B0aW9uc0xvYWRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW1wVGltZVNldHRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNhdmVNb2RpZmllZERhdGEgPSAodmFsaWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkVtcEF0dGVuZGFuY2VUcmFuc2FjdGlvbnNcIiwgXCJTYXZlRGF0YUVkaXRcIiwgXCJcIiwgdGhpcy5kYXRhTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQuQWxlcnQoXCJTYXZlZCBTdWNjZXNzZnVsbHlcIik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QWxlcnQuRXJyb3IoZXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUF0dGVuZGFuY2VUcmFuc0RhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuICAgICAgICAgICAgbGV0IGZyb21EYXRlID0gdGhpcy5oZWFkZXIuZnJvbURhdGUudmFsdWU7XHJcbiAgICAgICAgICAgIGxldCB0b0RhdGUgPSB0aGlzLmhlYWRlci50b0RhdGUudmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkgfHwgIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZSh0b0RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBlbXBBc3NpZ25tZW50SWQgPSB0aGlzLnBhcmVudEl0ZW1bJ0VtcEFzc2lnbm1lbnRJZCddO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVtcEFzc2lnbm1lbnRJZCA9PT0gdW5kZWZpbmVkIHx8IGVtcEFzc2lnbm1lbnRJZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmcm9tRGF0ZSA9IGZyb21EYXRlLnRvVVRDU3RyaW5nKCk7IC8vIEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZShmcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgIHRvRGF0ZSA9IHRvRGF0ZS50b1VUQ1N0cmluZygpOyAvLyBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50b0RhdGUodG9EYXRlKTtcclxuICAgICAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gYD9lbXBBc3NpZ25tZW50SWQ9JHtlbXBBc3NpZ25tZW50SWR9JmZyb21EYXRlPSR7ZnJvbURhdGV9JnRvRGF0ZT0ke3RvRGF0ZX1gO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5HZXRQcm9taXNlKFwiRW1wQXR0ZW5kYW5jZVRyYW5zYWN0aW9uc1wiLCBcIkdldERhdGFGb3JFZGl0XCIsIHF1ZXJ5U3RyaW5nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNldEVtcFRpbWVTZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbkZpZWxkcyA9IHRoaXMuZ3JpZC5ncmlkQ29sdW1uRGVmcy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8uZmllbGQgPT09IFwiRW1wVGltZUluXCIgfSk7XHJcbiAgICAgICAgICAgIGlmIChpbkZpZWxkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpdGVtIG9mIGluRmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZVNldHRlciA9IHRoaXMuaW5WYWx1ZVNldHRlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IG91dEZpZWxkcyA9IHRoaXMuZ3JpZC5ncmlkQ29sdW1uRGVmcy5maWx0ZXIoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8uZmllbGQgPT09IFwiRW1wVGltZU91dFwiIH0pO1xyXG4gICAgICAgICAgICBpZiAob3V0RmllbGRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gb2Ygb3V0RmllbGRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZVNldHRlciA9IHRoaXMub3V0VmFsdWVTZXR0ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpblZhbHVlU2V0dGVyID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBwYXJhbXMubmV3VmFsdWU7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpcy5nZXRGb3JtYXR0ZWRUaW1lKG5ld1ZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcGFyYW1zLmRhdGE7XHJcbiAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGRhdGEuRW1wVGltZUluO1xyXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBvbGRWYWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLklzTW9kaWZpZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5FbXBUaW1lSW4gPSBuZXdWYWx1ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvdXRWYWx1ZVNldHRlciA9IChwYXJhbXMpID0+IHtcclxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gcGFyYW1zLm5ld1ZhbHVlO1xyXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IHRoaXMuZ2V0Rm9ybWF0dGVkVGltZShuZXdWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHBhcmFtcy5kYXRhO1xyXG4gICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBkYXRhLkVtcFRpbWVPdXQ7XHJcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IG9sZFZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGEuSXNNb2RpZmllZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkYXRhLkVtcFRpbWVPdXQgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRGb3JtYXR0ZWRUaW1lID0gKHRpbWUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aW1lICE9PSBudWxsICYmIHRpbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBzcGxpdFN0ciA9IHRpbWUuc3BsaXQoXCI6XCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGg6IHN0cmluZyA9ICcwMCc7XHJcbiAgICAgICAgICAgICAgICBsZXQgbTogc3RyaW5nID0gJzAwJztcclxuICAgICAgICAgICAgICAgIGxldCBzOiBzdHJpbmcgPSAnMDAnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0U3RyLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBoID0gc3BsaXRTdHJbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaCA9IEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMucGFkKGgsIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0U3RyLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBtID0gc3BsaXRTdHJbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbSA9IEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMucGFkKG0sIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHNwbGl0U3RyLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gc3BsaXRTdHJbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgcyA9IEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMucGFkKHMsIDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGltZSA9IGAke2h9OiR7bX06JHtzfWA7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VkaXRBdHRlbmRhbmNlVHJhbkNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgRWRpdEF0dGVuZGFuY2VUcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VDYWxjdWxhdGlvblBlcmlvZCB7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGNvbnRyb2xsZXJOYW1lID0gXCJBdHRlbmRhbmNlQ2FsY3VsYXRpb25QZXJpb2RcIjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG4gXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldENhbGN1bGF0aW9uUGVyaW9kQnlNb250aCA9IChjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2FsY3VsYXRpb25QZXJpb2RJZCA9PT0gbnVsbCB8fCB5ZWFyID09PSBudWxsIHx8IG1vbnRoID09PSBudWxsKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0meWVhcj0ke3llYXJ9Jm1vbnRoPSR7bW9udGh9YDtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UodGhpcy5jb250cm9sbGVyTmFtZSwgXCJHZXRDYWxjdWxhdGlvblBlcmlvZEJ5TW9udGhcIiwgcXVlc3J5U3RyaW5nKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgIFxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VNb250aGx5Q2FsY3VsYXRpb24ge1xyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjb250cm9sbGVyTmFtZSA9IFwiQXR0ZW5kYW5jZU1vbnRobHlEZWR1Y3Rpb25cIjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgY2FsY3VsYXRlTW9udGhseUF0dGVuZGFuY2UgPSAoYXR0ZW5kYW5jZVllYXI6IG51bWJlciwgYXR0ZW5kYW5jZU1vbnRoOiBudW1iZXIsIGNhbGN1bGF0aW9uUGVyaW9kSWQ6IG51bWJlciwgZW1wQXNzaWdubWVudElkczogQXJyYXk8bnVtYmVyPikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZSh0aGlzLmNvbnRyb2xsZXJOYW1lLCBcIkNhbGN1bGF0ZU1vbnRobHlBdHRlbmRhbmNlXCIsIHF1ZXNyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VEYWlseUF0dGVuZGFuY2Uge1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGF0dGVuZGFuY2VHcmlkOiB7IGdyaWRPcHRpb25zOiBhbnksIGdyaWRDb2x1bW5EZWZzOiBhbnkgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGF0dEdyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wbG95ZWVDb2RlXCIpLCBmaWVsZDogXCJFbXBsb3llZUNvZGVcIiwgaGVhZGVyQ2hlY2tib3hTZWxlY3Rpb246IHRydWUsIGNoZWNrYm94U2VsZWN0aW9uOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQcm9maWxlTmFtZVwiKSwgZmllbGQ6IFwiUHJvZmlsZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUnVsZVR5cGVOYW1lXCIpLCBmaWVsZDogXCJSdWxlVHlwZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uRGF0ZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uRGF0ZVwiLCB0ZW1wbGF0ZTogXCI8cD57e2RhdGEuRGVkdWN0aW9uRGF0ZSB8IGRhdGU6J2RkL01NL3l5eXknfX08L3A+XCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkF0dGVuZGFuY2VUeXBlTmFtZVwiKSwgZmllbGQ6IFwiQXR0ZW5kYW5jZVR5cGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblZhbHVlXCIpLCBmaWVsZDogXCJEZWR1Y3Rpb25WYWx1ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQb3N0ZWRWYWx1ZVwiKSwgZmllbGQ6IFwiUG9zdGVkVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiIH1cclxuICAgICAgICAgICAgXTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmF0dGVuZGFuY2VHcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246ICdtdWx0aXBsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NSb3dDbGlja1NlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBhdHRHcmlkQ29sdW1uRGVmcyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc1Jvd1NlbGVjdGFibGU6IGZ1bmN0aW9uIChyb3dOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHJvd05vZGUuZGF0YSA/IHJvd05vZGUuZGF0YS5EZWR1Y3Rpb25TdGF0dXNJZCAhPT0gNCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJvd1N0eWxlOiBIQ01TLkZvcm1zLkltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS5nZXRQb3N0ZWRTdHlsZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lmIChwYXJhbXMubm9kZS5yb3dJbmRleCAlIDIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICByZXR1cm4geyBiYWNrZ3JvdW5kOiAncmVkJyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy99XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL29uR3JpZFJlYWR5OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgdGhpcy5zZWxlY3RQb3N0ZWRSb3dzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5EZWZzOiBhdHRHcmlkQ29sdW1uRGVmcyxcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RQb3N0ZWRSb3dzID0gKCkgPT4ge1xyXG4gICAgICAgIC8vICAgIHRoaXMuYXR0ZW5kYW5jZUdyaWQuZ3JpZE9wdGlvbnMuYXBpLmZvckVhY2hOb2RlKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChub2RlLmRhdGEuRGVkdWN0aW9uU3RhdHVzSWQgPT09IDQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgIG5vZGUuc2V0U2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgICB9KTtcclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgcHVibGljIGdldERhaWx5QXR0ZW5kYW5jZURhdGEgPSAoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IGA/ZnJvbURhdGU9JHtmcm9tRGF0ZX0mdG9EYXRlPSR7dG9EYXRlfWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlRGFpbHlEZWR1Y3Rpb25cIiwgXCJHZXREYWlseUF0dGVuZGFuY2VcIiwgcXVlc3J5U3RyaW5nLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgcG9zdERhaWx5QXR0ZW5kYW5jZURhdGEgPSAoZGFpbHlEZWR1Y3Rpb25JZHMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVzcnlTdHJpbmcgPSAnJztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VEYWlseURlZHVjdGlvblwiLCBcIlBvc3REYWlseUF0dGVuZGFuY2VcIiwgcXVlc3J5U3RyaW5nLCBkYWlseURlZHVjdGlvbklkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdW5Qb3N0RGFpbHlBdHRlbmRhbmNlRGF0YSA9IChkYWlseURlZHVjdGlvbklkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZURhaWx5RGVkdWN0aW9uXCIsIFwiVW5Qb3N0RGFpbHlBdHRlbmRhbmNlXCIsIHF1ZXNyeVN0cmluZywgZGFpbHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBBdHRlbmRhbmNlRGFpbHlDbG9zZURheSB7XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXR0ZW5kYW5jZURheVR5cGVzOiBBdHRlbmRhbmNlRGF5VHlwZXM7XHJcbiAgICAgICAgcHVibGljIGRheVR5cGVzOiBBcnJheTxhbnk+ID0gW107XHJcblxyXG4gICAgICAgIHB1YmxpYyBjbG9zZURheUdyaWQ6IHsgZ3JpZE9wdGlvbnM6IGFueSwgZ3JpZENvbHVtbkRlZnM6IGFueSB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkYXRUeXBlSWQgPSAtMTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW5kYW5jZURheVR5cGVzID0gbmV3IEF0dGVuZGFuY2VEYXlUeXBlcyhkYk1hbmFnZXIsIHRyYW5zbGF0b3IpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNsb3NlRGF5R3JpZENvbHVtbkRlZnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJFbXBsb3llZUNvZGVcIiksIGZpZWxkOiBcIkVtcGxveWVlQ29kZVwiLCBoZWFkZXJDaGVja2JveFNlbGVjdGlvbjogdHJ1ZSwgY2hlY2tib3hTZWxlY3Rpb246IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlByb2ZpbGVOYW1lXCIpLCBmaWVsZDogXCJQcm9maWxlTmFtZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJBdHRlbmRhbmNlRGF0ZVwiKSwgZmllbGQ6IFwiQXR0ZW5kYW5jZURhdGVcIiwgdGVtcGxhdGU6IFwiPHA+e3tkYXRhLkF0dGVuZGFuY2VEYXRlIHwgZGF0ZTonZGQvTU0veXl5eSd9fTwvcD5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiQ2FsZW5kYXJEYXlUeXBlTmFtZVwiKSwgZmllbGQ6IFwiQ2FsZW5kYXJEYXlUeXBlTmFtZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJBdHRlbmRhbmNlRGF5VHlwZUlkXCIpLCBmaWVsZDogXCJBdHRlbmRhbmNlRGF5VHlwZUlkXCIsIGhpZGRlbjogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiQXR0ZW5kYW5jZURheVR5cGVOYW1lXCIpLCBmaWVsZDogXCJBdHRlbmRhbmNlRGF5VHlwZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiQ2FsZW5kYXJOYW1lXCIpLCBmaWVsZDogXCJDYWxlbmRhck5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiTG9jYXRpb25OYW1lXCIpLCBmaWVsZDogXCJMb2NhdGlvbk5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiV29ya2luZ01pbnV0ZXNcIiksIGZpZWxkOiBcIldvcmtpbmdNaW51dGVzXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIk92ZXJUaW1lXCIpLCBmaWVsZDogXCJPdmVyVGltZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJNb3JuaW5nT3ZlclRpbWVcIiksIGZpZWxkOiBcIk1vcm5pbmdPdmVyVGltZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJFdmVuaW5nT3ZlclRpbWVcIiksIGZpZWxkOiBcIkV2ZW5pbmdPdmVyVGltZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJMYXRlVGltZVwiKSwgZmllbGQ6IFwiTGF0ZVRpbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRWFybHlMZWF2ZVRpbWVcIiksIGZpZWxkOiBcIkVhcmx5TGVhdmVUaW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlN0YXR1c05hbWVcIiksIGZpZWxkOiBcIlN0YXR1c05hbWVcIiB9LFxyXG5cclxuICAgICAgICAgICAgXTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNsb3NlRGF5R3JpZCA9IHtcclxuICAgICAgICAgICAgICAgIGdyaWRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uOiAnbXVsdGlwbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzUm93Q2xpY2tTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogY2xvc2VEYXlHcmlkQ29sdW1uRGVmcyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZVJvd3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlRmlsdGVyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzRXh0ZXJuYWxGaWx0ZXJQcmVzZW50OiB0aGlzLmlzRXh0ZXJuYWxGaWx0ZXJQcmVzZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGRvZXNFeHRlcm5hbEZpbHRlclBhc3M6IHRoaXMuZG9lc0V4dGVybmFsRmlsdGVyUGFzc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5EZWZzOiBjbG9zZURheUdyaWRDb2x1bW5EZWZzLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hcHBseUF0dGVuZGFuY2VEYXlUeXBlc0NvbG9yKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgaXNFeHRlcm5hbEZpbHRlclByZXNlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGlmIGRhdFR5cGVJZCBpcyBub3QgMCwgdGhlbiB3ZSBhcmUgZmlsdGVyaW5nXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdFR5cGVJZCAhPSAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZG9lc0V4dGVybmFsRmlsdGVyUGFzcyA9IChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLmRhdGEuQXR0ZW5kYW5jZURheVR5cGVJZCA9PSB0aGlzLmRhdFR5cGVJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGF5VHlwZUZpbHRlckNoYW5nZWQgPSAobmV3VmFsdWUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRUeXBlSWQgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZURheUdyaWQuZ3JpZE9wdGlvbnMuYXBpLm9uRmlsdGVyQ2hhbmdlZCgpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGFwcGx5QXR0ZW5kYW5jZURheVR5cGVzQ29sb3IgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmF0dGVuZGFuY2VEYXlUeXBlcy5nZXRBbGwoKTtcclxuICAgICAgICAgICAgdGhpcy5kYXlUeXBlcyA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlRGF5R3JpZC5ncmlkT3B0aW9ucy5nZXRSb3dTdHlsZSA9IChwYXJhbXMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGJhY2tncm91bmQ6IHRoaXMuZ2V0RGF5VHlwZUJhY2tDb2xvcihyZXN1bHQuZGF0YSwgcGFyYW1zLmRhdGEuQXR0ZW5kYW5jZURheVR5cGVJZCkgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZXREYXlUeXBlQmFja0NvbG9yID0gKGRheVR5cGVMaXN0LCBhdHRlbmRhbmNlRGF5VHlwZUlkKSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF5VHlwZUxpc3QubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXlUeXBlTGlzdFtpXSAhPT0gdW5kZWZpbmVkICYmIGRheVR5cGVMaXN0W2ldLkF0dGVuZGFuY2VEYXlUeXBlSWQgPT09IGF0dGVuZGFuY2VEYXlUeXBlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF5VHlwZUxpc3RbaV0uQXR0ZW5kYW5jZURheVR5cGVDb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0Q2xvc2VEYXlEYXRhID0gKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9IGA/ZnJvbURhdGU9JHtmcm9tRGF0ZX0mdG9EYXRlPSR7dG9EYXRlfWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlQ2FsY1wiLCBcIkdldENsb3NlRGF5RGF0YVwiLCBxdWVyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIENhbGNDbG9zZURheSA9IChmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSBgP2Zyb21EYXRlPSR7ZnJvbURhdGV9JnRvRGF0ZT0ke3RvRGF0ZX1gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZUNhbGNcIiwgXCJDbG9zZURheUF0dGVuZGFuY2VcIiwgcXVlcnlTdHJpbmcsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VEYWlseUltcG9ydERheSB7XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgaW1wb3J0RGF5R3JpZDogeyBncmlkT3B0aW9uczogYW55LCBncmlkQ29sdW1uRGVmczogYW55IH1cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBpbXBvcnREYXlHcmlkQ29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkVtcGxveWVlQ29kZVwiKSwgZmllbGQ6IFwiRW1wbG95ZWVDb2RlXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlByb2ZpbGVOYW1lXCIpLCBmaWVsZDogXCJQcm9maWxlTmFtZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJUcmFuc2FjdGlvbkRhdGVcIiksIGZpZWxkOiBcIlRyYW5zYWN0aW9uRGF0ZVwiLCB0ZW1wbGF0ZTogXCI8cD57e2RhdGEuVHJhbnNhY3Rpb25EYXRlIHwgZGF0ZTonZGQvTU0veXl5eSd9fTwvcD5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wVGltZUluXCIpLCBmaWVsZDogXCJFbXBUaW1lSW5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wVGltZU91dFwiKSwgZmllbGQ6IFwiRW1wVGltZU91dFwiIH1cclxuICAgICAgICAgICAgXTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmltcG9ydERheUdyaWQgPSB7XHJcbiAgICAgICAgICAgICAgICBncmlkT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RhdGE6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd1NlbGVjdGlvbjogJ211bHRpcGxlJyxcclxuICAgICAgICAgICAgICAgICAgICBzdXBwcmVzc1Jvd0NsaWNrU2VsZWN0aW9uOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbkRlZnM6IGltcG9ydERheUdyaWRDb2x1bW5EZWZzLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBnZXRSb3dTdHlsZTogKHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLmRhdGEgJiYgcGFyYW1zLmRhdGEuSXNNb2RpZmllZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgYmFja2dyb3VuZDogXCJzaWx2ZXJcIiB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkRlZnM6IGltcG9ydERheUdyaWRDb2x1bW5EZWZzLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGdldEltcG9ydERheURhdGEgPSAoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gYD9mcm9tRGF0ZT0ke2Zyb21EYXRlfSZ0b0RhdGU9JHt0b0RhdGV9YDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VDYWxjXCIsIFwiR2V0SW1wb3J0RGF0YVwiLCBxdWVyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIENhbGNJbXBvcnREYXkgPSAoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXJ5U3RyaW5nID0gYD9mcm9tRGF0ZT0ke2Zyb21EYXRlfSZ0b0RhdGU9JHt0b0RhdGV9YDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VDYWxjXCIsIFwiSW1wb3J0QXR0ZW5kYW5jZVwiLCBxdWVyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VEYWlseVBlbmFsdGllcyB7XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgcGVuYWx0eUdyaWQ6IHsgZ3JpZE9wdGlvbnM6IGFueSwgZ3JpZENvbHVtbkRlZnM6IGFueSB9XHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgcGVuYWx0eUdyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wbG95ZWVDb2RlXCIpLCBmaWVsZDogXCJFbXBsb3llZUNvZGVcIiwgaGVhZGVyQ2hlY2tib3hTZWxlY3Rpb246IHRydWUsIGNoZWNrYm94U2VsZWN0aW9uOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQcm9maWxlTmFtZVwiKSwgZmllbGQ6IFwiUHJvZmlsZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUnVsZVR5cGVOYW1lXCIpLCBmaWVsZDogXCJSdWxlVHlwZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uRGF0ZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uRGF0ZVwiLCB0ZW1wbGF0ZTogXCI8cD57e2RhdGEuRGVkdWN0aW9uRGF0ZSB8IGRhdGU6J2RkL01NL3l5eXknfX08L3A+XCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlBlbmFsdHlOYW1lXCIpLCBmaWVsZDogXCJQZW5hbHR5TmFtZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJEZWR1Y3Rpb25WYWx1ZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUG9zdGVkVmFsdWVcIiksIGZpZWxkOiBcIlBvc3RlZFZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblN0YXR1c05hbWVcIiksIGZpZWxkOiBcIkRlZHVjdGlvblN0YXR1c05hbWVcIiB9XHJcblxyXG4gICAgICAgICAgICBdO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBlbmFsdHlHcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246ICdtdWx0aXBsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NSb3dDbGlja1NlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBwZW5hbHR5R3JpZENvbHVtbkRlZnMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc1Jvd1NlbGVjdGFibGU6IGZ1bmN0aW9uIChyb3dOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHJvd05vZGUuZGF0YSA/IHJvd05vZGUuZGF0YS5EZWR1Y3Rpb25TdGF0dXNJZCAhPT0gNCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgICAgICAgICBnZXRSb3dTdHlsZTogSENNUy5Gb3Jtcy5JbXBvcnRDbG9zZURheUF0dGVuZGFuY2UuZ2V0UG9zdGVkU3R5bGVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uRGVmczogcGVuYWx0eUdyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0RGFpbHlQZW5hbHR5RGF0YSA9IChmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9mcm9tRGF0ZT0ke2Zyb21EYXRlfSZ0b0RhdGU9JHt0b0RhdGV9YDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VEYWlseURlZHVjdGlvblwiLCBcIkdldERhaWx5UGVuYWx0aWVzXCIsIHF1ZXNyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgcG9zdERhaWx5UGVuYWx0eURhdGEgPSAoZGFpbHlEZWR1Y3Rpb25JZHMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVzcnlTdHJpbmcgPSAnJztcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VEYWlseURlZHVjdGlvblwiLCBcIlBvc3REYWlseVBlbmFsdGllc1wiLCBxdWVzcnlTdHJpbmcsIGRhaWx5RGVkdWN0aW9uSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB1blBvc3REYWlseVBlbmFsdHlEYXRhID0gKGRhaWx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlRGFpbHlEZWR1Y3Rpb25cIiwgXCJVblBvc3REYWlseVBlbmFsdGllc1wiLCBxdWVzcnlTdHJpbmcsIGRhaWx5RGVkdWN0aW9uSWRzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXR0ZW5kYW5jZURhaWx5VmFjYXRpb25zIHtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyB2YWNhdGlvbkdyaWQ6IHsgZ3JpZE9wdGlvbnM6IGFueSwgZ3JpZENvbHVtbkRlZnM6IGFueSB9XHJcbiAgICAgICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBwcml2YXRlIHRyYW5zbGF0b3I6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSkge1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgdmFjYXRpb25HcmlkQ29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkVtcGxveWVlQ29kZVwiKSwgZmllbGQ6IFwiRW1wbG95ZWVDb2RlXCIsIGhlYWRlckNoZWNrYm94U2VsZWN0aW9uOiB0cnVlLCBjaGVja2JveFNlbGVjdGlvbjogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUHJvZmlsZU5hbWVcIiksIGZpZWxkOiBcIlByb2ZpbGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlJ1bGVUeXBlTmFtZVwiKSwgZmllbGQ6IFwiUnVsZVR5cGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvbkRhdGVcIiksIGZpZWxkOiBcIkRlZHVjdGlvbkRhdGVcIiwgdGVtcGxhdGU6IFwiPHA+e3tkYXRhLkRlZHVjdGlvbkRhdGUgfCBkYXRlOidkZC9NTS95eXl5J319PC9wPlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJCYWxhbmNlQ2F0ZWdvcnlOYW1lXCIpLCBmaWVsZDogXCJCYWxhbmNlQ2F0ZWdvcnlOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblZhbHVlXCIpLCBmaWVsZDogXCJEZWR1Y3Rpb25WYWx1ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQb3N0ZWRWYWx1ZVwiKSwgZmllbGQ6IFwiUG9zdGVkVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiIH1cclxuXHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25HcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246ICdtdWx0aXBsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NSb3dDbGlja1NlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiB2YWNhdGlvbkdyaWRDb2x1bW5EZWZzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaXNSb3dTZWxlY3RhYmxlOiBmdW5jdGlvbiAocm93Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiByb3dOb2RlLmRhdGEgPyByb3dOb2RlLmRhdGEuRGVkdWN0aW9uU3RhdHVzSWQgIT09IDQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvL30sIFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJvd1N0eWxlOiBIQ01TLkZvcm1zLkltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS5nZXRQb3N0ZWRTdHlsZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5EZWZzOiB2YWNhdGlvbkdyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0RGFpbHlWYWNhdGlvbkRhdGEgPSAoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IGA/ZnJvbURhdGU9JHtmcm9tRGF0ZX0mdG9EYXRlPSR7dG9EYXRlfWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlRGFpbHlEZWR1Y3Rpb25cIiwgXCJHZXREYWlseVZhY2F0aW9uc1wiLCBxdWVzcnlTdHJpbmcsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHBvc3REYWlseVZhY2F0aW9uRGF0YSA9IChkYWlseURlZHVjdGlvbklkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZURhaWx5RGVkdWN0aW9uXCIsIFwiUG9zdERhaWx5VmFjYXRpb25zXCIsIHF1ZXNyeVN0cmluZywgZGFpbHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHVuUG9zdERhaWx5VmFjYXRpb25EYXRhID0gKGRhaWx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlRGFpbHlEZWR1Y3Rpb25cIiwgXCJVblBvc3REYWlseVZhY2F0aW9uc1wiLCBxdWVzcnlTdHJpbmcsIGRhaWx5RGVkdWN0aW9uSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG5cclxuICAgIGludGVyZmFjZSBJRHJvcERvd25FdmVudCB7XHJcbiAgICAgICAgZGVmYXVsdEFjdGlvbj86IGFueVxyXG4gICAgICAgIHNlbGVjdGVkSXRlbUNoYW5nZWQ/OiBhbnlcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBJbXBvcnRDbG9zZURheUF0dGVuZGFuY2UgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICBwdWJsaWMgc3RhdGljIGdldFBvc3RlZFN0eWxlID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGFyYW1zLmRhdGEgJiYgcGFyYW1zLmRhdGEuRGVkdWN0aW9uU3RhdHVzSWQgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGJhY2tncm91bmQ6IFwic2lsdmVyXCIsICdib3JkZXItYm90dG9tJzogXCIwLjJweCBzb2xpZCBzaWx2ZXJcIiB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLCAnYm9yZGVyLWJvdHRvbSc6IFwiMC4ycHggc29saWQgc2lsdmVyXCIgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHByb2dyZXNzQ2FsY09wdGlvbnM6IGFueVxyXG4gICAgICAgIHByaXZhdGUgcnVuU3RhdHVzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzdG9wU3RhdHVzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBzaG93UHJvZ3Jlc3NTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlEYXRhU3RhdHVzOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgaW1wb3J0R3JpZDogYW55ID0geyBncmlkT3B0aW9uczoge30sIGdyaWRDb2x1bW5EZWZzOiBbXSB9O1xyXG4gICAgICAgIC8vcHJpdmF0ZSBjbG9zZUdyaWQ6IGFueSA9IHsgZ3JpZE9wdGlvbnM6IHt9LCBncmlkQ29sdW1uRGVmczogW10gfTtcclxuICAgICAgICBwcml2YXRlIGltcG9ydERhdGE6IEFycmF5PGFueT4gPSBbXTtcclxuICAgICAgICBwcml2YXRlIGNsb3NlRGF0YTogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgaGVhZGVyVmlld1NldHVwOiBNb2RlbHMuU3lzdGVtRm9ybVZpZXc7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9ncmVzc0lkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NUeXBlSWQ6IG51bWJlciA9IDQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGFpbHlJbXBvcnREYXk6IEF0dGVuZGFuY2VEYWlseUltcG9ydERheTtcclxuICAgICAgICBwcml2YXRlIGRhaWx5Q2xvc2VEYXk6IEF0dGVuZGFuY2VEYWlseUNsb3NlRGF5O1xyXG4gICAgICAgIHByaXZhdGUgZGFpbHlBdHRlbmRhbmNlOiBBdHRlbmRhbmNlRGFpbHlBdHRlbmRhbmNlO1xyXG4gICAgICAgIHByaXZhdGUgZGFpbHlQZW5hbHRpZXM6IEF0dGVuZGFuY2VEYWlseVBlbmFsdGllcztcclxuICAgICAgICBwcml2YXRlIGRhaWx5VmFjYXRpb25zOiBBdHRlbmRhbmNlRGFpbHlWYWNhdGlvbnM7XHJcblxyXG4gICAgICAgIHByaXZhdGUgbW9udGhseUF0dGVuZGFuY2U6IEF0dGVuZGFuY2VNb250aGx5QXR0ZW5kYW5jZTtcclxuICAgICAgICBwcml2YXRlIG1vbnRobHlQZW5hbHRpZXM6IEF0dGVuZGFuY2VNb250aGx5UGVuYWx0aWVzO1xyXG4gICAgICAgIHByaXZhdGUgbW9udGhseVZhY2F0aW9uczogQXR0ZW5kYW5jZU1vbnRobHlWYWNhdGlvbnM7XHJcbiAgICAgICAgcHJpdmF0ZSBtb250aGx5U2FsYXJ5OiBBdHRlbmRhbmNlTW9udGhseVNhbGFyeTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBhdHRlbmRhbmNlTW9udGhseUNhbGN1bGF0aW9uOiBBdHRlbmRhbmNlTW9udGhseUNhbGN1bGF0aW9uO1xyXG4gICAgICAgIHByaXZhdGUgYXR0ZW5kYW5jZUNhbGN1bGF0aW9uUGVyaW9kOiBBdHRlbmRhbmNlQ2FsY3VsYXRpb25QZXJpb2Q7XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBhdHRlbmRhbmNlRGF5VHlwZXM6IEF0dGVuZGFuY2VEYXlUeXBlcztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkYWlseURhdGE6IHsgYXR0ZW5kYW5jZURhdGFMaXN0OiBhbnksIHBlbmFsdHlEYXRhTGlzdDogYW55LCB2YWNhdGlvbkRhdGFMaXN0OiBhbnksIGltcG9ydERheURhdGFMaXN0OiBhbnksIGNsb3NlRGF5RGF0YUxpc3Q6IGFueSB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIG1vbnRobHlEYXRhOiB7IGF0dGVuZGFuY2VEYXRhTGlzdDogYW55LCBwZW5hbHR5RGF0YUxpc3Q6IGFueSwgdmFjYXRpb25EYXRhTGlzdDogYW55LCBzYWxhcnlEYXRhTGlzdDogYW55IH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2FsY3VsYXRpb25QZXJpb2RDaGFuZ2VFdmVudDogSURyb3BEb3duRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSB5ZWFyQ2hhbmdlRXZlbnQ6IElEcm9wRG93bkV2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgbW9udGhDaGFuZ2VFdmVudDogSURyb3BEb3duRXZlbnQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgdXNlSW1wb3J0OiBib29sZWFuO1xyXG4gICAgICAgIHByaXZhdGUgdXNlQ2xvc2VEYXk6IGJvb2xlYW47XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgZGF5VHlwZXM6IEFycmF5PGFueT4gPSBbXTtcclxuICAgICAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYWlseUltcG9ydERheSA9IG5ldyBBdHRlbmRhbmNlRGFpbHlJbXBvcnREYXkoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5kYWlseUNsb3NlRGF5ID0gbmV3IEF0dGVuZGFuY2VEYWlseUNsb3NlRGF5KGRiTWFuYWdlciwgdHJhbnNsYXRlU2VydmljZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGFpbHlBdHRlbmRhbmNlID0gbmV3IEF0dGVuZGFuY2VEYWlseUF0dGVuZGFuY2UoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5kYWlseVBlbmFsdGllcyA9IG5ldyBBdHRlbmRhbmNlRGFpbHlQZW5hbHRpZXMoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5kYWlseVZhY2F0aW9ucyA9IG5ldyBBdHRlbmRhbmNlRGFpbHlWYWNhdGlvbnMoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLm1vbnRobHlBdHRlbmRhbmNlID0gbmV3IEF0dGVuZGFuY2VNb250aGx5QXR0ZW5kYW5jZShkYk1hbmFnZXIsIHRyYW5zbGF0ZVNlcnZpY2UpO1xyXG4gICAgICAgICAgICB0aGlzLm1vbnRobHlQZW5hbHRpZXMgPSBuZXcgQXR0ZW5kYW5jZU1vbnRobHlQZW5hbHRpZXMoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5tb250aGx5VmFjYXRpb25zID0gbmV3IEF0dGVuZGFuY2VNb250aGx5VmFjYXRpb25zKGRiTWFuYWdlciwgdHJhbnNsYXRlU2VydmljZSk7XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseVNhbGFyeSA9IG5ldyBBdHRlbmRhbmNlTW9udGhseVNhbGFyeShkYk1hbmFnZXIsIHRyYW5zbGF0ZVNlcnZpY2UpO1xyXG4gICAgICAgICAgICB0aGlzLmF0dGVuZGFuY2VDYWxjdWxhdGlvblBlcmlvZCA9IG5ldyBBdHRlbmRhbmNlQ2FsY3VsYXRpb25QZXJpb2QoZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbmRhbmNlTW9udGhseUNhbGN1bGF0aW9uID0gbmV3IEF0dGVuZGFuY2VNb250aGx5Q2FsY3VsYXRpb24oZGJNYW5hZ2VyLCB0cmFuc2xhdGVTZXJ2aWNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5hdHRlbmRhbmNlRGF5VHlwZXMgPSBuZXcgQXR0ZW5kYW5jZURheVR5cGVzKGRiTWFuYWdlciwgdHJhbnNsYXRlU2VydmljZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGlvblBlcmlvZENoYW5nZUV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdEFjdGlvbjogdGhpcy5jYWxjdWxhdGlvblBlcmlvZENoYW5nZWRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMueWVhckNoYW5nZUV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdEFjdGlvbjogdGhpcy55ZWFyQ2hhbmdlZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLm1vbnRoQ2hhbmdlRXZlbnQgPSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0QWN0aW9uOiB0aGlzLm1vbnRoQ2hhbmdlZFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYWlseURhdGEgPSB7IGF0dGVuZGFuY2VEYXRhTGlzdDogW10sIHBlbmFsdHlEYXRhTGlzdDogW10sIHZhY2F0aW9uRGF0YUxpc3Q6IFtdLCBpbXBvcnREYXlEYXRhTGlzdDogW10sIGNsb3NlRGF5RGF0YUxpc3Q6IFtdIH07XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseURhdGEgPSB7IGF0dGVuZGFuY2VEYXRhTGlzdDogW10sIHBlbmFsdHlEYXRhTGlzdDogW10sIHZhY2F0aW9uRGF0YUxpc3Q6IFtdLCBzYWxhcnlEYXRhTGlzdDogW10gfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gJGZpbHRlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucyA9IHsgcHJvZ3Jlc3NUaXRsZTogXCJJbXBvcnQgJiBDbG9zZSBBdHRlbmRhbmNlXCIgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5kYk1hbmFnZXIuR2V0KFwiU3lzdGVtUHJvZ3Jlc3NcIiwgXCJHZXRCeVByb2dyZXNzVHlwZUlkXCIsIFwiP3Byb2dyZXNzVHlwZUlkPTRcIiwgKHJlc3VsdCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gICAgdGhpcy5wcm9ncmVzc0lkID0gcmVzdWx0LmRhdGEuUHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgLy99KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vdmFyIGltcG9ydEdyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAvLyAgICB7IGhlYWRlck5hbWU6IFwiRW1wbG95ZWVDb2RlXCIsIGZpZWxkOiBcIkVtcGxveWVlQ29kZVwiIH0sXHJcbiAgICAgICAgICAgIC8vICAgIHsgaGVhZGVyTmFtZTogXCJQcm9maWxlTmFtZVwiLCBmaWVsZDogXCJQcm9maWxlTmFtZVwiIH0sXHJcbiAgICAgICAgICAgIC8vICAgIHsgaGVhZGVyTmFtZTogXCJUcmFuc2FjdGlvbkRhdGVcIiwgZmllbGQ6IFwiVHJhbnNhY3Rpb25EYXRlXCIsIHRlbXBsYXRlOiBcIjxwPnt7ZGF0YS5UcmFuc2FjdGlvbkRhdGUgfCBkYXRlOidkZC9NTS95eXl5J319PC9wPlwiIH0sXHJcbiAgICAgICAgICAgIC8vICAgIHsgaGVhZGVyTmFtZTogXCJFbXBUaW1lSW5cIiwgZmllbGQ6IFwiRW1wVGltZUluXCIgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBoZWFkZXJOYW1lOiBcIkVtcFRpbWVPdXRcIiwgZmllbGQ6IFwiRW1wVGltZU91dFwiIH1cclxuICAgICAgICAgICAgLy9dO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLmltcG9ydEdyaWQgPSB7XHJcbiAgICAgICAgICAgIC8vICAgIGdyaWRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICByb3dEYXRhOiB0aGlzLmltcG9ydERhdGEsXHJcbiAgICAgICAgICAgIC8vICAgICAgICBjb2x1bW5EZWZzOiBpbXBvcnRHcmlkQ29sdW1uRGVmc1xyXG4gICAgICAgICAgICAvLyAgICB9LFxyXG4gICAgICAgICAgICAvLyAgICBncmlkQ29sdW1uRGVmczogaW1wb3J0R3JpZENvbHVtbkRlZnNcclxuICAgICAgICAgICAgLy99O1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5hcHBseUlzTW9kaWZpZWRDb2xvcigpO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzLmFwcGx5QXR0ZW5kYW5jZURheVR5cGVzQ29sb3IoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBhcHBseUlzTW9kaWZpZWRDb2xvciA9ICgpID0+IHtcclxuICAgICAgICAvLyAgICB0aGlzLmltcG9ydEdyaWQuZ3JpZE9wdGlvbnMuZ2V0Um93U3R5bGUgPSAocGFyYW1zKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChwYXJhbXMuZGF0YSAmJiBwYXJhbXMuZGF0YS5Jc01vZGlmaWVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4geyBiYWNrZ3JvdW5kOiBcInNpbHZlclwiIH07XHJcbiAgICAgICAgLy8gICAgICAgIH1cclxuICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBhcHBseUF0dGVuZGFuY2VEYXlUeXBlc0NvbG9yID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmF0dGVuZGFuY2VEYXlUeXBlcy5nZXRBbGwoKTtcclxuICAgICAgICAvLyAgICB0aGlzLmRheVR5cGVzID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgLy8gICAgdGhpcy5ncmlkLmdyaWRPcHRpb25zLmdldFJvd1N0eWxlID0gKHBhcmFtcykgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICByZXR1cm4geyBiYWNrZ3JvdW5kOiB0aGlzLmdldERheVR5cGVCYWNrQ29sb3IocmVzdWx0LmRhdGEsIHBhcmFtcy5kYXRhLkF0dGVuZGFuY2VEYXlUeXBlSWQpIH07XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGdldERheVR5cGVCYWNrQ29sb3IgPSAoZGF5VHlwZUxpc3QsIGF0dGVuZGFuY2VEYXlUeXBlSWQpID0+IHtcclxuICAgICAgICAvLyAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRheVR5cGVMaXN0Lmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgLy8gICAgICAgIGlmIChkYXlUeXBlTGlzdFtpXSAhPT0gdW5kZWZpbmVkICYmIGRheVR5cGVMaXN0W2ldLkF0dGVuZGFuY2VEYXlUeXBlSWQgPT09IGF0dGVuZGFuY2VEYXlUeXBlSWQpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgIHJldHVybiBkYXlUeXBlTGlzdFtpXS5BdHRlbmRhbmNlRGF5VHlwZUNvbG9yO1xyXG4gICAgICAgIC8vICAgICAgICB9XHJcbiAgICAgICAgLy8gICAgfVxyXG4gICAgICAgIC8vfVxyXG5cclxuICAgICAgICBwcml2YXRlIHllYXJNb250aFBlcmlvZENoYW5nZWQgPSBhc3luYyAoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyLCBjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKHllYXIgPiAwICYmIG1vbnRoID4gMCAmJiBjYWxjdWxhdGlvblBlcmlvZElkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXR0ZW5kYW5jZUNhbGN1bGF0aW9uUGVyaW9kLmdldENhbGN1bGF0aW9uUGVyaW9kQnlNb250aChjYWxjdWxhdGlvblBlcmlvZElkLCB5ZWFyLCBtb250aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkZyb21EYXRlID0gcmVzdWx0LmRhdGEuZnJvbURhdGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlRvRGF0ZSA9IHJlc3VsdC5kYXRhLnRvRGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjYWxjdWxhdGlvblBlcmlvZENoYW5nZWQgPSBhc3luYyAoY2FsY3VsYXRpb25QZXJpb2RJZCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgY29uc3QgbW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgdGhpcy55ZWFyTW9udGhQZXJpb2RDaGFuZ2VkKHllYXIsIG1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgeWVhckNoYW5nZWQgPSBhc3luYyAoeWVhcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHRoaXMueWVhck1vbnRoUGVyaW9kQ2hhbmdlZCh5ZWFyLCBtb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG1vbnRoQ2hhbmdlZCA9IGFzeW5jIChtb250aDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB0aGlzLnllYXJNb250aFBlcmlvZENoYW5nZWQoeWVhciwgbW9udGgsIGNhbGN1bGF0aW9uUGVyaW9kSWQpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgcnVuID0gYXN5bmMgKHZhbGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NUeXBlSWQoUHJvZ3Jlc3NUeXBlcy5JbXBvcnRBdHRlbmRhbmNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IG5ldyBTeXN0ZW1Qcm9ncmVzc0Jhcih0aGlzLmRiTWFuYWdlciwgdGhpcy50cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc1Jlc3VsdCA9IGF3YWl0IHByb2dyZXNzQmFyLmdldEJ5UHJvZ3Jlc3NJZChQcm9ncmVzc1R5cGVzLkltcG9ydEF0dGVuZGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NJZCA9IHByb2dyZXNzUmVzdWx0LmRhdGEuUHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NJZCh0aGlzLnByb2dyZXNzSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuY2hlY2tJZlByb2dyZXNzUnVubmluZyhcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuYXBpLnN0YXJ0UHJvZ3Jlc3MoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NUeXBlSWQoUHJvZ3Jlc3NUeXBlcy5DbG9zZURheUF0dGVuZGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3Jlc3NCYXIgPSBuZXcgU3lzdGVtUHJvZ3Jlc3NCYXIodGhpcy5kYk1hbmFnZXIsIHRoaXMudHJhbnNsYXRlU2VydmljZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc1Jlc3VsdCA9IGF3YWl0IHByb2dyZXNzQmFyLmdldEJ5UHJvZ3Jlc3NJZChQcm9ncmVzc1R5cGVzLkNsb3NlRGF5QXR0ZW5kYW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzSWQgPSBwcm9ncmVzc1Jlc3VsdC5kYXRhLlByb2dyZXNzSWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NJZCh0aGlzLnByb2dyZXNzSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUnVuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydENhbGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RhcnRDYWxjID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IGZyb21EYXRlID0gdGhpcy5nZXRGcm9tRGF0ZSgpO1xyXG4gICAgICAgICAgICBsZXQgdG9EYXRlID0gdGhpcy5nZXRUb0RhdGUoKTtcclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHMgPSB0aGlzLmdldEVtcEFzc2lnbm1lbnRJZHMoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBpbXBvcnRSZXN1bHQgPSBhd2FpdCB0aGlzLmltcG9ydERheUNhbGMoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2xvc2VSZXN1bHQgPSBhd2FpdCB0aGlzLmNsb3NlRGF5Q2FsYyhmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGltcG9ydERheUNhbGMgPSBhc3luYyAoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkczogQXJyYXk8bnVtYmVyPikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy51c2VJbXBvcnQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5zZXRQcm9ncmVzc1R5cGVJZChQcm9ncmVzc1R5cGVzLkltcG9ydEF0dGVuZGFuY2UpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IG5ldyBTeXN0ZW1Qcm9ncmVzc0Jhcih0aGlzLmRiTWFuYWdlciwgdGhpcy50cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc1Jlc3VsdCA9IGF3YWl0IHByb2dyZXNzQmFyLmdldEJ5UHJvZ3Jlc3NJZChQcm9ncmVzc1R5cGVzLkltcG9ydEF0dGVuZGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NJZCA9IHByb2dyZXNzUmVzdWx0LmRhdGEuUHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NJZCh0aGlzLnByb2dyZXNzSWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcyhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsb3NlUmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseUltcG9ydERheS5DYWxjSW1wb3J0RGF5KGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZUNsb3NlRGF5ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhbGMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhbGMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNsb3NlRGF5Q2FsYyA9IGFzeW5jIChmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnVzZUNsb3NlRGF5ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BDYWxjKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc2V0UHJvZ3Jlc3NUeXBlSWQoUHJvZ3Jlc3NUeXBlcy5DbG9zZURheUF0dGVuZGFuY2UpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc0JhciA9IG5ldyBTeXN0ZW1Qcm9ncmVzc0Jhcih0aGlzLmRiTWFuYWdlciwgdGhpcy50cmFuc2xhdGVTZXJ2aWNlKTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9ncmVzc1Jlc3VsdCA9IGF3YWl0IHByb2dyZXNzQmFyLmdldEJ5UHJvZ3Jlc3NJZChQcm9ncmVzc1R5cGVzLkNsb3NlRGF5QXR0ZW5kYW5jZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0lkID0gcHJvZ3Jlc3NSZXN1bHQuZGF0YS5Qcm9ncmVzc0lkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5zZXRQcm9ncmVzc0lkKHRoaXMucHJvZ3Jlc3NJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5zdGFydFByb2dyZXNzKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJ1bigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2xvc2VSZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5Q2xvc2VEYXkuQ2FsY0Nsb3NlRGF5KGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhbGMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wQ2FsYygpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hvd01vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcjaW1wb3J0Q2xvc2VBdHRlbmRhbmNlTW9kYWwnKS5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgaGlkZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcjaW1wb3J0Q2xvc2VBdHRlbmRhbmNlTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RvcENhbGMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RvcFByb2dyZXNzKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZVJ1bigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVSdW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucnVuU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1Byb2dyZXNzU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheURhdGFTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkaXNhYmxlUnVuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJ1blN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dQcm9ncmVzc1N0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheURhdGFTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGdldEZyb21EYXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZnJvbURhdGUgPSB0aGlzLmRhdGFJdGVtLkZyb21EYXRlO1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbURhdGUudG9VVENTdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0VG9EYXRlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdG9EYXRlID0gdGhpcy5kYXRhSXRlbS5Ub0RhdGU7XHJcbiAgICAgICAgICAgIHJldHVybiB0b0RhdGUudG9VVENTdHJpbmcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RW1wQXNzaWdubWVudElkcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGVtcEFzc2lnbm1lbnRJZHMgPSB0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1wQXNzaWdubWVudElkcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERpc3BsYXkgQWxsIERhaWx5XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUFsbERhaWx5RGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgLy92YXIgcXVlcnlTdHJpbmcgPSB0aGlzLmdldENvbW1vblF1ZXJ5U3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IHRoaXMuZ2V0RnJvbURhdGUoKTtcclxuICAgICAgICAgICAgbGV0IHRvRGF0ZSA9IHRoaXMuZ2V0VG9EYXRlKCk7XHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5nZXRFbXBBc3NpZ25tZW50SWRzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW1wb3J0UmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseUltcG9ydERheS5nZXRJbXBvcnREYXlEYXRhKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmltcG9ydERhdGEgPSBpbXBvcnRSZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjbG9zZVJlc3VsdCA9IGF3YWl0IHRoaXMuZGFpbHlDbG9zZURheS5nZXRDbG9zZURheURhdGEoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBjbG9zZVJlc3VsdC5kYXRhO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBkYWlseUF0dGVuZGFuY2VSZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5QXR0ZW5kYW5jZS5nZXREYWlseUF0dGVuZGFuY2VEYXRhKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmRhaWx5RGF0YS5hdHRlbmRhbmNlRGF0YUxpc3QgPSBkYWlseUF0dGVuZGFuY2VSZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGxldCBkYWlseVBlbmFsdHlSZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5UGVuYWx0aWVzLmdldERhaWx5UGVuYWx0eURhdGEoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGFpbHlEYXRhLnBlbmFsdHlEYXRhTGlzdCA9IGRhaWx5UGVuYWx0eVJlc3VsdC5kYXRhO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRhaWx5VmFjYXRpb25SZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5VmFjYXRpb25zLmdldERhaWx5VmFjYXRpb25EYXRhKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmRhaWx5RGF0YS52YWNhdGlvbkRhdGFMaXN0ID0gZGFpbHlWYWNhdGlvblJlc3VsdC5kYXRhO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERhaWx5IEltcG9ydERheVxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUltcG9ydERhdGEgPSBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZnJvbURhdGUgPSB0aGlzLmdldEZyb21EYXRlKCk7XHJcbiAgICAgICAgICAgIGxldCB0b0RhdGUgPSB0aGlzLmdldFRvRGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZ2V0RW1wQXNzaWdubWVudElkcygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGltcG9ydFJlc3VsdCA9IGF3YWl0IHRoaXMuZGFpbHlJbXBvcnREYXkuZ2V0SW1wb3J0RGF5RGF0YShmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5pbXBvcnREYXRhID0gaW1wb3J0UmVzdWx0LmRhdGE7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBEYWlseSBDbG9zZURheVxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUNsb3NlRGF0YSA9IGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IHRoaXMuZ2V0RnJvbURhdGUoKTtcclxuICAgICAgICAgICAgbGV0IHRvRGF0ZSA9IHRoaXMuZ2V0VG9EYXRlKCk7XHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5nZXRFbXBBc3NpZ25tZW50SWRzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgY2xvc2VSZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5Q2xvc2VEYXkuZ2V0Q2xvc2VEYXlEYXRhKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gY2xvc2VSZXN1bHQuZGF0YTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvLyBEYWlseSBBdHRlbmRhbmNlXHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUF0dGVuZGFuY2VEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZnJvbURhdGUgPSB0aGlzLmRhdGFJdGVtLkZyb21EYXRlO1xyXG4gICAgICAgICAgICBsZXQgdG9EYXRlID0gdGhpcy5kYXRhSXRlbS5Ub0RhdGU7XHJcbiAgICAgICAgICAgIGZyb21EYXRlID0gZnJvbURhdGUudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgdG9EYXRlID0gdG9EYXRlLnRvVVRDU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgZW1wQXNzaWdubWVudElkczogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseUF0dGVuZGFuY2UuZ2V0RGFpbHlBdHRlbmRhbmNlRGF0YShmcm9tRGF0ZSwgdG9EYXRlLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5kYWlseURhdGEuYXR0ZW5kYW5jZURhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RBdHRlbmRhbmNlRGF0YSA9IGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLmRhaWx5QXR0ZW5kYW5jZS5hdHRlbmRhbmNlR3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IERhaWx5RGVkdWN0aW9uSWQgfSkgPT4gRGFpbHlEZWR1Y3Rpb25JZCk7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseUF0dGVuZGFuY2UucG9zdERhaWx5QXR0ZW5kYW5jZURhdGEoc2VsZWN0ZWRJZHMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheUF0dGVuZGFuY2VEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0QXR0ZW5kYW5jZURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLmRhaWx5VmFjYXRpb25zLnZhY2F0aW9uR3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IERhaWx5RGVkdWN0aW9uSWQgfSkgPT4gRGFpbHlEZWR1Y3Rpb25JZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5UGVuYWx0aWVzLnVuUG9zdERhaWx5UGVuYWx0eURhdGEoc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5QXR0ZW5kYW5jZURhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBEYWlseVBlbmFsdHlcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5UGVuYWx0eURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uRnJvbURhdGU7XHJcbiAgICAgICAgICAgIGxldCB0b0RhdGUgPSB0aGlzLmRhdGFJdGVtLlRvRGF0ZTtcclxuICAgICAgICAgICAgZnJvbURhdGUgPSBmcm9tRGF0ZS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICB0b0RhdGUgPSB0b0RhdGUudG9VVENTdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5UGVuYWx0aWVzLmdldERhaWx5UGVuYWx0eURhdGEoZnJvbURhdGUsIHRvRGF0ZSwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGFpbHlEYXRhLnBlbmFsdHlEYXRhTGlzdCA9IHJlc3VsdC5kYXRhO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgcG9zdFBlbmFsdHlEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5kYWlseVBlbmFsdGllcy5wZW5hbHR5R3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IERhaWx5RGVkdWN0aW9uSWQgfSkgPT4gRGFpbHlEZWR1Y3Rpb25JZCk7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseVBlbmFsdGllcy5wb3N0RGFpbHlQZW5hbHR5RGF0YShzZWxlY3RlZElkcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlQZW5hbHR5RGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVuUG9zdFBlbmFsdHlEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5kYWlseVZhY2F0aW9ucy52YWNhdGlvbkdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBEYWlseURlZHVjdGlvbklkIH0pID0+IERhaWx5RGVkdWN0aW9uSWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseVBlbmFsdGllcy51blBvc3REYWlseVBlbmFsdHlEYXRhKHNlbGVjdGVkSWRzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVBlbmFsdHlEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIERhaWx5VmFjYXRpb25cclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlWYWNhdGlvbkRhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uRnJvbURhdGU7XHJcbiAgICAgICAgICAgIGxldCB0b0RhdGUgPSB0aGlzLmRhdGFJdGVtLlRvRGF0ZTtcclxuICAgICAgICAgICAgZnJvbURhdGUgPSBmcm9tRGF0ZS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICB0b0RhdGUgPSB0b0RhdGUudG9VVENTdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmRhaWx5VmFjYXRpb25zLmdldERhaWx5VmFjYXRpb25EYXRhKGZyb21EYXRlLCB0b0RhdGUsIGVtcEFzc2lnbm1lbnRJZHMpO1xyXG4gICAgICAgICAgICB0aGlzLmRhaWx5RGF0YS52YWNhdGlvbkRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwb3N0VmFjYXRpb25EYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5kYWlseVZhY2F0aW9ucy52YWNhdGlvbkdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBEYWlseURlZHVjdGlvbklkIH0pID0+IERhaWx5RGVkdWN0aW9uSWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYWlseVZhY2F0aW9ucy5wb3N0RGFpbHlWYWNhdGlvbkRhdGEoc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VmFjYXRpb25EYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVuUG9zdFZhY2F0aW9uRGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZGFpbHlWYWNhdGlvbnMudmFjYXRpb25HcmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZElkcyA9IHNlbGVjdGVkUm93cy5tYXAoKHsgRGFpbHlEZWR1Y3Rpb25JZCB9KSA9PiBEYWlseURlZHVjdGlvbklkKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGFpbHlWYWNhdGlvbnMudW5Qb3N0RGFpbHlWYWNhdGlvbkRhdGEoc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VmFjYXRpb25EYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9Nb250aGx5IENhbGN1bGF0aW9uXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIGNhbGN1bGF0ZU1vbnRobHlBdHRlbmRhbmNlID0gYXN5bmMgKGlzVmFsaWQ6IGJvb2xlYW4pID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZU1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvblBlcmlvZElkID0gdGhpcy5kYXRhSXRlbS5DYWxjdWxhdGlvblBlcmlvZElkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuYXR0ZW5kYW5jZU1vbnRobHlDYWxjdWxhdGlvbi5jYWxjdWxhdGVNb250aGx5QXR0ZW5kYW5jZShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBEaXNwbGF5IEFsbCBNb250aGx5XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheUFsbE1vbnRobHlEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudElkczogQXJyYXk8bnVtYmVyPiA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlWWVhciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlTW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgbGV0IG1vbnRobHlBdHRlbmRhbmNlUmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5QXR0ZW5kYW5jZS5nZXRNb250aGx5QXR0ZW5kYW5jZURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseURhdGEuYXR0ZW5kYW5jZURhdGFMaXN0ID0gbW9udGhseUF0dGVuZGFuY2VSZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtb250aGx5UGVuYWx0eVJlc3VsdCA9IGF3YWl0IHRoaXMubW9udGhseVBlbmFsdGllcy5nZXRNb250aGx5UGVuYWx0eURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseURhdGEucGVuYWx0eURhdGFMaXN0ID0gbW9udGhseVBlbmFsdHlSZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGxldCBtb250aGx5VmFjYXRpb25SZXN1bHQgPSBhd2FpdCB0aGlzLm1vbnRobHlWYWNhdGlvbnMuZ2V0TW9udGhseVZhY2F0aW9uRGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5tb250aGx5RGF0YS52YWNhdGlvbkRhdGFMaXN0ID0gbW9udGhseVZhY2F0aW9uUmVzdWx0LmRhdGE7XHJcblxyXG4gICAgICAgICAgICBsZXQgbW9udGhseVNhbGFyeVJlc3VsdCA9IGF3YWl0IHRoaXMubW9udGhseVNhbGFyeS5nZXRNb250aGx5U2FsYXJ5RGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5tb250aGx5RGF0YS5zYWxhcnlEYXRhTGlzdCA9IG1vbnRobHlTYWxhcnlSZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIE1vbnRobHkgQXR0ZW5kYW5jZVxyXG5cclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlNb250aGx5QXR0ZW5kYW5jZURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGVtcEFzc2lnbm1lbnRJZHMgPSB0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VZZWFyID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VNb250aCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICBsZXQgY2FsY3VsYXRpb25QZXJpb2RJZCA9IHRoaXMuZGF0YUl0ZW0uQ2FsY3VsYXRpb25QZXJpb2RJZDtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5QXR0ZW5kYW5jZS5nZXRNb250aGx5QXR0ZW5kYW5jZURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseURhdGEuYXR0ZW5kYW5jZURhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RNb250aGx5QXR0ZW5kYW5jZURhdGEgPSBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5tb250aGx5QXR0ZW5kYW5jZS5hdHRlbmRhbmNlR3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IE1vbnRobHlEZWR1Y3Rpb25JZCB9KSA9PiBNb250aGx5RGVkdWN0aW9uSWQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VZZWFyID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VNb250aCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICBsZXQgY2FsY3VsYXRpb25QZXJpb2RJZCA9IHRoaXMuZGF0YUl0ZW0uQ2FsY3VsYXRpb25QZXJpb2RJZDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMubW9udGhseUF0dGVuZGFuY2UucG9zdE1vbnRobHlBdHRlbmRhbmNlRGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBzZWxlY3RlZElkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseUF0dGVuZGFuY2VEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0TW9udGhseUF0dGVuZGFuY2VEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMubW9udGhseUF0dGVuZGFuY2UuYXR0ZW5kYW5jZUdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBNb250aGx5RGVkdWN0aW9uSWQgfSkgPT4gTW9udGhseURlZHVjdGlvbklkKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlWWVhciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlTW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLm1vbnRobHlBdHRlbmRhbmNlLnVuUG9zdE1vbnRobHlBdHRlbmRhbmNlRGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBzZWxlY3RlZElkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseUF0dGVuZGFuY2VEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBNb250aGx5UGVuYWx0eVxyXG5cclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlNb250aGx5UGVuYWx0eURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGVtcEFzc2lnbm1lbnRJZHMgPSB0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VZZWFyID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VNb250aCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICBsZXQgY2FsY3VsYXRpb25QZXJpb2RJZCA9IHRoaXMuZGF0YUl0ZW0uQ2FsY3VsYXRpb25QZXJpb2RJZDtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5UGVuYWx0aWVzLmdldE1vbnRobHlQZW5hbHR5RGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5tb250aGx5RGF0YS5wZW5hbHR5RGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RNb250aGx5UGVuYWx0eURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLm1vbnRobHlQZW5hbHRpZXMucGVuYWx0eUdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBNb250aGx5RGVkdWN0aW9uSWQgfSkgPT4gTW9udGhseURlZHVjdGlvbklkKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlWWVhciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlTW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5UGVuYWx0aWVzLnBvc3RNb250aGx5UGVuYWx0eURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseVBlbmFsdHlEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0TW9udGhseVBlbmFsdHlEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5tb250aGx5UGVuYWx0aWVzLnBlbmFsdHlHcmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZElkcyA9IHNlbGVjdGVkUm93cy5tYXAoKHsgTW9udGhseURlZHVjdGlvbklkIH0pID0+IE1vbnRobHlEZWR1Y3Rpb25JZCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZU1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvblBlcmlvZElkID0gdGhpcy5kYXRhSXRlbS5DYWxjdWxhdGlvblBlcmlvZElkO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMubW9udGhseVBlbmFsdGllcy51blBvc3RNb250aGx5UGVuYWx0eURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseVBlbmFsdHlEYXRhKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy8gTW9udGhseVZhY2F0aW9uXHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5TW9udGhseVZhY2F0aW9uRGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZU1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvblBlcmlvZElkID0gdGhpcy5kYXRhSXRlbS5DYWxjdWxhdGlvblBlcmlvZElkO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vbnRobHlWYWNhdGlvbnMuZ2V0TW9udGhseVZhY2F0aW9uRGF0YShhdHRlbmRhbmNlWWVhciwgYXR0ZW5kYW5jZU1vbnRoLCBjYWxjdWxhdGlvblBlcmlvZElkLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICAgICAgdGhpcy5tb250aGx5RGF0YS52YWNhdGlvbkRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwb3N0TW9udGhseVZhY2F0aW9uRGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMubW9udGhseVZhY2F0aW9ucy52YWNhdGlvbkdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBNb250aGx5RGVkdWN0aW9uSWQgfSkgPT4gTW9udGhseURlZHVjdGlvbklkKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlWWVhciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlTW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5VmFjYXRpb25zLnBvc3RNb250aGx5VmFjYXRpb25EYXRhKGF0dGVuZGFuY2VZZWFyLCBhdHRlbmRhbmNlTW9udGgsIGNhbGN1bGF0aW9uUGVyaW9kSWQsIHNlbGVjdGVkSWRzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU1vbnRobHlWYWNhdGlvbkRhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0TW9udGhseVZhY2F0aW9uRGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMubW9udGhseVZhY2F0aW9ucy52YWNhdGlvbkdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBNb250aGx5RGVkdWN0aW9uSWQgfSkgPT4gTW9udGhseURlZHVjdGlvbklkKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlWWVhciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIGxldCBhdHRlbmRhbmNlTW9udGggPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgbGV0IGNhbGN1bGF0aW9uUGVyaW9kSWQgPSB0aGlzLmRhdGFJdGVtLkNhbGN1bGF0aW9uUGVyaW9kSWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5tb250aGx5VmFjYXRpb25zLnVuUG9zdE1vbnRobHlWYWNhdGlvbkRhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseVZhY2F0aW9uRGF0YSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIE1vbnRobHlTYWxhcnlcclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlNb250aGx5U2FsYXJ5RGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZU1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvblBlcmlvZElkID0gdGhpcy5kYXRhSXRlbS5DYWxjdWxhdGlvblBlcmlvZElkO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLm1vbnRobHlTYWxhcnkuZ2V0TW9udGhseVNhbGFyeURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgICAgIHRoaXMubW9udGhseURhdGEuc2FsYXJ5RGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RNb250aGx5U2FsYXJ5RGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMubW9udGhseVNhbGFyeS5zYWxhcnlHcmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZElkcyA9IHNlbGVjdGVkUm93cy5tYXAoKHsgTW9udGhseURlZHVjdGlvbklkIH0pID0+IE1vbnRobHlEZWR1Y3Rpb25JZCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVllYXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZU1vbnRoID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGlvblBlcmlvZElkID0gdGhpcy5kYXRhSXRlbS5DYWxjdWxhdGlvblBlcmlvZElkO1xyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvd3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMubW9udGhseVNhbGFyeS5wb3N0TW9udGhseVNhbGFyeURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseVNhbGFyeURhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0TW9udGhseVNhbGFyeURhdGEgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLm1vbnRobHlTYWxhcnkuc2FsYXJ5R3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IE1vbnRobHlEZWR1Y3Rpb25JZCB9KSA9PiBNb250aGx5RGVkdWN0aW9uSWQpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VZZWFyID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgbGV0IGF0dGVuZGFuY2VNb250aCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICBsZXQgY2FsY3VsYXRpb25QZXJpb2RJZCA9IHRoaXMuZGF0YUl0ZW0uQ2FsY3VsYXRpb25QZXJpb2RJZDtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLm1vbnRobHlTYWxhcnkudW5Qb3N0TW9udGhseVNhbGFyeURhdGEoYXR0ZW5kYW5jZVllYXIsIGF0dGVuZGFuY2VNb250aCwgY2FsY3VsYXRpb25QZXJpb2RJZCwgc2VsZWN0ZWRJZHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5TW9udGhseVNhbGFyeURhdGEoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2ltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRmaWx0ZXInLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRmaWx0ZXIsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbXBvcnRDbG9zZURheUF0dGVuZGFuY2UodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkZmlsdGVyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXR0ZW5kYW5jZU1vbnRobHlBdHRlbmRhbmNlIHtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhdHRlbmRhbmNlR3JpZDogeyBncmlkT3B0aW9uczogYW55LCBncmlkQ29sdW1uRGVmczogYW55IH1cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBhdHRHcmlkQ29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkVtcGxveWVlQ29kZVwiKSwgZmllbGQ6IFwiRW1wbG95ZWVDb2RlXCIsIGhlYWRlckNoZWNrYm94U2VsZWN0aW9uOiB0cnVlLCBjaGVja2JveFNlbGVjdGlvbjogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUHJvZmlsZU5hbWVcIiksIGZpZWxkOiBcIlByb2ZpbGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlJ1bGVUeXBlTmFtZVwiKSwgZmllbGQ6IFwiUnVsZVR5cGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkF0dGVuZGFuY2VZZWFyXCIpLCBmaWVsZDogXCJBdHRlbmRhbmNlWWVhclwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJBdHRlbmRhbmNlTW9udGhcIiksIGZpZWxkOiBcIkF0dGVuZGFuY2VNb250aFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJEZWR1Y3Rpb25WYWx1ZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUG9zdGVkVmFsdWVcIiksIGZpZWxkOiBcIlBvc3RlZFZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblN0YXR1c05hbWVcIiksIGZpZWxkOiBcIkRlZHVjdGlvblN0YXR1c05hbWVcIiB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5hdHRlbmRhbmNlR3JpZCA9IHtcclxuICAgICAgICAgICAgICAgIGdyaWRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uOiAnbXVsdGlwbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzUm93Q2xpY2tTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogYXR0R3JpZENvbHVtbkRlZnMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc1Jvd1NlbGVjdGFibGU6IGZ1bmN0aW9uIChyb3dOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHJvd05vZGUuZGF0YSA/IHJvd05vZGUuZGF0YS5EZWR1Y3Rpb25TdGF0dXNJZCAhPT0gNCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgICAgICAgICAgZ2V0Um93U3R5bGU6IEhDTVMuRm9ybXMuSW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlLmdldFBvc3RlZFN0eWxlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkRlZnM6IGF0dEdyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0TW9udGhseUF0dGVuZGFuY2VEYXRhID0gKGF0dGVuZGFuY2VZZWFyOiBudW1iZXIsIGF0dGVuZGFuY2VNb250aDogbnVtYmVyLCBjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIsIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4pID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVzcnlTdHJpbmcgPSBgP2NhbGN1bGF0aW9uUGVyaW9kSWQ9JHtjYWxjdWxhdGlvblBlcmlvZElkfSZhdHRlbmRhbmNlWWVhcj0ke2F0dGVuZGFuY2VZZWFyfSZhdHRlbmRhbmNlTW9udGg9JHthdHRlbmRhbmNlTW9udGh9YDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VNb250aGx5RGVkdWN0aW9uXCIsIFwiR2V0TW9udGhseUF0dGVuZGFuY2VcIiwgcXVlc3J5U3RyaW5nLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgcG9zdE1vbnRobHlBdHRlbmRhbmNlRGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBtb250aGx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIlBvc3RNb250aGx5QXR0ZW5kYW5jZVwiLCBxdWVzcnlTdHJpbmcsIG1vbnRobHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHVuUG9zdE1vbnRobHlBdHRlbmRhbmNlRGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBtb250aGx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIlVuUG9zdE1vbnRobHlBdHRlbmRhbmNlXCIsIHF1ZXNyeVN0cmluZywgbW9udGhseURlZHVjdGlvbklkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXR0ZW5kYW5jZU1vbnRobHlQZW5hbHRpZXMge1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHBlbmFsdHlHcmlkOiB7IGdyaWRPcHRpb25zOiBhbnksIGdyaWRDb2x1bW5EZWZzOiBhbnkgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHBlbmFsdHlHcmlkQ29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkVtcGxveWVlQ29kZVwiKSwgZmllbGQ6IFwiRW1wbG95ZWVDb2RlXCIsIGhlYWRlckNoZWNrYm94U2VsZWN0aW9uOiB0cnVlLCBjaGVja2JveFNlbGVjdGlvbjogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUHJvZmlsZU5hbWVcIiksIGZpZWxkOiBcIlByb2ZpbGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIlJ1bGVUeXBlTmFtZVwiKSwgZmllbGQ6IFwiUnVsZVR5cGVOYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkF0dGVuZGFuY2VZZWFyXCIpLCBmaWVsZDogXCJBdHRlbmRhbmNlWWVhclwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJBdHRlbmRhbmNlTW9udGhcIiksIGZpZWxkOiBcIkF0dGVuZGFuY2VNb250aFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJEZWR1Y3Rpb25WYWx1ZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUG9zdGVkVmFsdWVcIiksIGZpZWxkOiBcIlBvc3RlZFZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblN0YXR1c05hbWVcIiksIGZpZWxkOiBcIkRlZHVjdGlvblN0YXR1c05hbWVcIiB9XHJcblxyXG4gICAgICAgICAgICBdO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBlbmFsdHlHcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246ICdtdWx0aXBsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NSb3dDbGlja1NlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBwZW5hbHR5R3JpZENvbHVtbkRlZnMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc1Jvd1NlbGVjdGFibGU6IGZ1bmN0aW9uIChyb3dOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHJvd05vZGUuZGF0YSA/IHJvd05vZGUuZGF0YS5EZWR1Y3Rpb25TdGF0dXNJZCAhPT0gNCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgICAgICAgICAgZ2V0Um93U3R5bGU6IEhDTVMuRm9ybXMuSW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlLmdldFBvc3RlZFN0eWxlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkRlZnM6IHBlbmFsdHlHcmlkQ29sdW1uRGVmc1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGdldE1vbnRobHlQZW5hbHR5RGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIkdldE1vbnRobHlQZW5hbHRpZXNcIiwgcXVlc3J5U3RyaW5nLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBwb3N0TW9udGhseVBlbmFsdHlEYXRhID0gKGF0dGVuZGFuY2VZZWFyOiBudW1iZXIsIGF0dGVuZGFuY2VNb250aDogbnVtYmVyLCBjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIsbW9udGhseURlZHVjdGlvbklkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IGA/Y2FsY3VsYXRpb25QZXJpb2RJZD0ke2NhbGN1bGF0aW9uUGVyaW9kSWR9JmF0dGVuZGFuY2VZZWFyPSR7YXR0ZW5kYW5jZVllYXJ9JmF0dGVuZGFuY2VNb250aD0ke2F0dGVuZGFuY2VNb250aH1gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZU1vbnRobHlEZWR1Y3Rpb25cIiwgXCJQb3N0TW9udGhseVBlbmFsdGllc1wiLCBxdWVzcnlTdHJpbmcsIG1vbnRobHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHVuUG9zdE1vbnRobHlQZW5hbHR5RGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBtb250aGx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIlVuUG9zdE1vbnRobHlQZW5hbHRpZXNcIiwgcXVlc3J5U3RyaW5nLCBtb250aGx5RGVkdWN0aW9uSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VNb250aGx5U2FsYXJ5IHtcclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBzYWxhcnlHcmlkOiB7IGdyaWRPcHRpb25zOiBhbnksIGdyaWRDb2x1bW5EZWZzOiBhbnkgfVxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSB0cmFuc2xhdG9yOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UpIHtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIHNhbGFyeUdyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wbG95ZWVDb2RlXCIpLCBmaWVsZDogXCJFbXBsb3llZUNvZGVcIiwgaGVhZGVyQ2hlY2tib3hTZWxlY3Rpb246IHRydWUsIGNoZWNrYm94U2VsZWN0aW9uOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQcm9maWxlTmFtZVwiKSwgZmllbGQ6IFwiUHJvZmlsZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUnVsZVR5cGVOYW1lXCIpLCBmaWVsZDogXCJSdWxlVHlwZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiQXR0ZW5kYW5jZVllYXJcIiksIGZpZWxkOiBcIkF0dGVuZGFuY2VZZWFyXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkF0dGVuZGFuY2VNb250aFwiKSwgZmllbGQ6IFwiQXR0ZW5kYW5jZU1vbnRoXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblZhbHVlXCIpLCBmaWVsZDogXCJEZWR1Y3Rpb25WYWx1ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQb3N0ZWRWYWx1ZVwiKSwgZmllbGQ6IFwiUG9zdGVkVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiIH1cclxuXHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2FsYXJ5R3JpZCA9IHtcclxuICAgICAgICAgICAgICAgIGdyaWRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgcm93U2VsZWN0aW9uOiAnbXVsdGlwbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1cHByZXNzUm93Q2xpY2tTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogc2FsYXJ5R3JpZENvbHVtbkRlZnMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pc1Jvd1NlbGVjdGFibGU6IGZ1bmN0aW9uIChyb3dOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIHJvd05vZGUuZGF0YSA/IHJvd05vZGUuZGF0YS5EZWR1Y3Rpb25TdGF0dXNJZCAhPT0gNCA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfSxcclxuICAgICAgICAgICAgICAgICAgICAgZ2V0Um93U3R5bGU6IEhDTVMuRm9ybXMuSW1wb3J0Q2xvc2VEYXlBdHRlbmRhbmNlLmdldFBvc3RlZFN0eWxlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkRlZnM6IHNhbGFyeUdyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0TW9udGhseVNhbGFyeURhdGEgPSAoYXR0ZW5kYW5jZVllYXI6IG51bWJlciwgYXR0ZW5kYW5jZU1vbnRoOiBudW1iZXIsIGNhbGN1bGF0aW9uUGVyaW9kSWQ6IG51bWJlciwgZW1wQXNzaWdubWVudElkczogQXJyYXk8bnVtYmVyPikgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IGA/Y2FsY3VsYXRpb25QZXJpb2RJZD0ke2NhbGN1bGF0aW9uUGVyaW9kSWR9JmF0dGVuZGFuY2VZZWFyPSR7YXR0ZW5kYW5jZVllYXJ9JmF0dGVuZGFuY2VNb250aD0ke2F0dGVuZGFuY2VNb250aH1gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZU1vbnRobHlEZWR1Y3Rpb25cIiwgXCJHZXRNb250aGx5U2FsYXJ5XCIsIHF1ZXNyeVN0cmluZywgZW1wQXNzaWdubWVudElkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgcG9zdE1vbnRobHlTYWxhcnlEYXRhID0gKGF0dGVuZGFuY2VZZWFyOiBudW1iZXIsIGF0dGVuZGFuY2VNb250aDogbnVtYmVyLCBjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIsTW9udGhseURlZHVjdGlvbklkcykgPT4ge1xyXG5cclxuICAgICAgICAgICAgbGV0IHF1ZXNyeVN0cmluZyA9IGA/Y2FsY3VsYXRpb25QZXJpb2RJZD0ke2NhbGN1bGF0aW9uUGVyaW9kSWR9JmF0dGVuZGFuY2VZZWFyPSR7YXR0ZW5kYW5jZVllYXJ9JmF0dGVuZGFuY2VNb250aD0ke2F0dGVuZGFuY2VNb250aH1gO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKFwiQXR0ZW5kYW5jZU1vbnRobHlEZWR1Y3Rpb25cIiwgXCJQb3N0TW9udGhseVNhbGFyeVwiLCBxdWVzcnlTdHJpbmcsIE1vbnRobHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHVuUG9zdE1vbnRobHlTYWxhcnlEYXRhID0gKGF0dGVuZGFuY2VZZWFyOiBudW1iZXIsIGF0dGVuZGFuY2VNb250aDogbnVtYmVyLCBjYWxjdWxhdGlvblBlcmlvZElkOiBudW1iZXIsIE1vbnRobHlEZWR1Y3Rpb25JZHMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBxdWVzcnlTdHJpbmcgPSBgP2NhbGN1bGF0aW9uUGVyaW9kSWQ9JHtjYWxjdWxhdGlvblBlcmlvZElkfSZhdHRlbmRhbmNlWWVhcj0ke2F0dGVuZGFuY2VZZWFyfSZhdHRlbmRhbmNlTW9udGg9JHthdHRlbmRhbmNlTW9udGh9YDtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZShcIkF0dGVuZGFuY2VNb250aGx5RGVkdWN0aW9uXCIsIFwiVW5Qb3N0TW9udGhseVNhbGFyeVwiLCBxdWVzcnlTdHJpbmcsIE1vbnRobHlEZWR1Y3Rpb25JZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsIm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXR0ZW5kYW5jZU1vbnRobHlWYWNhdGlvbnMge1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHZhY2F0aW9uR3JpZDogeyBncmlkT3B0aW9uczogYW55LCBncmlkQ29sdW1uRGVmczogYW55IH1cclxuICAgICAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgdHJhbnNsYXRvcjogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlKSB7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB2YWNhdGlvbkdyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRW1wbG95ZWVDb2RlXCIpLCBmaWVsZDogXCJFbXBsb3llZUNvZGVcIiwgaGVhZGVyQ2hlY2tib3hTZWxlY3Rpb246IHRydWUsIGNoZWNrYm94U2VsZWN0aW9uOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQcm9maWxlTmFtZVwiKSwgZmllbGQ6IFwiUHJvZmlsZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiUnVsZVR5cGVOYW1lXCIpLCBmaWVsZDogXCJSdWxlVHlwZU5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiQXR0ZW5kYW5jZVllYXJcIiksIGZpZWxkOiBcIkF0dGVuZGFuY2VZZWFyXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkF0dGVuZGFuY2VNb250aFwiKSwgZmllbGQ6IFwiQXR0ZW5kYW5jZU1vbnRoXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdG9yLlRyYW5zbGF0ZShcIkRlZHVjdGlvblZhbHVlXCIpLCBmaWVsZDogXCJEZWR1Y3Rpb25WYWx1ZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRvci5UcmFuc2xhdGUoXCJQb3N0ZWRWYWx1ZVwiKSwgZmllbGQ6IFwiUG9zdGVkVmFsdWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0b3IuVHJhbnNsYXRlKFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiKSwgZmllbGQ6IFwiRGVkdWN0aW9uU3RhdHVzTmFtZVwiIH1cclxuXHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25HcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb246ICdtdWx0aXBsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VwcHJlc3NSb3dDbGlja1NlbGVjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiB2YWNhdGlvbkdyaWRDb2x1bW5EZWZzLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaXNSb3dTZWxlY3RhYmxlOiBmdW5jdGlvbiAocm93Tm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiByb3dOb2RlLmRhdGEgPyByb3dOb2RlLmRhdGEuRGVkdWN0aW9uU3RhdHVzSWQgIT09IDQgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvL30sXHJcbiAgICAgICAgICAgICAgICAgICAgIGdldFJvd1N0eWxlOiBIQ01TLkZvcm1zLkltcG9ydENsb3NlRGF5QXR0ZW5kYW5jZS5nZXRQb3N0ZWRTdHlsZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5EZWZzOiB2YWNhdGlvbkdyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZ2V0TW9udGhseVZhY2F0aW9uRGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIkdldE1vbnRobHlWYWNhdGlvbnNcIiwgcXVlc3J5U3RyaW5nLCBlbXBBc3NpZ25tZW50SWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBwb3N0TW9udGhseVZhY2F0aW9uRGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBNb250aGx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIlBvc3RNb250aGx5VmFjYXRpb25zXCIsIHF1ZXNyeVN0cmluZywgTW9udGhseURlZHVjdGlvbklkcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgdW5Qb3N0TW9udGhseVZhY2F0aW9uRGF0YSA9IChhdHRlbmRhbmNlWWVhcjogbnVtYmVyLCBhdHRlbmRhbmNlTW9udGg6IG51bWJlciwgY2FsY3VsYXRpb25QZXJpb2RJZDogbnVtYmVyLCBNb250aGx5RGVkdWN0aW9uSWRzKSA9PiB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcXVlc3J5U3RyaW5nID0gYD9jYWxjdWxhdGlvblBlcmlvZElkPSR7Y2FsY3VsYXRpb25QZXJpb2RJZH0mYXR0ZW5kYW5jZVllYXI9JHthdHRlbmRhbmNlWWVhcn0mYXR0ZW5kYW5jZU1vbnRoPSR7YXR0ZW5kYW5jZU1vbnRofWA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UoXCJBdHRlbmRhbmNlTW9udGhseURlZHVjdGlvblwiLCBcIlVuUG9zdE1vbnRobHlWYWNhdGlvbnNcIiwgcXVlc3J5U3RyaW5nLCBNb250aGx5RGVkdWN0aW9uSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgaW50ZXJmYWNlIElDaGFuZ2VTYWxhcnlFdmVudCB7XHJcbiAgICAgICAgc2VsZWN0ZWRJdGVtQ2hhbmdlZDogYW55XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEVtcENoYW5nZVNhbGFyeVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgaXRlbXNMaXN0OiBhbnkgPSBbXTtcclxuICAgICAgICBwcml2YXRlIGl0ZW1zR3JpZDogR3JpZDtcclxuICAgICAgICBwcml2YXRlIGl0ZW1EYXRlT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlJdGVtT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBkZWNpbWFsczogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRQYXlJdGVtSWQ6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIHNlbGVjdGVkUGF5SXRlbTogYW55O1xyXG4gICAgICAgIHByaXZhdGUgcGF5SXRlbUNoYW5nZUV2ZW50OiBJQ2hhbmdlU2FsYXJ5RXZlbnQ7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF5SXRlbUNoYW5nZUV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtQ2hhbmdlZDogKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUGF5SXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRlY2ltYWxzID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkRlY2ltYWxTY2FsZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGF5SXRlbU9wdGlvbnMgPSB7IERyb3BEb3duSWQ6IDgxLCBTZWxlY3REaXNwbGF5VmFsdWU6ICdQYXlJdGVtSWQnLCBTZWxlY3REaXNwbGF5TmFtZTogJ1BheUl0ZW1OYW1lJywgU2VsZWN0RGlzcGxheU5hbWVfOiAnUGF5SXRlbU5hbWVfJyB9O1xyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gdGhpcy5kaXNwbGF5RGF0YTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlDcmVhdGVOZXdUZW1wbGF0ZVxyXG5cclxuICAgICAgICAgICAgLy9sZXQgZ3JpZE9wdGlvbnMgPSB7IHNpbmdsZUNsaWNrRWRpdDogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAvL2xldCBncmlkQ29sdW1uRGVmcyA9IFtcclxuXHJcbiAgICAgICAgICAgIC8vICAgIC8veyBoZWFkZXJOYW1lOiBzY29wZS5zZWxlY3RUZXh0LCB3aWR0aDogNTAsIGNlbGxSZW5kZXJlcjogc2VsZWN0Q2VsbCwgc3VwcHJlc3NNZW51OiB0cnVlLCBzdXBwcmVzc1NvcnRpbmc6IHRydWUgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBmaWVsZDogJ1BheUl0ZW1Db2RlJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ1BheUl0ZW1Db2RlJykgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBmaWVsZDogJ1BheUl0ZW1OYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ1BheUl0ZW1OYW1lJykgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBmaWVsZDogJ1BheUl0ZW1PbGRWYWx1ZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICdudW1iZXInLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ1BheUl0ZW1PbGRWYWx1ZScpIH0sXHJcbiAgICAgICAgICAgIC8vICAgIHsgZmllbGQ6ICdQYXlJdGVtTmV3VmFsdWUnLCBoaWRlOiBmYWxzZSwgZWRpdGFibGU6IHRydWUsIGNvbnRyb2xUeXBlTmFtZTogJ251bWJlcicsIGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlVGV4dCgnUGF5SXRlbU5ld1ZhbHVlJykgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBmaWVsZDogJ1BheUl0ZW1QZXJjZW50YWdlJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ251bWJlcicsIGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlVGV4dCgnUGF5SXRlbVBlcmNlbnRhZ2UnKSB9LFxyXG4gICAgICAgICAgICAvLyAgICB7IGZpZWxkOiAnSXNSZXRyb0FjdGl2ZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICdjaGVjaycsIGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlVGV4dCgnSXNSZXRyb0FjdGl2ZScpIH0sXHJcbiAgICAgICAgICAgIC8vICAgIHsgZmllbGQ6ICdSZXRyb0FjdGl2ZVZhbGlkRGF0ZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICdkYXRlJywgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVUZXh0KCdSZXRyb0FjdGl2ZVZhbGlkRGF0ZScpIH1cclxuXHJcblxyXG4gICAgICAgICAgICAvL107XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMuaXRlbXNHcmlkID0geyBuYW1lOiAnaXRlbXNHcmlkJywgZ3JpZE9wdGlvbnM6IGdyaWRPcHRpb25zLCBncmlkQ29sdW1uRGVmczogZ3JpZENvbHVtbkRlZnMgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLk9uQWRkaW5nLmFkZEhhbmRsZXIoKGU6IENhbmNlbEV2ZW50QXJncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5DaGFuZ2VTYWxhcnlEZXRhaWxzTGlzdCA9IHRoaXMuaXRlbXNMaXN0O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25DcmVhdGVOZXdDbGlja2VkLmFkZEhhbmRsZXIodGhpcy5BZGRWaWV3Q2xpY2tlZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLk9uRWRpdENsaWNrZWQuYWRkSGFuZGxlcih0aGlzLmRpc3BsYXlDaGFuZ2VTYWxhcnlQYXlJdGVtcyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQWRkVmlld0NsaWNrZWQgPSAoY2FsbGJhY2s/KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5kaXNwbGF5Q3JlYXRlTmV3VGVtcGxhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL3RoaXMuZGlzcGxheUVkaXRUZW1wbGF0ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgIC8vdGhpcy5kaXNwbGF5RGV0YWlsc1RlbXBsYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUFzc2lnbm1lbnRJbmZvKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheUFzc2lnbWVudFBheUl0ZW1zKCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlzcGxheURhdGEgPSAoY2FsbEJhY2s/KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXNwbGF5QXNzaWdubWVudEluZm8gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEVtcEFzc2lnbm1lbnRJbmZvJywgcXVlcnlTdHJpbmcsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGR0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtLlVuaXRJZCA9IGR0YS5Vbml0SWQ7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtLlBvc2l0aW9uSWQgPSBkdGEuUG9zaXRpb25JZDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSUQgPSBkdGEuUGF5cm9sbEdyb3VwSUQ7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtLkxvY2F0aW9uSWQgPSBkdGEuTG9jYXRpb25JZDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0uSm9iSWQgPSBkdGEuSm9iSWQ7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFJdGVtLkdyYWRlSWQgPSBkdGEuR3JhZGVJZDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0uQ3VycmVuY3lJZCA9IGR0YS5DdXJyZW5jeUlkO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhSXRlbS5Db3N0Q2VudGVySWQgPSBkdGEuQ29zdENlbnRlcklkO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhSXRlbS5Db250cmFjdFR5cGVJZCA9IGR0YS5Db250cmFjdFR5cGVJZDtcclxuXHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpc3BsYXlBc3NpZ21lbnRQYXlJdGVtcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQpKSBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmVtcEFzc2lnbm1lbnRJZD0nICsgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QXNzaWdubWVudEJhc2ljSXRlbXMnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0Lml0ZW1zTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpc3BsYXlDaGFuZ2VTYWxhcnlQYXlJdGVtcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICBsZXQgZW1wUGF5cm9sbENoYW5nZVNhbGFyeUlkID0gMDtcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGVtcFBheXJvbGxDaGFuZ2VTYWxhcnlJZCA9IGN1cnJlbnRPYmplY3QuZGF0YUl0ZW0uRW1wUGF5cm9sbENoYW5nZVNhbGFyeUlkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmNoYW5nZVNhbGFyeUlkPScgKyBlbXBQYXlyb2xsQ2hhbmdlU2FsYXJ5SWQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0Q2hhbmdlRGV0YWlscycsIHF1ZXJ5U3RyaW5nLCAocmVzcG9uc2UpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0Lml0ZW1zTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcblxyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbmV3VmFsdWVDaGFuZ2VkID0gKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uUGF5SXRlbU9sZFZhbHVlID09IG51bGwgfHwgaXRlbS5QYXlJdGVtT2xkVmFsdWUgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5QYXlJdGVtUGVyY2VudGFnZSA9IGl0ZW0uUGF5SXRlbU5ld1ZhbHVlIC8gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5QYXlJdGVtUGVyY2VudGFnZSA9IChpdGVtLlBheUl0ZW1OZXdWYWx1ZSAtIGl0ZW0uUGF5SXRlbU9sZFZhbHVlKSAvIGl0ZW0uUGF5SXRlbU9sZFZhbHVlOy8vICwgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkRlY2ltYWxTY2FsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFkZFBheUl0ZW0gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUGF5SXRlbSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc0xpc3QucHVzaCh7IFBheUl0ZW1JZDogdGhpcy5zZWxlY3RlZFBheUl0ZW0uUGF5SXRlbUlkLCBQYXlJdGVtQ29kZTogdGhpcy5zZWxlY3RlZFBheUl0ZW0uUGF5SXRlbUNvZGUsIFBheUl0ZW1OYW1lOiB0aGlzLnNlbGVjdGVkUGF5SXRlbS5QYXlJdGVtTmFtZSwgUGF5SXRlbU9sZFZhbHVlOiAwLCBQYXlJdGVtTmV3VmFsdWU6IDAsIFBheUl0ZW1QZXJjZW50YWdlOiAwLCBJc1JldHJvQWN0aXZlOiAwLCBSZXRyb0FjdGl2ZVZhbGlkRGF0ZTogbnVsbCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VtcENoYW5nZVNhbGFyeVRyYW5zYWN0aW9uQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBDaGFuZ2VTYWxhcnlUcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEVtcENoYW5nZVNhbGFyeVRyYW5zSG9tZSBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgc2VsZWN0ZWRIZWFkZXJWaWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkVkaXRWaWV3KCk7XHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHB1YmxpYyBsaXN0T3B0aW9uczogYW55ID0geyBzZWxlY3RDYWxsYmFjazogbnVsbCwgaW5kZXhDb250cm9sbGVyOiBudWxsIH07XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkUHJvZmlsZTogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmVUYWJJbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0T3B0aW9ucyA9IHsgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0ge307XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignZW1wQ2hhbmdlU2FsYXJ5U2VsZWN0ZWRQcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZW1wQ2hhbmdlU2FsYXJ5VHJhbnNIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBDaGFuZ2VTYWxhcnlUcmFuc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvbW9kdWxlLnRzXCIgLz5cclxuIG1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBPcmdDaGFydCAge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgb3JnQ2hhcnQ6IGFueSA9IHsgdHJlZU9wdGlvbnM6IG51bGwgfTtcclxuICAgICAgICBwcml2YXRlIGZvcm1JZDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIHByaXZhdGUgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtSWQgPSBzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkOyAvLyAkc3RhdGVQYXJhbXMuZm9ybUlkO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudExvZ2luID0gSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgdGhpcy5vcmdDaGFydC50cmVlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGZvcm1JZDogdGhpcy5mb3JtSWQsIHVzZXJJZDogY3VycmVudExvZ2luLlVzZXIuVXNlcklkLCBsYW5nSWQ6IGN1cnJlbnRMb2dpbi5MYW5ndWFnZS5MYW5nSWRcclxuICAgICAgICAgICAgICAgICwgY29tcGFueUlkOiBjdXJyZW50TG9naW4uQ29tcGFueS5Db21wYW55SWQsIHRyZWVJZDogMiwgdmFsdWVGaWVsZDogJ1RyZWVOb2RlSWQnLCB0ZXh0RmllbGQ6ICdjb250ZW50J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCd1bml0T3JnQ2hhcnRDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE9yZ0NoYXJ0KHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG59XHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGludGVyZmFjZSBJVmFjYXRpb25UcmFuc0V2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBFbXBCYXNpY0l0ZW1UcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgICAgIHByaXZhdGUgZW1wQXNzaWdubWVudElkOiBudW1iZXI7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldERhdGFCeVBhcmVudElkXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCkpIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmVtcEFzc2lnbm1lbnRJZD0nICsgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlFbXBBc3NpZ25tZW50SWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdlbXBCYXNpY0l0ZW1UcmFuc2FjdGlvbkNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgRW1wQmFzaWNJdGVtVHJhbnNhY3Rpb24odHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFbXBCYXNpY0l0ZW1UcmFuc0hvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcyB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRFbXBCYXNpY0l0ZW1Qcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZW1wQmFzaWNJdGVtVHJhbnNIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBCYXNpY0l0ZW1UcmFuc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBpbnRlcmZhY2UgSVZhY2F0aW9uVHJhbnNFdmVudCB7XHJcbiAgICAgICAgZGVmYXVsdEFjdGlvbjogYW55XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgRW1wUGF5bWVudE1ldGhvZCBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgICAgIHByaXZhdGUgZW1wQXNzaWdubWVudElkOiBudW1iZXI7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldERhdGFCeVBhcmVudElkXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCkpIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmVtcEFzc2lnbm1lbnRJZD0nICsgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlFbXBBc3NpZ25tZW50SWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdlbXBQYXltZW50TWV0aG9kQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBQYXltZW50TWV0aG9kKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRW1wUGF5bWVudE1ldGhvZEhvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcyB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRFbXBQYXltZW50TWV0aG9kJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZW1wUGF5bWVudE1ldGhvZEhvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVtcFBheW1lbnRNZXRob2RIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGludGVyZmFjZSBJc3RvcFNhbEV2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICBpbnRlcmZhY2UgSUxvYW5UcmFuc0V2ZW50IHtcclxuICAgICAgICBzZWxlY3RlZEl0ZW1DaGFuZ2VkOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3Mgc3RvcFNhbCBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBlbXBBc3NpZ25tZW50SWQ6IG51bWJlcjtcclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGxvYW5UcmFuc0dyaWQ6IEdyaWRcclxuICAgICAgICAvL3ByaXZhdGUgbG9hblRyYW5zYWN0aW9uczogW107XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEdldERhdGFCeVBhcmVudElkXHJcblxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQpKSBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignc3RvcFNhbENvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RvcFNhbCh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIHN0b3BTYWxIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHVibGljIGxpc3RPcHRpb25zOiBhbnkgPSB7IHNlbGVjdENhbGxiYWNrOiBudWxsLCBpbmRleENvbnRyb2xsZXI6IG51bGwgfTtcclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRQcm9maWxlOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzLCBlbmFibGVSdGw6IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRWYWNhdGlvblByb2ZpbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9wdWJsaWMgYWN0aXZhdGVUYWIodGFiKSB7XHJcbiAgICAgICAgLy8gICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIC8vfTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdzdG9wU2FsSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgc3RvcFNhbEhvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBpbnRlcmZhY2UgSUxvYW5UcmFuc2FjdGlvbkV2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBMb2FuVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlUaW1lUmFuZ2U6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgTG9hblRyYW5zYWN0aW9uUnVsZTogYW55ID0ge307XHJcblxyXG4gICAgICAgIHByaXZhdGUgbG9hbklkRXZlbnRzOiBJTG9hblRyYW5zYWN0aW9uRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBMb2FuQW1vdW50RXZlbnRzOiBJTG9hblRyYW5zYWN0aW9uRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBMb2FuSW5zdGFsbG1lbnRBbW91bnRFdmVudHM6IElMb2FuVHJhbnNhY3Rpb25FdmVudDtcclxuICAgICAgICBwcml2YXRlIExvYW5JbnN0YWxsbWVudE51bWJlckV2ZW50czogSUxvYW5UcmFuc2FjdGlvbkV2ZW50O1xyXG5cclxuICAgICAgICBwcml2YXRlIGxvYW5UcmFuc0dyaWQ6IEdyaWRcclxuICAgICAgICBwcml2YXRlIGxvYW5UcmFuc2FjdGlvbnM6IEFycmF5PGFueT4gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IFRyYW5zYWN0aW9uIEV2ZW50c1xyXG4gICAgICAgICAgICB0aGlzLmxvYW5JZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5sb2FuSWRDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMuTG9hbkFtb3VudEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5jaGVja0xvYW5BbW91bnRDYWhuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMuTG9hbkluc3RhbGxtZW50QW1vdW50RXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmNoZWNrTG9hbkluc3RhbGxtZW50QW1vdW50IH07XHJcbiAgICAgICAgICAgIHRoaXMuTG9hbkluc3RhbGxtZW50TnVtYmVyRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmNoZWNrTG9hbkluc3RhbGxtZW50TnVtYmVyIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBsb2FuVHJhbnNHcmlkQ29sdW1uRGVmcyA9IFtcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogXCJQYXlyb2xsWWVhclwiLCBmaWVsZDogXCJQYXlyb2xsWWVhclwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IFwiUGF5cm9sbE1vbnRoXCIsIGZpZWxkOiBcIlBheXJvbGxNb250aFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IFwiUGF5cm9sbFJ1bk5hbWVcIiwgZmllbGQ6IFwiUGF5cm9sbFJ1bk5hbWVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBcIkVtcExvYW5TZXR0bGVtZW50Q29kZVwiLCBmaWVsZDogXCJFbXBMb2FuU2V0dGxlbWVudENvZGVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBcIkluc3RhbGxtZW50QW1vdW50XCIsIGZpZWxkOiBcIkluc3RhbGxtZW50QW1vdW50XCIgfVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmxvYW5UcmFuc0dyaWQgPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAnbG9hblRyYW5zR3JpZCcsXHJcbiAgICAgICAgICAgICAgICBncmlkT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RhdGE6IHRoaXMubG9hblRyYW5zYWN0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBsb2FuVHJhbnNHcmlkQ29sdW1uRGVmc1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdyaWRDb2x1bW5EZWZzOiBsb2FuVHJhbnNHcmlkQ29sdW1uRGVmc1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25FZGl0Q2xpY2tlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RW1wTG9hbkluc3RhbGxtZW50cyh0aGlzLmRhdGFJdGVtLkVtcExvYW5JZCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQpKSBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RW1wTG9hbkluc3RhbGxtZW50cyA9IChlbXBMb2FuSWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKGVtcExvYW5JZCkpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJz9lbXBMb2FuSWQ9JyArIGVtcExvYW5JZDtcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEVtcExvYW5JbnN0YWxsbWVudHMnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYW5UcmFuc2FjdGlvbnMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9FdmVudCBsb2FuSWQgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgbG9hbklkQ2hhbmdlZCA9IChsb2FuSWQpID0+IHtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2hlY2sgTG9hbiBJbnN0YWxsbWVudCBOdW1iZXIgQnkgTG9hbkFtb3VudENoYW5nZWRcclxuICAgICAgICBwcml2YXRlIGNoZWNrTG9hbkFtb3VudENhaG5nZWQgPSAobG9hbkFtb3VudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobG9hbkFtb3VudCAhPSBudWxsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5Mb2FuSW5zdGFsbWVudE51bWJlciA9IGxvYW5BbW91bnQgLyB0aGlzLmRhdGFJdGVtLkxvYW5JbnN0YWxtZW50QW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NoZWNrIExvYW4gSW5zdGFsbG1lbnQgQW1vdW50IEJ5IExvYW5JbnN0YWxsbWVudE51bWJlckNoYW5nZWRcclxuICAgICAgICBwcml2YXRlIGNoZWNrTG9hbkluc3RhbGxtZW50QW1vdW50ID0gKGluc3RhbGxtZW50QW1vdW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbnN0YWxsbWVudEFtb3VudCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkxvYW5JbnN0YWxtZW50TnVtYmVyID0gTWF0aC5jZWlsKHRoaXMuZGF0YUl0ZW0uTG9hbkFtb3VudCAvIGluc3RhbGxtZW50QW1vdW50KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY2hlY2sgTG9hbiBJbnN0YWxsbWVudCBBbW91bnQgQnkgTG9hbkluc3RhbGxtZW50TnVtYmVyQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgY2hlY2tMb2FuSW5zdGFsbG1lbnROdW1iZXIgPSAoaW5zdGFsbG1lbnROdW1iZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluc3RhbGxtZW50TnVtYmVyID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uTG9hbkluc3RhbG1lbnRBbW91bnQgPSB0aGlzLmRhdGFJdGVtLkxvYW5BbW91bnQgLyBpbnN0YWxsbWVudE51bWJlcjtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdsb2FuVHJhbnNhY3Rpb25Db250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IExvYW5UcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExvYW5UcmFuc2FjdGlvbkhvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcyB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkTG9hblRyYW5zYWN0aW9uUHJvZmlsZScpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvL3B1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAvLyAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgLy99O1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2xvYW5UcmFuc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IExvYW5UcmFuc2FjdGlvbkhvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBpbnRlcmZhY2UgSUVtcFBheXJvbGxWYXJpYWJsZUl0ZW1FdmVudCB7XHJcbiAgICAgICAgZGVmYXVsdEFjdGlvbjogYW55XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgRW1wUGF5cm9sbFZhcmlhYmxlSXRlbVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyOyAgICBcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmZW1wQXNzaWdubWVudElkPScgKyBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeUVtcEFzc2lnbm1lbnRJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiBcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZW1wUGF5cm9sbFZhcmlhYmxlSXRlbVRyYW5zYWN0aW9uQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBQYXlyb2xsVmFyaWFibGVJdGVtVHJhbnNhY3Rpb24odHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBFbXBQYXlyb2xsVmFyaWFibGVJdGVtVHJhbnNIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHVibGljIGxpc3RPcHRpb25zOiBhbnkgPSB7IHNlbGVjdENhbGxiYWNrOiBudWxsLCBpbmRleENvbnRyb2xsZXI6IG51bGwgfTtcclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRQcm9maWxlOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RPcHRpb25zID0geyBzZWxlY3RDYWxsYmFjazogdGhpcy5zZWxlY3RDbGlja2VkLCBpbmRleENvbnRyb2xsZXI6IHRoaXMgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkRW1wUGF5cm9sbFZhcmlhYmxlSXRlbVRyYW5zYWN0aW9uUHJvZmlsZScpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAvL3B1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAvLyAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgLy99O1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VtcFBheXJvbGxWYXJpYWJsZUl0ZW1UcmFuc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVtcFBheXJvbGxWYXJpYWJsZUl0ZW1UcmFuc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIGV4Y2VsSGVhZGVyc0hvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICAvL3B1YmxpYyBsaXN0T3B0aW9uczogYW55ID0geyBzZWxlY3RDYWxsYmFjazogbnVsbCwgaW5kZXhDb250cm9sbGVyOiBudWxsIH07XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkUHJvZmlsZTogYW55ID0ge307XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRWRpdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgLy8gIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEgPSBuZXcgQmFzZUZvcm1EYXRhKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgZm9ybSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHRoaXMuRm9ybURhdGEuZGF0YUl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuRm9ybURhdGEuZGF0YUxpc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Mb2FkU3ViRm9ybXMoKTtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvLyB0aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZGV4Y2VsSGVhZGVyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcbiAgICAgICAgcHVibGljIGFkZE5ld0NsaWNrZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5kYXRhSXRlbSA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlJlZk5vID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgLy90aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZGV4Y2VsSGVhZGVyJyk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdleGNlbEhlYWRlcnNIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBleGNlbEhlYWRlcnNIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXBsb2FkUGF5cm9sbFZhcmlhYmxlSXRlbXNIb21lIGV4dGVuZHMgZXhjZWxIZWFkZXJzSG9tZSB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRleGNlbE1vbnRobHlTZXR0bEhlYWRlcicpO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGROZXdDbGlja2VkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuZGF0YUl0ZW0gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5SZWZObyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3VwbG9hZFBheXJvbGxWYXJpYWJsZUl0ZW1zSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVXBsb2FkUGF5cm9sbFZhcmlhYmxlSXRlbXNIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXBsb2FkUGF5cm9sbFZhcmlhYmxlSXRlbXMgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSB4bHNPcHRpb25zID0geyBkYXRhOiBbXSwgZmlsZU5hbWU6IFwiXCIsIG9uQ2hhbmdlZDogbnVsbCwgb25DbGljazogbnVsbCB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHNtYXJ0QUxlcnQ6IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydDtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgUmVmTm86IG51bWJlciA9IDA7O1xyXG4gICAgICAgIHByaXZhdGUgRmlsZU5hbWU6IHN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgcHJpdmF0ZSBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZS5mb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0ID0gbmV3IEhDTVMuQ29udHJvbHMuU21hcnRBbGVydCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4VmlldztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkRlbGV0ZUNhbGxiYWNrID0gdGhpcy5kZWxldGVDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3BlLiR3YXRjaCgoKSA9PiB0aGlzLnNjb3BlLnBhcmVudEl0ZW0uUmVmTm8sXHJcbiAgICAgICAgICAgICAgICAgICAgKG5ld1ZhbHVlOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZk5vID0gTnVtYmVyLnBhcnNlSW50KG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZk5vID0gdGhpcy5SZWZObztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCeVJlZk5vKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5ldygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuY3JlYXRlTmV3KCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgdGhpcy5SZWZObyA9IEV4Y2VsSGVhZGVyLnNlbGVjdGVkUHJvZmlsZVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnhsc09wdGlvbnMub25DbGljayA9IHRoaXMuY2xlYXJTZWxlY3RlZEZpbGU7XHJcbiAgICAgICAgICAgIC8vdGhpcy54bHNPcHRpb25zLm9uQ2hhbmdlZCA9IHRoaXMuZW1wb3J0RGF0YUNoYW5nZWQ7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBMb2FkRnJvbUV4Y2VsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuZGJNYW5hZ2VyLlBvc3QodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkdldExpc3RcIiwgXCJcIiwgZGF0YSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLmRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgIC8vfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNtYXJ0QUxlcnQuRXJyb3IocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAvL30pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLlJlZk5vIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiUGxlYXNlIGVudGVyIFJlZmVyZW5jZSBOb1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90aGlzLkZpbGVOYW1lID0gKHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBudWxsIHx8IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBcIlwiID8gXCJ0ZXh0XCIgOiB0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5GaWxlTmFtZSA9IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnhsc09wdGlvbnMuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLkZpbGVOYW1lID09IG51bGwgfHwgdGhpcy5GaWxlTmFtZSA9PSBcIlwiIHx8IGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBzZWxlY3QgZmlsZSBmb3IgdXBsb2FkLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vICsgXCImZmlsZU5hbWU9XCIgKyB0aGlzLkZpbGVOYW1lO1xyXG5cclxuICAgICAgICAgICAgLy9pZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3N0UmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlNhdmVMaXN0XCIsIHF1ZXJ5U3RyaW5nLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2xlYXJTZWxlY3RlZEZpbGUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLndyYXAoJzxmb3JtPicpLmNsb3Nlc3QoJ2Zvcm0nKS5nZXQoMCkucmVzZXQoKTtcclxuICAgICAgICAgICAgZS51bndyYXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cclxuICAgICAgICAgICAgLy9lLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0TGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TGlzdFwiLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlTmV3ID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TWF4UmVmTm9cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHRoaXMuUmVmTm8gPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGxvYWRCeVJlZk5vID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5SZWZObyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBlbnRlciBSZWZlcmVuY2UgTm9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RJdGVtTGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZ3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZhciByZXN1bHQyID0gYXdhaXQgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJSZWNvcmRzIGhhcyBiZWVuIHBvc3RlZCBzdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiWW91IG11c3Qgc2VsZWN0IHJlY29yZChzKSB0byBwb3N0LlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0SXRlbUxpc3QgPSBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhlc2UgaXRlbXNcIiwgXCJcIiwgYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5ncmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlVuUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgcmVzdWx0MiA9IGF3YWl0IHRoaXMuZ2V0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5BbGVydChcIlJlY29yZHMgaGFzIGJlZW4gcG9zdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0Lldhcm5pbmcoXCJZb3UgbXVzdCBzZWxlY3QgcmVjb3JkKHMpIHRvIHVucG9zdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2ZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBkZWxldGVSZWZObyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoZXNlIGl0ZW1zXCIsIFwiXCIsIGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9yZWZObz1cIiArIHRoaXMuUmVmTm87XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuRGVsZXRlUHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiRGVsZXRlXCIsIHF1ZXJ5U3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gbmV3IEhDTVMuQ29udHJvbHMubWVzc2FnZUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuTWVzc2FnZUNvbmZpcm1hdGlvbihyZXN1bHQuZGF0YSwgXCJEZWxldGVkIFN1Y2Nlc3NmdWx5XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQnlSZWZObygpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNhdmVJdGVtTGlzdCA9ICh2YWxpZCkgPT4ge1xyXG4gICAgICAgIC8vICAgIGlmICh0aGlzLnhsc09wdGlvbnMuZGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgIC8vICAgICAgICAvLyB2YXIgZGF0YSA9IEpTT04ucGFyc2UodGhpcy54bHNPcHRpb25zLmRhdGEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgLy8gICAgICAgIHZhciBkYXRhID0gdGhpcy5kYXRhTGlzdDsvLyBKU09OLnN0cmluZ2lmeSh0aGlzLnhsc09wdGlvbnMuZGF0YSk7XHJcbiAgICAgICAgLy8gICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlNhdmVMaXN0XCIsIFwiXCIsIGRhdGEsIChyZXN1bHQpID0+IHtcclxuXHJcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJTYXZlZCBTdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgIC8vICAgICAgICB9LCAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuRXJyb3IocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgIC8vICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyAgICB9XHJcblxyXG4gICAgICAgIC8vfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGRlbGV0ZUNsaWNrZWQgPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBpdGVtXCIsIFwiXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUxpc3QuaW5kZXhPZihpdGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZGVsZXRlU2VsZWN0ZWRSb3dzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhpcyBpdGVtXCIsIFwiXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLmdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgZW50cnkgb2Ygc2VsZWN0ZWRSb3dzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigndXBsb2FkUGF5cm9sbFZhcmlhYmxlSXRlbXNDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVwbG9hZFBheXJvbGxWYXJpYWJsZUl0ZW1zKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBpbnRlcmZhY2UgSUxvYW5TZXR0bGVtZW50RXZlbnQge1xyXG4gICAgICAgIGRlZmF1bHRBY3Rpb246IGFueVxyXG4gICAgfVxyXG5cclxuICAgIGludGVyZmFjZSBJTG9hblRyYW5zRXZlbnQge1xyXG4gICAgICAgIHNlbGVjdGVkSXRlbUNoYW5nZWQ6IGFueVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBsb2FuU2V0dGxlbWVudCBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVBvc3RQb25SYW5nZTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVNldGxsbWVudEFtb3VudDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZW1wQXNzaWdubWVudElkOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBlbXBMb2FuOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIGdsb2JhbFJlbWFpbmluZzogbnVtYmVyO1xyXG5cclxuICAgICAgICBwcml2YXRlIExvYW5Gcm9tRGF0ZUV2ZW50czogSUxvYW5TZXR0bGVtZW50RXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBMb2FuVG9EYXRlRXZlbnRzOiBJTG9hblNldHRsZW1lbnRFdmVudDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBlbXBMb2FuSWRFdmVudHM6IElMb2FuVHJhbnNFdmVudFxyXG4gICAgICAgIHByaXZhdGUgc3lzdGVtTG9hbnNldHRsZW1lbnRUeXBlOiBJTG9hblNldHRsZW1lbnRFdmVudFxyXG4gICAgICAgIHByaXZhdGUgc2V0dGxlbWVudEFtb3VudEV2ZW50czogSUxvYW5TZXR0bGVtZW50RXZlbnRcclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIExvYW5Gcm9tVGltZUV2ZW50czogSUxvYW5TZXR0bGVtZW50RXZlbnRcclxuICAgICAgICBwcml2YXRlIExvYW5Ub1RpbWVFdmVudHM6IElMb2FuU2V0dGxlbWVudEV2ZW50XHJcblxyXG4gICAgICAgIHByaXZhdGUgbG9hblRyYW5zT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgLy9wcml2YXRlIGxvYW5UcmFuc0dyaWQ6IEdyaWRcclxuICAgICAgICAvL3ByaXZhdGUgbG9hblRyYW5zYWN0aW9uczogW107XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IFRyYW5zYWN0aW9uIEV2ZW50c1xyXG4gICAgICAgICAgICAvL3RoaXMuTG9hbkZyb21EYXRlRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmZyb21EYXRlQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICAvL3RoaXMuTG9hblRvRGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy50b0RhdGVDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIC8vdGhpcy5Mb2FuRGF5c0V2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5kYXlzQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICAvL3RoaXMuTG9hblBhcnREYXRlRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLnBhcnREYXRlQ2hhbmdlZCB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lbXBMb2FuSWRFdmVudHMgPSB7IHNlbGVjdGVkSXRlbUNoYW5nZWQ6IHRoaXMuZW1wTG9hbklkQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbUxvYW5zZXR0bGVtZW50VHlwZSA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5TeXN0ZW1Mb2FuU2V0dGxlbWVudFR5cGVJZENoYW5nZWQgfVxyXG4gICAgICAgICAgICB0aGlzLnNldHRsZW1lbnRBbW91bnRFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMuU2V0dGxlbWVudEFtb3VudENoYW5nZWQgfVxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5sb2FuVHJhbnNPcHRpb25zID0geyBDb250cm9sVHlwZU5hbWU6ICdzZWxlY3QnLCBEcm9wRG93bklkOiAwLCBTZWxlY3REaXNwbGF5VmFsdWU6ICdFbXBMb2FuSWQnLCBTZWxlY3REaXNwbGF5TmFtZTogJ0xvYW5EZXRhaWxzJywgU2VsZWN0RGlzcGxheU5hbWVfOiAnTG9hbkRldGFpbHNfJyB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5sb2FuVHJhbnNHcmlkLmdyaWRPcHRpb25zXHJcblxyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG5cclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmZW1wQXNzaWdubWVudElkPScgKyBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeUVtcEFzc2lnbm1lbnRJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25FZGl0Q2xpY2tlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RW1wTG9hbnModGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DaGVja1N5c2VtTG9hblNldHRsZW1udFR5cGUodGhpcy5kYXRhSXRlbS5TeXN0ZW1Mb2FuU2V0dGxlbWVudFR5cGVJZCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLk9uQ3JlYXRlTmV3Q2xpY2tlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RW1wTG9hbnModGhpcy5wYXJlbnRJdGVtW3RoaXMucGFyZW50SWRGaWVsZE5hbWVdKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBDbG9zZVNldHRsZW1lbnRUcmFuc2FjdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VMb2FuU2V0dGxlbWVudCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBjbG9zZUxvYW5TZXR0bGVtZW50ID0gKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP2VtcExvYW5TZXR0bGVtZW50SWQ9XCIgKyB0aGlzLmRhdGFJdGVtLkVtcExvYW5TZXR0bGVtZW50SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJFbXBMb2FuU2V0dGxlbWVudFwiLCBcIkNsb3NlVHJhbnNhY3Rpb25cIiwgcXVlcnlTdHJpbmcsIG51bGwsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjayhyZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBIQ01TLkNvbnRyb2xzLm1lc3NhZ2VIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLk1lc3NhZ2VDb25maXJtYXRpb24ocmVzdWx0LmRhdGEsIFwiQ2xvc2VkIFN1Y2Nlc3NmdWx5XCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FdmVudCBlbXBMb2FuSWQgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgZW1wTG9hbklkQ2hhbmdlZCA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uT3JpZ2luYWxGcm9tWWVhciA9IGl0ZW0uRnJvbVllYXI7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uT3JpZ2luYWxGcm9tTW9udGggPSBpdGVtLkZyb21Nb250aDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5SZW1haW5pbmdBbW91bnQgPSBpdGVtLkxvYW5SZW1haW5pbmdBbW91bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsUmVtYWluaW5nID0gaXRlbS5Mb2FuUmVtYWluaW5nQW1vdW50O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkxvYW5Ub3RhbFBhaWRBbW91bnQgPSBpdGVtLkxvYW5Ub3RhbFBhaWRBbW91bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uTG9hbkFtb3VudCA9IGl0ZW0uTG9hbkFtb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0RW1wTG9hbnMgPSAoZW1wQXNzaWdubWVudElkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChlbXBBc3NpZ25tZW50SWQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9IFwiPyZlbXBBc3NpZ25tZW50SWQ9XCIgKyBlbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRFbXBMb2FucycsIHF1ZXJ5U3RyaW5nLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hblRyYW5zT3B0aW9ucy5hcGkuc2V0SXRlbXNMaXN0KHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vRXZlbnQgU3lzdGVtTG9hblNldHRsZW1lbnRUeXBlSWQgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgU3lzdGVtTG9hblNldHRsZW1lbnRUeXBlSWRDaGFuZ2VkID0gKHN5c3RlbUxvYW5TZXR0bGVtZW50VHlwZUlkKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hlY2tTeXNlbUxvYW5TZXR0bGVtbnRUeXBlKHN5c3RlbUxvYW5TZXR0bGVtZW50VHlwZUlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgQ2hlY2tTeXNlbUxvYW5TZXR0bGVtbnRUeXBlKHN5c3RlbUxvYW5TZXR0bGVtZW50VHlwZUlkKSB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChzeXN0ZW1Mb2FuU2V0dGxlbWVudFR5cGVJZCkpIHJldHVybjtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgIGlmIChzeXN0ZW1Mb2FuU2V0dGxlbWVudFR5cGVJZCA9PSAyKSAvLyBTZXRsbGVtdG50XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVNldGxsbWVudEFtb3VudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlQb3N0UG9uUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uU2V0dGxlbWVudEFtb3VudCA9IHRoaXMuZGF0YUl0ZW0uUmVtYWluaW5nQW1vdW50O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5SZW1haW5pbmdBbW91bnQgPSB0aGlzLmdsb2JhbFJlbWFpbmluZyAtIHRoaXMuZGF0YUl0ZW0uU2V0dGxlbWVudEFtb3VudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzeXN0ZW1Mb2FuU2V0dGxlbWVudFR5cGVJZCA9PSAzKSB7IC8vUG9zdFBvbmVcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVNldGxsbWVudEFtb3VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UG9zdFBvblJhbmdlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uU2V0dGxlbWVudEFtb3VudCA9IDA7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FdmVudCBTZXR0bG1lbnRBbW91bnQgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgU2V0dGxlbWVudEFtb3VudENoYW5nZWQgPSAoc2V0dGxlbWVudEFtb3VudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkNoZWNrU2V0dGxlbWVudEFtb3VudENoYW5nZWQoc2V0dGxlbWVudEFtb3VudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIENoZWNrU2V0dGxlbWVudEFtb3VudENoYW5nZWQoc2V0dGxlbWVudEFtb3VudCkge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoc2V0dGxlbWVudEFtb3VudCkpIHJldHVybjtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5SZW1haW5pbmdBbW91bnQgPSB0aGlzLmdsb2JhbFJlbWFpbmluZyAtIHNldHRsZW1lbnRBbW91bnQ7XHJcbiAgICAgICAgICAgIC8vaWYgKHRoaXMuZGF0YUl0ZW0uU3lzdGVtTG9hblNldHRsZW1lbnRUeXBlSWQgPSAyICYmIHNldHRsZW1lbnRBbW91bnQgPCB0aGlzLmVtcExvYW4uTG9hblJlbWFpbmluZ0Ftb3VudCkgLy9GdWtrIFNldGxsZW10bnRcclxuICAgICAgICAgICAgLy97XHJcbiAgICAgICAgICAgIC8vICAgIC8vU2hvdyBFcnJvciBNZXNzYWdlXHJcbiAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2xvYW5TZXR0bGVtZW50Q29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBsb2FuU2V0dGxlbWVudCh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIExvYW5TZXR0bGVtZW50SG9tZSBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgc2VsZWN0ZWRIZWFkZXJWaWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkVkaXRWaWV3KCk7XHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHB1YmxpYyBsaXN0T3B0aW9uczogYW55ID0geyBzZWxlY3RDYWxsYmFjazogbnVsbCwgaW5kZXhDb250cm9sbGVyOiBudWxsIH07XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkUHJvZmlsZTogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmVUYWJJbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0T3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkVmFjYXRpb25Qcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignbG9hblNldHRsZW1lbnRIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2FuU2V0dGxlbWVudEhvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBcclxuICAgIGV4cG9ydCBjbGFzcyBMb2FuUG9zdFRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9maWxlSWQ6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIHByb2dyZXNzQ2FsY09wdGlvbnNcclxuICAgICAgICBwcml2YXRlIHJ1blN0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgc3RvcFN0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgc2hvd1Byb2dyZXNzU3RhdHVzOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5RGF0YVN0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZ3JpZE9wdGlvbnM6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksIHRpbWVvdXQ6IG5nLklUaW1lb3V0U2VydmljZSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LnByb2ZpbGVJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QucHJvZmlsZUlkKSkgY3VycmVudE9iamVjdC5wcm9maWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmcHJvZmlsZUlkPScgKyBjdXJyZW50T2JqZWN0LnByb2ZpbGVJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVByb2ZpbGVJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdyaWRPcHRpb25zID0geyBTZWxlY3RCdXR0b246IGZhbHNlLCBFZGl0QnV0dG9uOiBmYWxzZSwgRGVsZXRlQnV0dG9uOiBmYWxzZSwgZW5hYmxlUXVpY2tGaWx0ZXI6IHRydWUsIGVuYWJsZVJ0bDogSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nRGlyZWN0aW9uID09PSAncnRsJyA/IHRydWUgOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICB0aGlzLmdyaWRPcHRpb25zLmNvbHVtbkRlZnMgPSB0aGlzLmdyaWRDb2x1bW5zO1xyXG4gICAgICAgICAgICB0aGlzLmdyaWRPcHRpb25zLnJvd0RhdGEgPSB0aGlzLmRhdGFMaXN0O1xyXG5cclxuICAgICAgICAgICAgdGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmNoZWNrSWZQcm9ncmVzc1J1bm5pbmcoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuc3RhcnRQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJ1bigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgcHJpdmF0ZSBydW4gPSAgKHZhbGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmNoZWNrSWZQcm9ncmVzc1J1bm5pbmcodGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLnN0YXJ0UHJvZ3Jlc3MoICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJ1bigpO1xyXG4gICAgICAgICAgICAgICAgfSksIHRoaXMuc3RhcnRDYWxjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgcHJpdmF0ZSBzdGFydENhbGMgPSAgKCkgPT4ge1xyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP2Zvcm1JZD1cIiArIDA7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImdXNlcklkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Vc2VyLlVzZXJJZDtcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZsYW5nSWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdJZDtcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxHcm91cElkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsUnVuTm89XCIgKyB0aGlzLmRhdGFJdGVtLlJ1bk5vO1xyXG4gICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxZZWFyPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsTW9udGg9XCIgKyB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuc3RhcnRQcm9ncmVzcyggKCkgPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJ1bigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJMb2FuUG9zdFwiLCBcIlJ1blwiLCBxdWVyeVN0cmluZywgdGhpcy5kYXRhSXRlbS5Mb2FuSWQsICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLnN0b3BQcm9ncmVzcyggKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlUnVuKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldENhbGN1bGF0ZWREYXRhKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wQ2FsYygpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2hvd01vZGFsID0gICgpID0+IHtcclxuICAgICAgICAkKCcjbG9hblBvc3RNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgaGlkZU1vZGFsID0gICgpID0+IHtcclxuICAgICAgICAkKCcjbG9hblBvc3RNb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc3RvcENhbGMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLnN0b3BQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlUnVuKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd1Byb2dyZXNzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlUnVuKCk7XHJcbiAgICAgICAgfSwgbnVsbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgZW5hYmxlUnVuID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMucnVuU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN0b3BTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNob3dQcm9ncmVzc1N0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZGlzcGxheURhdGFTdGF0dXMgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGlzYWJsZVJ1biA9ICAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5ydW5TdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0b3BTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2hvd1Byb2dyZXNzU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlEYXRhU3RhdHVzID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBwcml2YXRlIGdldENhbGN1bGF0ZWREYXRhID0gKCkgPT4ge1xyXG5cclxuICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9mb3JtSWQ9XCIgKyAwO1xyXG4gICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnVzZXJJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uVXNlci5Vc2VySWQ7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImbGFuZ0lkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQ7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFJ1bk5vPVwiICsgdGhpcy5kYXRhSXRlbS5SdW5ObztcclxuICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIkxvYW5Qb3N0XCIsIFwiR2V0Q2FsY3VsYXRlZEVtcGxveWVlc1wiLCBxdWVyeVN0cmluZywgdGhpcy5kYXRhSXRlbS5Mb2FuSWQsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICB9LCAocmVzcG9uc2UpID0+IHtcclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBwcml2YXRlIGdyaWRDb2x1bW5zID0gW1xyXG4gICAgICAgIHsgZmllbGQ6ICdQcm9maWxlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JywgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVUZXh0KCdQcm9maWxlQ29kZScpIH0sXHJcbiAgICAgICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ1Byb2ZpbGVOYW1lJykgfSxcclxuICAgICAgICB7IGZpZWxkOiAnTG9hbk5hbWUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcsIGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlVGV4dCgnTG9hbk5hbWUnKSB9LFxyXG4gICAgICAgIHsgZmllbGQ6ICdJbnN0YWxsbWVudEFtb3VudCcsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICdudW1iZXInLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ0luc3RhbGxtZW50QW1vdW50JykgfVxyXG5cclxuICAgIF1cclxuICAgIFxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2xvYW5Qb3N0VHJhbnNhY3Rpb25Db250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHRpbWVvdXQnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2FuUG9zdFRyYW5zYWN0aW9uKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkdGltZW91dCwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgaW50ZXJmYWNlIElQYXlyb2xsQ2FsY1NhbGFyeUV2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICAvL2ludGVyZmFjZSBJRW1wUGF5cm9sbEhlYWRlciB7XHJcblxyXG4gICAgLy8gICAgRW1wUGF5cm9sbEhlYWRlcklkOiBudW1iZXI7XHJcbiAgICAvLyAgICBFbXBBc3NpZ25tZW50SWQ6IG51bWJlcjtcclxuICAgIC8vICAgIFBheXJvbGxZZWFyOiBudW1iZXI7XHJcbiAgICAvLyAgICBQYXlyb2xsTW9udGg6IG51bWJlcjtcclxuICAgIC8vICAgIFBheXJvbGxSdW5JZDogbnVtYmVyO1xyXG4gICAgLy8gICAgUGF5cm9sbEdyb3VwSWQ6IG51bWJlcjtcclxuXHJcbiAgICAvL31cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRW1wUGF5cm9sbEhlYWRlciB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICAgICAgcHVibGljIEVtcFBheXJvbGxIZWFkZXJJZDogbnVtYmVyID0gMDtcclxuICAgICAgICBwdWJsaWMgRW1wQXNzaWdubWVudElkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHB1YmxpYyBQYXlyb2xsWWVhcjogbnVtYmVyID0gMDtcclxuICAgICAgICBwdWJsaWMgUGF5cm9sbE1vbnRoOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHB1YmxpYyBQYXlyb2xsUnVuSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcHVibGljIFBheXJvbGxHcm91cElkOiBudW1iZXIgPSAwO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUGF5cm9sbENhbGNTYWxhcnkgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHByb2ZpbGVJZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NDYWxjT3B0aW9uczogYW55XHJcbiAgICAgICAgcHJpdmF0ZSBydW5TdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHN0b3BTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHNob3dQcm9ncmVzc1N0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheURhdGFTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxHcm91cElkOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsR3JvdXA6IGFueSA9IHt9O1xyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwcm9ncmVzc0lkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NUeXBlSWQ6IG51bWJlciA9IDI7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbEdyb3VwSWRFdmVudHM6IElQYXlyb2xsQ2FsY1NhbGFyeUV2ZW50XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2FsYXJ5SGVhZGVyRGF0YTogQXJyYXk8YW55PiA9IFtdO1xyXG5cclxuICAgICAgICBwcml2YXRlIGVhcm5pbmdHcmlkOiBhbnkgPSB7IGdyaWRPcHRpb25zOiB7fSwgZ3JpZENvbHVtbkRlZnM6IFtdIH07XHJcbiAgICAgICAgcHJpdmF0ZSBkZWR1Y3Rpb25HcmlkOiBhbnkgPSB7IGdyaWRPcHRpb25zOiB7fSwgZ3JpZENvbHVtbkRlZnM6IFtdIH07XHJcbiAgICAgICAgcHJpdmF0ZSBzYWxhcnlFYXJuaW5nRGF0YTogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgc2FsYXJ5RGVkdWN0aW9uRGF0YTogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzZWxlY3RlZEFzc2lnbm1lbnRzOiBBcnJheTxhbnk+ID0gW107XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2VsZWN0ZWRIZWFkZXJEYXRhOiBhbnkgPSB7fTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgdG90YWxSdW5TYWxhcnkgPSB7XHJcbiAgICAgICAgICAgIHRvdGFsRWFybmluZzogMCwgdG90YWxEZWR1Y3Rpb246IDAsIHRvdGFsTmV0OiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJGZpbHRlcjogbmcuSUZpbHRlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBUcmFuc2FjdGlvbiBFdmVudHNcclxuICAgICAgICAgICAgdGhpcy5wYXlyb2xsR3JvdXBJZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5nZXRQYXlyb2xsR3JvdXAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gJGZpbHRlcjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucyA9IHsgcHJvZ3Jlc3NUaXRsZTogXCJQYXlyb2xsIENhbGMgU2FsYXJ5XCIgfTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoXCJTeXN0ZW1Qcm9ncmVzc1wiLCBcIkdldEJ5UHJvZ3Jlc3NUeXBlSWRcIiwgXCI/cHJvZ3Jlc3NUeXBlSWQ9MlwiLCAocmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0lkID0gcmVzdWx0LmRhdGEuUHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5saXN0T3B0aW9ucyA9IHsgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzIH07XHJcbiAgICAgICAgICAgIC8vdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHZhciBlYXJuaW5nR3JpZENvbHVtbkRlZnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IFwiUGF5SXRlbUNvZGVcIiwgZmllbGQ6IFwiUGF5SXRlbUNvZGVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBcIlBheUl0ZW1OYW1lXCIsIGZpZWxkOiBcIlBheUl0ZW1OYW1lXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogXCJBbW91bnRcIiwgZmllbGQ6IFwiQW1vdW50XCIgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB2YXIgZGVkdWN0aW9uR3JpZENvbHVtbkRlZnMgPSBbXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IFwiUGF5SXRlbUNvZGVcIiwgZmllbGQ6IFwiUGF5SXRlbUNvZGVcIiwgc3VwcHJlc3NGaWx0ZXI6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogXCJQYXlJdGVtTmFtZVwiLCBmaWVsZDogXCJQYXlJdGVtTmFtZVwiLCBzdXBwcmVzc0ZpbHRlcjogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBcIkFtb3VudFwiLCBmaWVsZDogXCJBbW91bnRcIiwgc3VwcHJlc3NGaWx0ZXI6IHRydWUgfVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuZWFybmluZ0dyaWQgPSB7XHJcbiAgICAgICAgICAgICAgICBncmlkT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd0RhdGE6IHRoaXMuc2FsYXJ5RWFybmluZ0RhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogZWFybmluZ0dyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JpZENvbHVtbkRlZnM6IGVhcm5pbmdHcmlkQ29sdW1uRGVmc1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kZWR1Y3Rpb25HcmlkID0ge1xyXG4gICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICByb3dEYXRhOiB0aGlzLnNhbGFyeURlZHVjdGlvbkRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uRGVmczogZGVkdWN0aW9uR3JpZENvbHVtbkRlZnNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uRGVmczogZGVkdWN0aW9uR3JpZENvbHVtbkRlZnNcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5jb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAvLyAgICB7IGhlYWRlck5hbWU6IFwiUGF5SXRlbUNvZGVcIiwgZmllbGQ6IFwiUGF5SXRlbUNvZGVcIiwgc3VwcHJlc3NGaWx0ZXI6IHRydWUgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBoZWFkZXJOYW1lOiBcIlBheUl0ZW1OYW1lXCIsIGZpZWxkOiBcIlBheUl0ZW1OYW1lXCIsIHN1cHByZXNzRmlsdGVyOiB0cnVlfSxcclxuICAgICAgICAgICAgLy8gICAge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgaGVhZGVyTmFtZTogXCJQcm9maWxlTmFtZVwiLCBmaWVsZDogXCJQcm9maWxlTmFtZVwiLCByb3dHcm91cDogdHJ1ZSwgaGlkZTogdHJ1ZSwgZmlsdGVyOiAndGV4dCdcclxuICAgICAgICAgICAgLy8gICAgfSxcclxuICAgICAgICAgICAgLy8gICAge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgaGVhZGVyTmFtZTogXCJFbXBsb3llZUNvZGVcIiwgZmllbGQ6IFwiRW1wbG95ZWVDb2RlXCIsIHJvd0dyb3VwOiB0cnVlLCBoaWRlOiB0cnVlLCBmaWx0ZXI6ICd0ZXh0J1xyXG5cclxuICAgICAgICAgICAgLy8gICAgfSxcclxuICAgICAgICAgICAgLy8gICAgeyBoZWFkZXJOYW1lOiBcIkFtb3VudFwiLCBmaWVsZDogXCJBbW91bnRcIiwgYWdnRnVuYzogJ3N1bScsIHN1cHByZXNzRmlsdGVyOiB0cnVlLCBlbmFibGVWYWx1ZTogdHJ1ZSB9XHJcbiAgICAgICAgICAgIC8vXTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyAgICAgICAgdGhpcy5ncmlkT3B0aW9ucyA9IHtcclxuXHJcbiAgICAgICAgICAgIC8vICAgIGNvbHVtbkRlZnM6IHRoaXMuY29sdW1uRGVmcyxcclxuICAgICAgICAgICAgLy8gICAgcm93RGF0YTogdGhpcy5zYWxhcnlIZWFkZXJEYXRhLFxyXG4gICAgICAgICAgICAvLyAgICBhbmltYXRlUm93czogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gICAgZW5hYmxlUmFuZ2VTZWxlY3Rpb246IHRydWUsXHJcbiAgICAgICAgICAgIC8vICAgIGVuYWJsZVNvcnRpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIC8vICAgIGVuYWJsZUZpbHRlcjogdHJ1ZVxyXG4gICAgICAgICAgICAvL307XHJcblxyXG5cclxuICAgICAgICAgICAgLy90aGlzLmdyaWQuZ3JpZE9wdGlvbnMuc2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuZ3JpZC5ncmlkQ29sdW1uRGVmcyA9IGNvbHVtbkRlZnM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXc7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5ncmlkLmdyaWRPcHRpb25zLnN1cHByZXNzQXV0b1NpemUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEhlYWRlckRhdGEgPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgLy90aGlzLmFjdGl2YXRlVGFiKCdzYWxhcnlEZXRhaWxzRGF0YScpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlTYWxhcnlEZXRhaWxzRGF0YSgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL3B1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAvLyAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgLy99O1xyXG5cclxuXHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIHJ1biA9ICh2YWxpZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuY2hlY2tJZlByb2dyZXNzUnVubmluZyh0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuYXBpLnN0YXJ0UHJvZ3Jlc3MoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUnVuKCk7XHJcbiAgICAgICAgICAgICAgICB9KSwgdGhpcy5zdGFydENhbGMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzdGFydENhbGMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgICAgICAvL2xldCBpZFN0cmluZyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIC8vbGV0IGlkcyA9IGlkU3RyaW5nLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAvL2lmIChpZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgZW1wQXNzaWdubWVudElkcy5wdXNoKHBhcnNlSW50KGlkKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP2Zvcm1JZD1cIiArIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnVzZXJJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uVXNlci5Vc2VySWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmxhbmdJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0lkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxSdW5JZD1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxNb250aD1cIiArIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuYXBpLnN0YXJ0UHJvZ3Jlc3MoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWJsZVJ1bigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KFwiUGF5cm9sbENhbGNTYWxhcnlcIiwgXCJSdW5cIiwgcXVlcnlTdHJpbmcsIGVtcEFzc2lnbm1lbnRJZHMsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wQ2FsYygpO1xyXG4gICAgICAgICAgICB9LCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhbGMoKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc2hvd01vZGFsID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkKCcjcGF5cm9sbENhbGNTYWxhcnlNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoaWRlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNwYXlyb2xsQ2FsY1NhbGFyeU1vZGFsJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHN0b3BDYWxjID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuYXBpLnN0b3BQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGVNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVSdW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzaG93UHJvZ3Jlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuY2hlY2tJZlByb2dyZXNzUnVubmluZygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUnVuKCk7XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgZW5hYmxlUnVuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJ1blN0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3RvcFN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dQcm9ncmVzc1N0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEYXRhU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzYWJsZVJ1biA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ydW5TdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zaG93UHJvZ3Jlc3NTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlEYXRhU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVNhbGFyeURhdGEgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlTYWxhcnlIZWFkZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlTYWxhcnlEZXRhaWxzRGF0YSgpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5U2FsYXJ5SGVhZGVyRGF0YSA9ICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9mb3JtSWQ9XCIgKyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIGdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxSdW5JZD1cIiArIHJ1bklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHllcjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgbW9uO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBlbXBBc3NpZ25tZW50SWRzOiBBcnJheTxudW1iZXI+ID0gW107XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBlbXBBc3NpZ25tZW50SWRzID0gdGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgICAgICAvL2xldCBpZFN0cmluZyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkIGFzIHN0cmluZztcclxuICAgICAgICAgICAgICAgIC8vbGV0IGlkcyA9IGlkU3RyaW5nLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAvL2lmIChpZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgZm9yIChsZXQgaWQgb2YgaWRzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgZW1wQXNzaWdubWVudElkcy5wdXNoKHBhcnNlSW50KGlkKSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB9XHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIlBheXJvbGxDYWxjU2FsYXJ5XCIsIFwiR2V0U2FsYXJ5SGVhZGVyRGF0YVwiLCBxdWVyeVN0cmluZywgZW1wQXNzaWdubWVudElkcywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYWxhcnlIZWFkZXJEYXRhID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuYWN0aXZhdGVUYWIoJ3NhbGFyeUhlYWRlckRhdGEnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVNhbGFyeURldGFpbHNEYXRhID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRIZWFkZXJEYXRhID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZEhlYWRlckRhdGEuRW1wQXNzaWdubWVudElkID09IHVuZGVmaW5lZCB8fCB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQgPT0gbnVsbCB8fCB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9mb3JtSWQ9XCIgKyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIGdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxSdW5JZD1cIiArIHJ1bklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHllcjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgbW9uO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRzID0gJ2VtcEFzc2lnbm1lbnRJZHM9JyArIHRoaXMuc2VsZWN0ZWRIZWFkZXJEYXRhLkVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgLy9pZiAodGhpcy5zZWxlY3RlZEhlYWRlckRhdGEuRW1wQXNzaWdubWVudElkICE9IG51bGwgJiYgdGhpcy5zZWxlY3RlZEhlYWRlckRhdGEuRW1wQXNzaWdubWVudElkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gICAgZW1wQXNzaWdubWVudHMgPSB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQubWFwKGl0ZW0gPT4gJ2VtcEFzc2lnbm1lbnRJZHM9JyArIGl0ZW0uRW1wQXNzaWdubWVudElkKS5qb2luKCcmJyk7XHJcbiAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImXCIgKyBlbXBBc3NpZ25tZW50cztcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiUGF5cm9sbENhbGNTYWxhcnlcIiwgXCJHZXRTYWxhcnlEZXRhaWxzRGF0YVwiLCBxdWVyeVN0cmluZywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNhbGFyeUZpbHRlciA9IHRoaXMuZmlsdGVyKCdmaWx0ZXInKTtcclxuICAgICAgICAgICAgICAgIHZhciBvcmRlckZpbHRlciA9IHRoaXMuZmlsdGVyKCdvcmRlckJ5Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YTogQXJyYXk8YW55PiA9IHJlc3VsdC5kYXRhO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vb3JkZXIgZGF0YSBieSBJdGVtIGNvZGVcclxuICAgICAgICAgICAgICAgIGRhdGEgPSBvcmRlckZpbHRlcihkYXRhLCAoaXRlbSkgPT4geyByZXR1cm4gaXRlbS5QYXlJdGVtQ29kZTsgfSwgZmFsc2UgLypSZXZlcnNlPWZhbHNlKi8pOztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZpbHRlciB0byBnZXQgRWFybmluZyBJdGVtc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYWxhcnlFYXJuaW5nRGF0YSA9IHNhbGFyeUZpbHRlcihkYXRhLCAoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW50cnkuQW1vdW50ID4gMDtcclxuICAgICAgICAgICAgICAgIH0sIHRydWUpXHJcblxyXG4gICAgICAgICAgICAgICAgLy9maWx0ZXIgdG8gZ2V0IERlZHVjdGlvbiBJdGVtc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zYWxhcnlEZWR1Y3Rpb25EYXRhID0gc2FsYXJ5RmlsdGVyKGRhdGEsIChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeS5BbW91bnQgPCAwO1xyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5VG90YWxTYWxhcnkodGhpcy5zZWxlY3RlZEhlYWRlckRhdGEpO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgRGlzcGxheVRvdGFsU2FsYXJ5ID0gKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy50b3RhbFJ1blNhbGFyeS50b3RhbEVhcm5pbmcgPSAoaXRlbS5Ub3RhbEVhcm5pbmcgPT0gbnVsbCA/IDAgOiBpdGVtLlRvdGFsRWFybmluZyk7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxSdW5TYWxhcnkudG90YWxEZWR1Y3Rpb24gPSAoaXRlbS5Ub3RhbERlZHVjdGlvbiA9PSBudWxsID8gMCA6IGl0ZW0uVG90YWxEZWR1Y3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b3RhbFJ1blNhbGFyeS50b3RhbE5ldCA9IChpdGVtLk5ldFNhbGFyeSA9PSBudWxsID8gMCA6IGl0ZW0uTmV0U2FsYXJ5KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldFBheXJvbGxHcm91cCA9IChwYXlyb2xsR3JvdXBJZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwocGF5cm9sbEdyb3VwSWQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICc/cGF5cm9sbEdyb3VwSWQ9JyArIHBheXJvbGxHcm91cElkO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoXCJQYXlyb2xsR3JvdXBcIiwgJ0dldEJ5UGF5cm9sbEdyb3VwSWQnLCBxdWVyeVN0cmluZywgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBheXJvbGxHcm91cCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyID0gdGhpcy5wYXlyb2xsR3JvdXAuQ3VycmVudFllYXI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aCA9IHRoaXMucGF5cm9sbEdyb3VwLkN1cnJlbnRNb250aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkID0gdGhpcy5wYXlyb2xsR3JvdXAuQ3VycmVudFJ1bklkO1xyXG4gICAgICAgICAgICAgICAgLy8gIHRoaXMuaXNQYXJ0RGF5KHRoaXMudmFjYXRpb25SdWxlLklzRGF5RnJhY3Rpb24pO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigncGF5cm9sbENhbGNTYWxhcnlDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckZmlsdGVyJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkZmlsdGVyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGF5cm9sbENhbGNTYWxhcnkodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkZmlsdGVyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBpbnRlcmZhY2UgSVBheXJvbGxUcmFuc0V2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUGF5cm9sbENhbGNUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgICAgIHByaXZhdGUgcHJvZmlsZUlkOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9ncmVzc0NhbGNPcHRpb25zXHJcbiAgICAgICAgcHJpdmF0ZSBydW5TdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHN0b3BTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHNob3dQcm9ncmVzc1N0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheURhdGFTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHVibGljIHByb2dyZXNzSWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9ncmVzc1R5cGVJZDogbnVtYmVyID0gMztcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNZZWFyRXZlbnRzOiBJUGF5cm9sbFRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNNb250aEV2ZW50czogSVBheXJvbGxUcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFRyYW5zUnVuSWRFdmVudHM6IElQYXlyb2xsVHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxUcmFuc1BheXJvbGxHcm91cElkRXZlbnRzOiBJUGF5cm9sbFRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNUeXBlSWRFdmVudHM6IElQYXlyb2xsVHJhbnNFdmVudDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNhY3Rpb25IZWFkZXJEYXRhOiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNhY3Rpb25Jc0Nsb3NlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZmlsdGVyOiBuZy5JRmlsdGVyU2VydmljZTtcclxuICAgICAgICBwcml2YXRlIGdyaWRPcHRpb25zOiBhbnkgPSB7fTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgZGV0YWlsc0dyaWQ6IGFueSA9IHsgZ3JpZE9wdGlvbnM6IHt9LCBncmlkQ29sdW1uRGVmczogW10gfTtcclxuICAgICAgICBwcml2YXRlIGRldGFpbHNEYXRhOiBBcnJheTxhbnk+ID0gW107XHJcbiAgICAgICAgcHJpdmF0ZSBzZWxlY3RlZEhlYWRlckRhdGE6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBwcml2YXRlIGNyZWF0ZVZpZXdTZXR1cDogSENNUy5Nb2RlbHMuQ3JlYXRlVmlldztcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJGZpbHRlcjogbmcuSUZpbHRlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBUcmFuc2FjdGlvbiBFdmVudHNcclxuICAgICAgICAgICAgdGhpcy5wYXlyb2xsVHJhbnNZZWFyRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLnBheXJvbGxZZWFyQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLnBheXJvbGxUcmFuc01vbnRoRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLnBheXJvbGxNb250aENoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5wYXlyb2xsVHJhbnNSdW5JZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlyb2xsUnVuSWRDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMucGF5cm9sbFRyYW5zUGF5cm9sbEdyb3VwSWRFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMucGF5cm9sbFBheXJvbGxHcm91cElkQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLnBheXJvbGxUcmFuc1R5cGVJZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlyb2xsVHJhbnNUeXBlSWRDaGFuZ2VkIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9ICRmaWx0ZXI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMgPSB7IHByb2dyZXNzVGl0bGU6IFwiUGF5cm9sbCBDYWxjIFRyYW5zYWN0aW9uc1wiIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoXCJTeXN0ZW1Qcm9ncmVzc1wiLCBcIkdldEJ5UHJvZ3Jlc3NUeXBlSWRcIiwgXCI/cHJvZ3Jlc3NUeXBlSWQ9M1wiLCAocmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0lkID0gcmVzdWx0LmRhdGEuUHJvZ3Jlc3NJZDtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB7fTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgZGV0YWlsc0dyaWRDb2x1bW5EZWZzID0gW1xyXG4gICAgICAgICAgICAgICAgeyBoZWFkZXJOYW1lOiBcIlBheUl0ZW1Db2RlXCIsIGZpZWxkOiBcIlBheUl0ZW1Db2RlXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgaGVhZGVyTmFtZTogXCJQYXlJdGVtTmFtZVwiLCBmaWVsZDogXCJQYXlJdGVtTmFtZVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IGhlYWRlck5hbWU6IFwiSW5wdXRBbW91bnRcIiwgZmllbGQ6IFwiSW5wdXRBbW91bnRcIiB9LFxyXG4gICAgICAgICAgICAgICAgLy8veyBoZWFkZXJOYW1lOiBcIkFtb3VudFwiLCBmaWVsZDogXCJBbW91bnRcIiB9XHJcbiAgICAgICAgICAgIF07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxzR3JpZCA9IHtcclxuICAgICAgICAgICAgICAgIGdyaWRPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93RGF0YTogdGhpcy5kZXRhaWxzRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5EZWZzOiBkZXRhaWxzR3JpZENvbHVtbkRlZnNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBncmlkQ29sdW1uRGVmczogZGV0YWlsc0dyaWRDb2x1bW5EZWZzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmdyaWQuZ3JpZENvbHVtbkRlZnMgPSBjb2x1bW5EZWZzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldy5Mb2FkKCk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2VCdXR0b24oKTtcclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3BheXJvbGxUcmFuc2FjdGlvbkRldGFpbHNEYXRhJyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheURldGFpbHNEYXRhKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3B1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAvLyAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgLy99O1xyXG5cclxuICAgICAgICAvL0V2ZW50IHllYXIgQ2hhbmdlZCAgIFxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFllYXJDaGFuZ2VkID0gKHBheXJvbGxZZWFyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXIgPSBwYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0V2ZW50IE1vbnRoIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxNb250aENoYW5nZWQgPSAocGF5cm9sbE1vbnRoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoID0gcGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnQgUnVuSWQgQ2hhbmdlZCAgIFxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFJ1bklkQ2hhbmdlZCA9IChydW5JZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlBheXJvbGxSdW5JZCA9IHJ1bklkO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnQgUGF5cm9sbEdyb3VwIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxQYXlyb2xsR3JvdXBJZENoYW5nZWQgPSAocGF5cm9sbEdyb3VwSWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZCA9IHBheXJvbGxHcm91cElkO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnQgUGF5cm9sbEdyb3VwIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxUcmFuc1R5cGVJZENoYW5nZWQgPSAodHJhbnNhY3Rpb25UeXBlSWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5QYXlyb2xsVHJhbnNhY3Rpb25UeXBlSWQgPSB0cmFuc2FjdGlvblR5cGVJZDtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgcnVuID0gKHZhbGlkKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuICAgICAgICAgICAgICAgIH0pLCB0aGlzLnN0YXJ0Q2FsYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHN0YXJ0Q2FsYyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhSXRlbS5FbXBBc3NpZ25tZW50SWQubGVuZ3RoID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGVtcEFzc2lnbm1lbnRJZHMgPSB0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP2Zvcm1JZD1cIiArIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtSWQ7O1xyXG4gICAgICAgICAgICAvL3F1ZXJ5U3RyaW5nICs9IFwiJnVzZXJJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uVXNlci5Vc2VySWQ7XHJcbiAgICAgICAgICAgIC8vcXVlcnlTdHJpbmcgKz0gXCImbGFuZ0lkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmNvbXBhbnlJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uQ29tcGFueS5Db21wYW55SWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxHcm91cElkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFJ1bklkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsUnVuSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxZZWFyPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnRyYW5zYWN0aW9uVHlwZUlkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsVHJhbnNhY3Rpb25UeXBlSWQ7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlUnVuKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJQYXlyb2xsQ2FsY1RyYW5zYWN0aW9uXCIsIFwiUnVuXCIsIHF1ZXJ5U3RyaW5nLCBlbXBBc3NpZ25tZW50SWRzLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIlBheXJvbGxDYWxjVHJhbnNhY3Rpb25cIiwgXCJSdW5cIiwgcXVlcnlTdHJpbmcsIGVtcEFzc2lnbm1lbnRJZHMsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wQ2FsYygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UGF5cm9sbFRyYW5zYWN0aW9uRGF0YSgpO1xyXG4gICAgICAgICAgICB9LCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcENhbGMoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgJCgnI3BheXJvbGxDYWxjVHJhbnNNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoaWRlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNwYXlyb2xsQ2FsY1RyYW5zTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgc3RvcENhbGMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RvcFByb2dyZXNzKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZU1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZVJ1bigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dQcm9ncmVzcyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wcm9ncmVzc0NhbGNPcHRpb25zLmFwaS5jaGVja0lmUHJvZ3Jlc3NSdW5uaW5nKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBlbmFibGVSdW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucnVuU3RhdHVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zdG9wU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1Byb2dyZXNzU3RhdHVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheURhdGFTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkaXNhYmxlUnVuID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJ1blN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnN0b3BTdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNob3dQcm9ncmVzc1N0YXR1cyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheURhdGFTdGF0dXMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBvcGVuUGF5cm9sbFRyYW5zYWN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5QYXlyb2xsVHJhbnNhY3Rpb25QZXJpb2QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2VCdXR0b24oKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBjbG9zZVBheXJvbGxUcmFuc2FjdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZVBheXJvbGxUcmFuc2FjdGlvblBlcmlvZCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5UGF5cm9sbFRyYW5zYWN0aW9uSGVhZGVyRGF0YSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHllciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIHZhciBtb24gPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgdmFyIHJ1bklkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsUnVuSWQ7XHJcbiAgICAgICAgICAgIHZhciBncm91cElkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP2Zvcm1JZD1cIiArIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmNvbXBhbnlJZD1cIiArIEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uQ29tcGFueS5Db21wYW55SWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxHcm91cElkPVwiICsgZ3JvdXBJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFJ1bklkPVwiICsgcnVuSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxZZWFyPVwiICsgeWVyO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsTW9udGg9XCIgKyBtb247XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnRyYW5zYWN0aW9uVHlwZUlkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsVHJhbnNhY3Rpb25UeXBlSWQ7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGVtcEFzc2lnbm1lbnRJZHM6IEFycmF5PG51bWJlcj4gPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFJdGVtLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgZW1wQXNzaWdubWVudElkcyA9IHRoaXMuZGF0YUl0ZW0uRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KFwiUGF5cm9sbENhbGNUcmFuc2FjdGlvblwiLCBcIkdldFBheXJvbGxUcmFuc0hlYWRlckRhdGFcIiwgcXVlcnlTdHJpbmcsIGVtcEFzc2lnbm1lbnRJZHMsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGF5cm9sbFRyYW5zYWN0aW9uSGVhZGVyRGF0YSA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5hY3RpdmF0ZVRhYigncGF5cm9sbFRyYW5zYWN0aW9uSGVhZGVyRGF0YScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheURldGFpbHNEYXRhID0gKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRIZWFkZXJEYXRhID09IG51bGwgfHwgdGhpcy5zZWxlY3RlZEhlYWRlckRhdGEuRW1wQXNzaWdubWVudElkID09IHVuZGVmaW5lZCB8fCB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQgPT0gbnVsbCB8fCB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFJ1bklkPVwiICsgcnVuSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxZZWFyPVwiICsgeWVyO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsTW9udGg9XCIgKyBtb247XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnRyYW5zYWN0aW9uVHlwZUlkPVwiICsgdGhpcy5kYXRhSXRlbS5QYXlyb2xsVHJhbnNhY3Rpb25UeXBlSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudHMgPSAnZW1wQXNzaWdubWVudElkPScgKyB0aGlzLnNlbGVjdGVkSGVhZGVyRGF0YS5FbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIC8vaWYgKHRoaXMuc2VsZWN0ZWRIZWFkZXJEYXRhLkVtcEFzc2lnbm1lbnRJZCAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRIZWFkZXJEYXRhLkVtcEFzc2lnbm1lbnRJZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vICAgIGVtcEFzc2lnbm1lbnRzID0gdGhpcy5zZWxlY3RlZEhlYWRlckRhdGEuRW1wQXNzaWdubWVudElkLm1hcChpdGVtID0+ICdlbXBBc3NpZ25tZW50SWRzPScgKyBpdGVtLkVtcEFzc2lnbm1lbnRJZCkuam9pbignJicpO1xyXG4gICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJlwiICsgZW1wQXNzaWdubWVudHM7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlBheXJvbGxDYWxjVHJhbnNhY3Rpb25cIiwgXCJHZXRQYXlyb2xsVHJhbnNEZXRhaWxzRGF0YVwiLCBxdWVyeVN0cmluZywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxzRGF0YSA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBvcGVuUGF5cm9sbFRyYW5zYWN0aW9uUGVyaW9kID0gKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvblR5cGVJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFRyYW5zYWN0aW9uVHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbEdyb3VwSWQ9XCIgKyBncm91cElkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsUnVuSWQ9XCIgKyBydW5JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFllYXI9XCIgKyB5ZXI7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxNb250aD1cIiArIG1vbjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImdHJhbnNhY3Rpb25UeXBlSWQ9XCIgKyB0cmFuc2FjdGlvblR5cGVJZDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJQYXlyb2xsQ2FsY1RyYW5zYWN0aW9uXCIsIFwiT3BlblBheXJvbGxUcmFuc2FjdGlvblBlcmlvZFwiLCBxdWVyeVN0cmluZywgbnVsbCwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgY2xvc2VQYXlyb2xsVHJhbnNhY3Rpb25QZXJpb2QgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgdmFyIHllciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIHZhciBtb24gPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgdmFyIHJ1bklkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsUnVuSWQ7XHJcbiAgICAgICAgICAgIHZhciBncm91cElkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uVHlwZUlkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsVHJhbnNhY3Rpb25UeXBlSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9mb3JtSWQ9XCIgKyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIGdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxSdW5JZD1cIiArIHJ1bklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHllcjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgbW9uO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZ0cmFuc2FjdGlvblR5cGVJZD1cIiArIHRyYW5zYWN0aW9uVHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIlBheXJvbGxDYWxjVHJhbnNhY3Rpb25cIiwgXCJDbG9zZVBheXJvbGxUcmFuc2FjdGlvblBlcmlvZFwiLCBxdWVyeVN0cmluZywgbnVsbCwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlQYXlyb2xsVHJhbnNhY3Rpb25EYXRhKCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlQYXlyb2xsVHJhbnNhY3Rpb25IZWFkZXJEYXRhKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIElzQ2xvc2VkID0gKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbCh0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGgpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbCh0aGlzLmRhdGFJdGVtLlBheXJvbGxSdW5JZCkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbCh0aGlzLmRhdGFJdGVtLlBheXJvbGxUcmFuc2FjdGlvblR5cGVJZCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvblR5cGVJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFRyYW5zYWN0aW9uVHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbEdyb3VwSWQ9XCIgKyBncm91cElkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsUnVuSWQ9XCIgKyBydW5JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFllYXI9XCIgKyB5ZXI7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxNb250aD1cIiArIG1vbjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImdHJhbnNhY3Rpb25UeXBlSWQ9XCIgKyB0cmFuc2FjdGlvblR5cGVJZDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChcIlBheXJvbGxDYWxjVHJhbnNhY3Rpb25cIiwgXCJHZXRQYXlyb2xsVHJhbnNhY3Rpb25QZXJpb2RJc0Nsb3NlZFwiLCBxdWVyeVN0cmluZywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXlyb2xsVHJhbnNhY3Rpb25Jc0Nsb3NlZCA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGhhbmRsZUNsb3NlQnV0dG9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLklzQ2xvc2VkKChkYXRhKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VCdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3BlbkJ0biA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3BlbkJ0blwiKTtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuQnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bkJ0biA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VCdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW5CdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wZW5CdG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbkJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bkJ0biA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigncGF5cm9sbENhbGNUcmFuc2FjdGlvbkNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRmaWx0ZXInLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRmaWx0ZXIsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQYXlyb2xsQ2FsY1RyYW5zYWN0aW9uKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJGZpbHRlciwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBpbnRlcmZhY2UgSVBheXJvbGxUcmFuc0V2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgcGF5cm9sbENsb3NlQ2FsY1NhbGFyeSBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgICAgIHByaXZhdGUgcHJvZmlsZUlkOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBwcm9ncmVzc0NhbGNPcHRpb25zXHJcbiAgICAgICAgcHJpdmF0ZSBydW5TdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHN0b3BTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIHNob3dQcm9ncmVzc1N0YXR1czogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheURhdGFTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgcHVibGljIHByb2dyZXNzSWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFRyYW5zWWVhckV2ZW50czogSVBheXJvbGxUcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFRyYW5zTW9udGhFdmVudHM6IElQYXlyb2xsVHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxUcmFuc1J1bklkRXZlbnRzOiBJUGF5cm9sbFRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNQYXlyb2xsR3JvdXBJZEV2ZW50czogSVBheXJvbGxUcmFuc0V2ZW50O1xyXG4gICAgICAvLyAgcHJpdmF0ZSBwYXlyb2xsVHJhbnNUeXBlSWRFdmVudHM6IElQYXlyb2xsVHJhbnNFdmVudDtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBQYXlyb2xsU2FsYXJ5SGVhZGVyRGF0YTogQXJyYXk8YW55PiA9IFtdO1xyXG4gICAgICAgIHByaXZhdGUgUGF5cm9sbFNhbGFyeUlzQ2xvc2VkOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBmaWx0ZXI6IG5nLklGaWx0ZXJTZXJ2aWNlO1xyXG4gICAgICAgIHByaXZhdGUgZ3JpZE9wdGlvbnM6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRmaWx0ZXI6IG5nLklGaWx0ZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgVHJhbnNhY3Rpb24gRXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMucGF5cm9sbFRyYW5zWWVhckV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlyb2xsWWVhckNoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5wYXlyb2xsVHJhbnNNb250aEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlyb2xsTW9udGhDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMucGF5cm9sbFRyYW5zUnVuSWRFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMucGF5cm9sbFJ1bklkQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLnBheXJvbGxUcmFuc1BheXJvbGxHcm91cElkRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLnBheXJvbGxQYXlyb2xsR3JvdXBJZENoYW5nZWQgfTtcclxuICAgICAgICAgIC8vICB0aGlzLnBheXJvbGxUcmFuc1R5cGVJZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlyb2xsVHJhbnNUeXBlSWRDaGFuZ2VkIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZpbHRlciA9ICRmaWx0ZXI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMgPSB7IHByb2dyZXNzVGl0bGU6IFwiUGF5cm9sbCBDYWxjIFRyYW5zYWN0aW9uc1wiIH07XHJcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NJZCA9IDM7XHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHt9O1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuZ3JpZC5ncmlkQ29sdW1uRGVmcyA9IGNvbHVtbkRlZnM7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5UGF5cm9sbFNhbGFyeURhdGEoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgLy90aGlzLmdyaWRPcHRpb25zID0geyBTZWxlY3RCdXR0b246IGZhbHNlLCBFZGl0QnV0dG9uOiBmYWxzZSwgRGVsZXRlQnV0dG9uOiBmYWxzZSwgZW5hYmxlUXVpY2tGaWx0ZXI6IHRydWUsIGVuYWJsZVJ0bDogSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nRGlyZWN0aW9uID09PSAncnRsJyA/IHRydWUgOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAvL3RoaXMuZ3JpZE9wdGlvbnMuY29sdW1uRGVmcyA9IHRoaXMuZ3JpZENvbHVtbnM7XHJcbiAgICAgICAgICAgIC8vdGhpcy5ncmlkT3B0aW9ucy5yb3dEYXRhID0gdGhpcy5kYXRhTGlzdDtcclxuXHJcbiAgICAgICAgICAgIC8vdGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnByb2dyZXNzQ2FsY09wdGlvbnMuYXBpLmNoZWNrSWZQcm9ncmVzc1J1bm5pbmcoKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxjT3B0aW9ucy5hcGkuc3RhcnRQcm9ncmVzcygoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICB0aGlzLmRpc2FibGVSdW4oKTtcclxuICAgICAgICAgICAgLy8gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgLy99LCAyMDAwKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0V2ZW50IHllYXIgQ2hhbmdlZCAgIFxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFllYXJDaGFuZ2VkID0gKHBheXJvbGxZZWFyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXIgPSBwYXlyb2xsWWVhcjtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL0V2ZW50IE1vbnRoIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxNb250aENoYW5nZWQgPSAocGF5cm9sbE1vbnRoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoID0gcGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnQgUnVuSWQgQ2hhbmdlZCAgIFxyXG4gICAgICAgIHByaXZhdGUgcGF5cm9sbFJ1bklkQ2hhbmdlZCA9IChydW5JZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlBheXJvbGxSdW5JZCA9IHJ1bklkO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vRXZlbnQgUGF5cm9sbEdyb3VwIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheXJvbGxQYXlyb2xsR3JvdXBJZENoYW5nZWQgPSAocGF5cm9sbEdyb3VwSWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZCA9IHBheXJvbGxHcm91cElkO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBwcml2YXRlIHNob3dNb2RhbCA9ICgpID0+IHtcclxuICAgICAgICAgICAgJCgnI3BheXJvbGxDYWxjVHJhbnNNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoaWRlTW9kYWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICQoJyNwYXlyb2xsQ2FsY1RyYW5zTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIG9wZW5QYXlyb2xsU2FsYXJ5KCkge1xyXG4gICAgICAgICAgICB0aGlzLm9wZW5QYXlyb2xsU2FsYXJ5UGVyaW9kKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlQYXlyb2xsU2FsYXJ5RGF0YSgpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIGNsb3NlUGF5cm9sbFNhbGFyeSgpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZVBheXJvbGxTYWxhcnlQZXJpb2QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2xvc2VCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVBheXJvbGxTYWxhcnlEYXRhKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIG9wZW5QYXlyb2xsU2FsYXJ5UGVyaW9kID0gKGNhbGxiYWNrKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgIC8vdmFyIHRyYW5zYWN0aW9uVHlwZUlkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsU2FsYXJ5VHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbEdyb3VwSWQ9XCIgKyBncm91cElkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsUnVuSWQ9XCIgKyBydW5JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFllYXI9XCIgKyB5ZXI7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxNb250aD1cIiArIG1vbjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJQYXlyb2xsQ2xvc2VDYWxjU2FsYXJ5XCIsIFwiT3BlblBheXJvbGxTYWxhcnlQZXJpb2RcIiwgcXVlcnlTdHJpbmcsIG51bGwsICAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgY2FsbGJhY2socmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBjbG9zZVBheXJvbGxTYWxhcnlQZXJpb2QgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgdmFyIHllciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIHZhciBtb24gPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aDtcclxuICAgICAgICAgICAgdmFyIHJ1bklkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsUnVuSWQ7XHJcbiAgICAgICAgICAgIHZhciBncm91cElkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuICAgICAgICAgIC8vICB2YXIgdHJhbnNhY3Rpb25UeXBlSWQgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxTYWxhcnlUeXBlSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9mb3JtSWQ9XCIgKyB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsR3JvdXBJZD1cIiArIGdyb3VwSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxSdW5JZD1cIiArIHJ1bklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsWWVhcj1cIiArIHllcjtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbE1vbnRoPVwiICsgbW9uO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIlBheXJvbGxDbG9zZUNhbGNTYWxhcnlcIiwgXCJDbG9zZVBheXJvbGxTYWxhcnlQZXJpb2RcIiwgcXVlcnlTdHJpbmcsIG51bGwsKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIGNhbGxiYWNrKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlQYXlyb2xsU2FsYXJ5RGF0YSgpIHtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5UGF5cm9sbFNhbGFyeUhlYWRlckRhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5UGF5cm9sbFNhbGFyeUhlYWRlckRhdGEgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vdmFyIHllciA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXI7XHJcbiAgICAgICAgICAgIC8vdmFyIG1vbiA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbE1vbnRoO1xyXG4gICAgICAgICAgICAvL3ZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICAvL3ZhciBncm91cElkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZDtcclxuXHJcbiAgICAgICAgICAgIC8vdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAvLyB2YXIgcXVlcnlTdHJpbmcgPSBcIj9jb21wYW55SWQ9XCIgKyBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiUGF5cm9sbENsb3NlQ2FsY1NhbGFyeVwiLCBcIkdldEFsbFNhbGFyeUNsb3NlXCIsIFwiXCIsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuUGF5cm9sbFNhbGFyeUhlYWRlckRhdGEgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgLy8gdGhpcy5hY3RpdmF0ZVRhYignUGF5cm9sbFNhbGFyeUhlYWRlckRhdGEnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgSXNDbG9zZWQgPSAoY2FsbGJhY2spID0+IHtcclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFllYXIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbCh0aGlzLmRhdGFJdGVtLlBheXJvbGxNb250aCkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodGhpcy5kYXRhSXRlbS5QYXlyb2xsR3JvdXBJZCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciB5ZXIgPSB0aGlzLmRhdGFJdGVtLlBheXJvbGxZZWFyO1xyXG4gICAgICAgICAgICB2YXIgbW9uID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsTW9udGg7XHJcbiAgICAgICAgICAgIHZhciBydW5JZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbFJ1bklkO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXBJZCA9IHRoaXMuZGF0YUl0ZW0uUGF5cm9sbEdyb3VwSWQ7XHJcbiAgICAgICAgICAgLy8gdmFyIHRyYW5zYWN0aW9uVHlwZUlkID0gdGhpcy5kYXRhSXRlbS5QYXlyb2xsU2FsYXJ5VHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/Zm9ybUlkPVwiICsgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbEdyb3VwSWQ9XCIgKyBncm91cElkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXlyb2xsUnVuSWQ9XCIgKyBydW5JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImcGF5cm9sbFllYXI9XCIgKyB5ZXI7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnBheXJvbGxNb250aD1cIiArIG1vbjtcclxuICAgICAgICAgICAvLyBxdWVyeVN0cmluZyArPSBcIiZ0cmFuc2FjdGlvblR5cGVJZD1cIiArIHRyYW5zYWN0aW9uVHlwZUlkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiUGF5cm9sbENsb3NlQ2FsY1NhbGFyeVwiLCBcIkdldFBheXJvbGxTYWxhcnlQZXJpb2RJc0Nsb3NlZFwiLCBxdWVyeVN0cmluZywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5QYXlyb2xsU2FsYXJ5SXNDbG9zZWQgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSBjYWxsYmFjayhyZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBoYW5kbGVDbG9zZUJ1dHRvbiAoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5Jc0Nsb3NlZCgoZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlQnRuID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZUJ0blwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjbG9zZUJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW5CdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wZW5CdG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbkJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIHJ1bkJ0biA9IDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcnVuQnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xvc2VCdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlQnRuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wZW5CdG4gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9wZW5CdG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbkJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgcnVuQnRuID0gPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5CdG5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ydW5CdG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkgICAgIFxyXG4gICAgICAgICAgICAvLyAgdGhpcy5kaXNwbGF5UGF5cm9sbFNhbGFyeURhdGEoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAgICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9wcml2YXRlIGdyaWRDb2x1bW5zID0gW1xyXG4gICAgICAgIC8vICAgIHsgZmllbGQ6ICdQcm9maWxlQ29kZScsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICd0ZXh0JywgaGVhZGVyTmFtZTogdGhpcy50cmFuc2xhdGVUZXh0KCdQcm9maWxlQ29kZScpIH0sXHJcbiAgICAgICAgLy8gICAgeyBmaWVsZDogJ1Byb2ZpbGVOYW1lJywgaGlkZTogZmFsc2UsIGNvbnRyb2xUeXBlTmFtZTogJ3RleHQnLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ1Byb2ZpbGVOYW1lJykgfSxcclxuICAgICAgICAvLyAgICB7IGZpZWxkOiAnTG9hbk5hbWUnLCBoaWRlOiBmYWxzZSwgY29udHJvbFR5cGVOYW1lOiAndGV4dCcsIGhlYWRlck5hbWU6IHRoaXMudHJhbnNsYXRlVGV4dCgnTG9hbk5hbWUnKSB9LFxyXG4gICAgICAgIC8vICAgIHsgZmllbGQ6ICdJbnN0YWxsbWVudEFtb3VudCcsIGhpZGU6IGZhbHNlLCBjb250cm9sVHlwZU5hbWU6ICdudW1iZXInLCBoZWFkZXJOYW1lOiB0aGlzLnRyYW5zbGF0ZVRleHQoJ0luc3RhbGxtZW50QW1vdW50JykgfVxyXG5cclxuICAgICAgICAvL11cclxuXHJcblxyXG4gICAgfVxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3BheXJvbGxDbG9zZUNhbGNTYWxhcnlDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckZmlsdGVyJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkZmlsdGVyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgcGF5cm9sbENsb3NlQ2FsY1NhbGFyeSh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRmaWx0ZXIsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgaW50ZXJmYWNlIElFbmRPZlNlcnZpY2VUcmFuc0V2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRW5kT2ZTZXJ2aWNlVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuICAgICAgICBwcml2YXRlIGRpc3BsYXlUaW1lUmFuZ2U6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25SdWxlOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBlbmRPZlNlcnZpY2VOb3RpY2VEYXRlRXZlbnRzOiBJRW5kT2ZTZXJ2aWNlVHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIGVtcEVuZE9mU2VydmljZURhdGVFdmVudHM6IElFbmRPZlNlcnZpY2VUcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgZW5kT2ZTZXJ2aWNlTm90aWNlRGF5c0V2ZW50czogSUVuZE9mU2VydmljZVRyYW5zRXZlbnQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgZW1wRW5kT2ZTZXJ2aWNlSXNDbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcHJpdmF0ZSB2YWNhdGlvbkZyb21EYXRlRXZlbnRzOiBJRW5kT2ZTZXJ2aWNlVHJhbnNFdmVudDtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNldCBUcmFuc2FjdGlvbiBFdmVudHNcclxuICAgICAgICAgICAgdGhpcy5lbmRPZlNlcnZpY2VOb3RpY2VEYXRlRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmZyb21EYXRlQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLmVtcEVuZE9mU2VydmljZURhdGVFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMudG9EYXRlQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLmVuZE9mU2VydmljZU5vdGljZURheXNFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMuZGF5c0NoYW5nZWQgfTtcclxuICAgICAgICAgICAgLy8gIHRoaXMudmFjYXRpb25Gcm9tRGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5mcm9tRGF0ZUNoYW5nZWQgfTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQpKSBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5PbkNyZWF0ZU5ld0NsaWNrZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkVuZE9mU2VydmljZU5vdGljZURheXMgPSAwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuT25FZGl0Q2xpY2tlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuSXNDbG9zZWQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICBcclxuICAgICAgICAvL0V2ZW50IGZyb21EYXRlIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIGZyb21EYXRlQ2hhbmdlZCA9IChmcm9tRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBmcm9tRGF0ZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvVXRjRGF0ZShmcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RnJvbVRvRGF0ZUNoYW5nZWQoZnJvbURhdGUsIHRoaXMuZGF0YUl0ZW0uRW1wRW5kT2ZTZXJ2aWNlRGF0ZSk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5nZXRWYWNhdGlvbkJhbGFuY2UodGhpcy5kYXRhSXRlbS5WYWNhdGlvbklkLCB0aGlzLmVtcEFzc2lnbm1lbnRJZCwgdGhpcy5kYXRhSXRlbS5FbXBWYWNhdGlvbklkLCBmcm9tRGF0ZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRXZlbnQgdG9EYXRlIENoYW5nZWQgXHJcbiAgICAgICAgcHJpdmF0ZSB0b0RhdGVDaGFuZ2VkID0gKHRvRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICB0b0RhdGUgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50b1V0Y0RhdGUodG9EYXRlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRGcm9tVG9EYXRlQ2hhbmdlZCh0aGlzLmRhdGFJdGVtLkVuZE9mU2VydmljZU5vdGljZURhdGUsIHRvRGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBmcm9tRGF0ZSBvciB0b0RhdGUgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgc2V0RnJvbVRvRGF0ZUNoYW5nZWQgPSAoZnJvbURhdGUsIHRvRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkgfHwgIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZSh0b0RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5FbmRPZlNlcnZpY2VOb3RpY2VEYXlzID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuZGF0ZURpZmZEYXlzKGZyb21EYXRlLCB0b0RhdGUpICsgMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRXZlbnQgZGF5cyBDaGFuZ2VkXHJcbiAgICAgICAgcHJpdmF0ZSBkYXlzQ2hhbmdlZCA9IChkYXlzKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBmcm9tRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uRW5kT2ZTZXJ2aWNlTm90aWNlRGF0ZTtcclxuICAgICAgICAgICAgdmFyIHRvRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uRW1wRW5kT2ZTZXJ2aWNlRGF0ZTtcclxuICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZnJvbURhdGUpICYmICFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUodG9EYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZnJvbURhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF5cyA8IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5kYXRlQWRkRGF5cyhmcm9tRGF0ZSwgZGF5cyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5kYXRlQWRkRGF5cyhmcm9tRGF0ZSwgZGF5cyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5FbXBFbmRPZlNlcnZpY2VEYXRlID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9VdGNEYXRlKGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgY2xvc2VFbXBsb3llZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVhY3RpdmF0ZSBFbXBsb3llZT9cIixcIlwiICwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVtcEVuZE9mU2VydmljZUlkID0gdGhpcy5kYXRhSXRlbS5FbXBFbmRPZlNlcnZpY2VJZDtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9lbXBFbmRPZlNlcnZpY2VJZD1cIiArIGVtcEVuZE9mU2VydmljZUlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdChcIkVuZE9mU2VydmljZVwiLCBcIkNsb3NlRW1wbG95ZWVcIiwgcXVlcnlTdHJpbmcsIG51bGwsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Jc0Nsb3NlZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIG9wZW5FbXBsb3llZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFsZXJ0LkNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYWN0aXZhdGUgRW1wbG95ZWU/XCIsXCJcIiAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBlbXBFbmRPZlNlcnZpY2VJZCA9IHRoaXMuZGF0YUl0ZW0uRW1wRW5kT2ZTZXJ2aWNlSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/ZW1wRW5kT2ZTZXJ2aWNlSWQ9XCIgKyBlbXBFbmRPZlNlcnZpY2VJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLlBvc3QoXCJFbmRPZlNlcnZpY2VcIiwgXCJPcGVuRW1wbG95ZWVcIiwgcXVlcnlTdHJpbmcsIG51bGwsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Jc0Nsb3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBJc0Nsb3NlZCA9IChjYWxsYmFjaz8pID0+IHtcclxuXHJcbiAgICAgICAgICAgIHZhciBlbXBFbmRPZlNlcnZpY2VJZCA9IHRoaXMuZGF0YUl0ZW0uRW1wRW5kT2ZTZXJ2aWNlSWQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9lbXBFbmRPZlNlcnZpY2VJZD1cIiArIGVtcEVuZE9mU2VydmljZUlkO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KFwiRW5kT2ZTZXJ2aWNlXCIsIFwiR2V0RW1wRW5kT2ZTZXJ2aWNlSXNDbG9zZWRcIiwgcXVlcnlTdHJpbmcsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1wRW5kT2ZTZXJ2aWNlSXNDbG9zZWQgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uSXNDbG9zZSA9IHRoaXMuZW1wRW5kT2ZTZXJ2aWNlSXNDbG9zZWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgY2FsbGJhY2socmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignZW5kT2ZTZXJ2aWNlVHJhbnNhY3Rpb25Db250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEVuZE9mU2VydmljZVRyYW5zYWN0aW9uKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgRW5kT2ZTZXJ2aWNlVHJhbnNIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHVibGljIGxpc3RPcHRpb25zOiBhbnkgPSB7IHNlbGVjdENhbGxiYWNrOiBudWxsLCBpbmRleENvbnRyb2xsZXI6IG51bGwgfTtcclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRQcm9maWxlOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzLCBlbmFibGVSdGw6IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkRW5kT2ZTZXJ2aWNlUHJvZmlsZScpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VuZE9mU2VydmljZVRyYW5zSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgRW5kT2ZTZXJ2aWNlVHJhbnNIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgaW50ZXJmYWNlIElQZW5hbHR5VHJhbnNFdmVudCB7XHJcbiAgICAgICAgZGVmYXVsdEFjdGlvbjogYW55XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgUGVuYWx0eVRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIHByaXZhdGUgZW1wQXNzaWdubWVudElkOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBwZW5hbHR5SWRFdmVudHM6IElQZW5hbHR5VHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIHBlbmFsdHlEYXRlRXZlbnRzOiBJUGVuYWx0eVRyYW5zRXZlbnQ7ICAgICAgICBcclxuICAgICAgIFxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgVHJhbnNhY3Rpb24gRXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMucGVuYWx0eUlkRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLnBlbmFsdHlJZENoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5wZW5hbHR5RGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wZW5hbHR5RGF0ZUNoYW5nZWQgfTtcclxuICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIC8vIEdldERhdGFCeVBhcmVudElkXHJcbiAgICAgICAgICAgIHRoaXMuR2V0RGF0YUJ5UGFyZW50SWQgPSAoY2FsbEJhY2s/OiBGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCkpIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmVtcEFzc2lnbm1lbnRJZD0nICsgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlFbXBBc3NpZ25tZW50SWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vc2V0IHBlbmFsdHkgYWN0aW9ucyBieSBjaGFuZ2luZyBQZW5hbHR5RGF0ZSAgXHJcbiAgICAgcHJpdmF0ZSBwZW5hbHR5RGF0ZUNoYW5nZWQgPSAgKHBlbmFsdHlEYXRlKT0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRQZW5hbHR5QWN0aW9ucyh0aGlzLmRhdGFJdGVtLlBlbmFsdHlJZCwgcGVuYWx0eURhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgcGVuYWx0eSBhY3Rpb25zIGJ5IGNoYW5naW5nIHBlbmFsdHlJZCBcclxuICAgICBwcml2YXRlIHBlbmFsdHlJZENoYW5nZWQgPSAocGVuYWx0eUlkKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuc2V0UGVuYWx0eUFjdGlvbnMocGVuYWx0eUlkLCB0aGlzLmRhdGFJdGVtLkVtcFBlbmFsdHlEYXRlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBzZXRQZW5hbHR5QWN0aW9uc1xyXG4gICAgIHByaXZhdGUgc2V0UGVuYWx0eUFjdGlvbnMgPSAocGVuYWx0eUlkLCBwZW5hbHR5RGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwocGVuYWx0eUlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudElkID0gdGhpcy5lbXBBc3NpZ25tZW50SWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZW1wQXNzaWdubWVudElkKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShwZW5hbHR5RGF0ZSkpIHtcclxuICAgICAgICAgICAgLy9wZW5hbHR5RGF0ZSA9IG5ldyBEYXRlKDIwMDAsIDEsIDEsIDEyLCAwLCAwLCAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwZW5hbHR5RGF0ZSA9IHBlbmFsdHlEYXRlLnRvSlNPTigpO1xyXG4gICAgICAgIHZhciBxdWVyeVN0cmluZyA9ICc/ZW1wQXNzaWdubWVudElkPScgKyBlbXBBc3NpZ25tZW50SWQgKyAnJnBlbmFsdHlJZD0nICsgcGVuYWx0eUlkICsgJyZwZW5hbHR5RGF0ZT0nICsgcGVuYWx0eURhdGU7XHJcblxyXG4gICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRQZW5hbHR5QWN0aW9ucycsIHF1ZXJ5U3RyaW5nLCAgKHJlc3BvbnNlKT0+IHtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGVuYWx0eVVuaXRJZCA9IHJlc3VsdC5QZW5hbHR5VW5pdElkO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlBlbmFsdHlBY3Rpb25JZCA9IHJlc3VsdC5QZW5hbHR5QWN0aW9uSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUGVuYWx0eUFtb3VudCA9IHJlc3VsdC5QZW5hbHR5QW1vdW50O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlJlcGV0aXRpb25OdW1iZXIgPSByZXN1bHQuUmVwZXRpdGlvbk51bWJlcjtcclxuICAgICAgICB9LCBudWxsKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwZW5hbHR5VHJhbnNhY3Rpb25Db250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBlbmFsdHlUcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFBlbmFsdHlUcmFuc0hvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcbiBcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG5cclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgLy90aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZFBlbmFsdHlQcm9maWxlJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuIFxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3BlbmFsdHlUcmFuc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBlbmFsdHlUcmFuc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgaW50ZXJmYWNlIElWYWNhdGlvblRyYW5zRXZlbnQge1xyXG4gICAgICAgIGRlZmF1bHRBY3Rpb246IGFueVxyXG4gICAgfVxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBWYWNhdGlvblRyYW5zYWN0aW9uIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcbiAgICAgICAgcHJpdmF0ZSBkaXNwbGF5VGltZVJhbmdlOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcHJpdmF0ZSBlbXBBc3NpZ25tZW50SWQ6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIHZhY2F0aW9uUnVsZTogYW55ID0ge307XHJcblxyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25Gcm9tRGF0ZUV2ZW50czogSVZhY2F0aW9uVHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIHZhY2F0aW9uVG9EYXRlRXZlbnRzOiBJVmFjYXRpb25UcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25EYXlzRXZlbnRzOiBJVmFjYXRpb25UcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25QYXJ0RGF0ZUV2ZW50czogSVZhY2F0aW9uVHJhbnNFdmVudFxyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25JZEV2ZW50czogSVZhY2F0aW9uVHJhbnNFdmVudFxyXG5cclxuICAgICAgICBwcml2YXRlIHZhY2F0aW9uRnJvbVRpbWVFdmVudHM6IElWYWNhdGlvblRyYW5zRXZlbnRcclxuICAgICAgICBwcml2YXRlIHZhY2F0aW9uVG9UaW1lRXZlbnRzOiBJVmFjYXRpb25UcmFuc0V2ZW50XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgVHJhbnNhY3Rpb24gRXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25Gcm9tRGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5mcm9tRGF0ZUNoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy52YWNhdGlvblRvRGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy50b0RhdGVDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25EYXlzRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmRheXNDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25QYXJ0RGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXJ0RGF0ZUNoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy52YWNhdGlvbkZyb21UaW1lRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmZyb21UaW1lQ2hhbmdlZCB9XHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25Ub1RpbWVFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMudG9UaW1lQ2hhbmdlZCB9XHJcbiAgICAgICAgICAgIHRoaXMudmFjYXRpb25JZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy52YWNhdGlvbklkQ2hhbmdlZCB9O1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmZW1wQXNzaWdubWVudElkPScgKyBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeUVtcEFzc2lnbm1lbnRJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy9zZXREaXNwbGF5VGltZVJhbmdcclxuICAgICAgICBwdWJsaWMgc2V0RGlzcGxheVRpbWVSYW5nID0gKHBhcnREYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUocGFydERhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUaW1lUmFuZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGltZVJhbmdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlzIFZhY3Rpb25SdWxlIEFsbG93IFBBcnQgRGF5XHJcbiAgICAgICAgcHJpdmF0ZSBpc1BhcnREYXkgPSAoaXNQYXJ0RGF5OiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpc1BhcnREYXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRpbWVSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUaW1lUmFuZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8vL2dldCBkYXRhIGJ5IHBhcmVudElkXHJcbiAgICAgICAgLy9wcml2YXRlIGdldERhdGFCeUVtcGxveWVlSWQgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQodGhpcy5lbXBBc3NpZ25tZW50SWQpKSB0aGlzLmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgLy8gICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmZW1wQXNzaWdubWVudElkPScgKyB0aGlzLmVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAvLyAgICB0aGlzLmRiTWFuYWdlci5HZXQodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlBc3NpZ25tZW50SWQnLCBxdWVyeVN0cmluZywgIChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgLy8gICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIC8vICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICAvL31cclxuXHJcbiAgICAgICAgLy9nZXQgZ2V0VmFjYXRpb25SdWxlXHJcbiAgICAgICAgcHJpdmF0ZSBnZXRWYWNhdGlvblJ1bGUgPSAodmFjYXRpb25JZCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodmFjYXRpb25JZCkpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gdGhpcy5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmdmFjYXRpb25JZD0nICsgdmFjYXRpb25JZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImY29tcGFueUlkPVwiICsgRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uQ29tcGFueS5Db21wYW55SWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRSdWxlJywgcXVlcnlTdHJpbmcsICAocmVzcG9uc2UpID0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWNhdGlvblJ1bGUgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1BhcnREYXkodGhpcy52YWNhdGlvblJ1bGUuSXNEYXlGcmFjdGlvbik7XHJcbiAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZ2V0IEJhbGFuY2VcclxuICAgICAgICBwcml2YXRlIGdldFZhY2F0aW9uQmFsYW5jZSA9ICh2YWNhdGlvbklkLCBlbXBBc3NpZ25tZW50SWQsIGVtcFZhY2F0aW9uSWQsIGFzT2ZEYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbCh2YWNhdGlvbklkKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZW1wQXNzaWdubWVudElkKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoYXNPZkRhdGUpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChlbXBWYWNhdGlvbklkKSkgZW1wVmFjYXRpb25JZCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IHRoaXMuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJnZhY2F0aW9uSWQ9JyArIHZhY2F0aW9uSWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmNvbXBhbnlJZD1cIiArIERhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkNvbXBhbnkuQ29tcGFueUlkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZlbXBBc3NpZ25tZW50SWQ9XCIgKyBlbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmFzT2ZEYXRlPVwiICsgSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9EYXRlKGFzT2ZEYXRlKTtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImZW1wVmFjYXRpb25JZD1cIiArIGVtcFZhY2F0aW9uSWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldCh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCYWxhbmNlJywgcXVlcnlTdHJpbmcsICAocmVzcG9uc2UpPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5WYWNhdGlvbkJhbGFuY2UgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0NvbnN1bWVkRGF5cyh0aGlzLmRhdGFJdGVtLlZhY2F0aW9uRnJvbURhdGUsIHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Ub0RhdGUsIHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25EYXlzKTtcclxuICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9nZXQgQWN0dWFsbCBDb25zdW1lZFxyXG4gICAgICAgIHByaXZhdGUgZ2V0QWN0dWFsbENvbnN1bWVkID0gKHZhY2F0aW9uSWQsIGVtcEFzc2lnbm1lbnRJZCwgZW1wVmFjYXRpb25JZCwgZnJvbURhdGUsIHRvRGF0ZSwgcGFydERhdGUsZGF5cykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwodmFjYXRpb25JZCkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKGVtcEFzc2lnbm1lbnRJZCkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZnJvbURhdGUpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuaXNEYXRlKHRvRGF0ZSkpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUocGFydERhdGUpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChlbXBWYWNhdGlvbklkKSkgZW1wVmFjYXRpb25JZCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChkYXlzKSkgZGF5cyA9IDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSB0aGlzLkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZ2YWNhdGlvbklkPScgKyB2YWNhdGlvbklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZjb21wYW55SWQ9XCIgKyBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5Db21wYW55LkNvbXBhbnlJZDtcclxuICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gXCImZW1wQXNzaWdubWVudElkPVwiICsgZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZmcm9tRGF0ZT1cIiArIEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZShmcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJnRvRGF0ZT1cIiArIEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZSh0b0RhdGUpO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZwYXJ0RGF0ZT1cIiArIEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZShwYXJ0RGF0ZSk7XHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IFwiJmVtcFZhY2F0aW9uSWQ9XCIgKyBlbXBWYWNhdGlvbklkO1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyArPSBcIiZ2YWNhdGlvbkRheXM9XCIgKyBkYXlzO1xyXG4gICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0Q29uc3VtZWQnLCBxdWVyeVN0cmluZywgIChyZXNwb25zZSk9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlZhY2F0aW9uQ29uc3VtZWQgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5WYWNhdGlvblJlbWFpbmluZyA9IHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25CYWxhbmNlIC0gdGhpcy5kYXRhSXRlbS5WYWNhdGlvbkNvbnN1bWVkO1xyXG4gICAgICAgICAgICB9LCBudWxsKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NoZWNrIENvbnN1bWVkIERheXNcclxuICAgICAgICBwcml2YXRlIGNoZWNrQ29uc3VtZWREYXlzID0gKGZyb21EYXRlLCB0b0RhdGUgLGRheXMpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QWN0dWFsbENvbnN1bWVkKHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25JZCwgdGhpcy5lbXBBc3NpZ25tZW50SWQsIHRoaXMuZGF0YUl0ZW0uRW1wVmFjYXRpb25JZCwgZnJvbURhdGUsIHRvRGF0ZSwgdGhpcy5kYXRhSXRlbS5wYXJ0RGF0ZSwgZGF5cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBSZXR1cm4gRGF0ZVxyXG4gICAgICAgIHByaXZhdGUgc2V0UmV0dXJuRGF0ZSA9ICh0b0RhdGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5WYWNhdGlvblJldHVybiA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmRhdGVBZGREYXlzKHRvRGF0ZSwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0V2ZW50IGZyb21EYXRlIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIGZyb21EYXRlQ2hhbmdlZCA9IChmcm9tRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBmcm9tRGF0ZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvVXRjRGF0ZShmcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RnJvbVRvRGF0ZUNoYW5nZWQoZnJvbURhdGUsIHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Ub0RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLmdldFZhY2F0aW9uQmFsYW5jZSh0aGlzLmRhdGFJdGVtLlZhY2F0aW9uSWQsIHRoaXMuZW1wQXNzaWdubWVudElkLCB0aGlzLmRhdGFJdGVtLkVtcFZhY2F0aW9uSWQsIGZyb21EYXRlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FdmVudCB0b0RhdGUgQ2hhbmdlZCBcclxuICAgICAgICBwcml2YXRlIHRvRGF0ZUNoYW5nZWQgPSAodG9EYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIHRvRGF0ZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvVXRjRGF0ZSh0b0RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEZyb21Ub0RhdGVDaGFuZ2VkKHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Gcm9tRGF0ZSwgdG9EYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IGZyb21EYXRlIG9yIHRvRGF0ZSBDaGFuZ2VkXHJcbiAgICAgICAgcHJpdmF0ZSBzZXRGcm9tVG9EYXRlQ2hhbmdlZCA9IChmcm9tRGF0ZSwgdG9EYXRlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuaXNEYXRlKGZyb21EYXRlKSB8fCAhSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuaXNEYXRlKHRvRGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlZhY2F0aW9uRGF5cyA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmRhdGVEaWZmRGF5cyhmcm9tRGF0ZSwgdG9EYXRlKSArIDE7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UmV0dXJuRGF0ZSh0b0RhdGUpO1xyXG4gICAgICAgICAgICAvL3RoaXMuZGF0YUl0ZW0uVmFjYXRpb25Gcm9tRGF0ZSA9IGZyb21EYXRlO1xyXG4gICAgICAgICAgICAvL3RoaXMuZGF0YUl0ZW0uVmFjYXRpb25Ub0RhdGUgPSB0b0RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb25zdW1lZERheXMoZnJvbURhdGUsIHRvRGF0ZSwgdGhpcy5kYXRhSXRlbS5WYWNhdGlvbkRheXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FdmVudCBkYXlzIENoYW5nZWRcclxuICAgICAgICBwcml2YXRlIGRheXNDaGFuZ2VkID0gKGRheXMpID0+IHtcclxuICAgICAgICAgICAgdmFyIGZyb21EYXRlID0gdGhpcy5kYXRhSXRlbS5WYWNhdGlvbkZyb21EYXRlO1xyXG4gICAgICAgICAgICB2YXIgdG9EYXRlID0gdGhpcy5kYXRhSXRlbS5WYWNhdGlvblRvRGF0ZTtcclxuICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZnJvbURhdGUpICYmICFIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUodG9EYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5pc0RhdGUoZnJvbURhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF5cyA8IDEgKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuZGF0ZUFkZERheXMoZnJvbURhdGUsIGRheXMgKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmRhdGVBZGREYXlzKGZyb21EYXRlLCBkYXlzIC0gMSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5WYWNhdGlvblRvRGF0ZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvVXRjRGF0ZShkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFJldHVybkRhdGUodGhpcy5kYXRhSXRlbS5WYWNhdGlvblRvRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb25zdW1lZERheXMoZnJvbURhdGUsIHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Ub0RhdGUsIGRheXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9FdmVudCBwYXJ0RGF0ZSBDaGFuZ2VkXHJcbiAgICAgICAgcHJpdmF0ZSBwYXJ0RGF0ZUNoYW5nZWQgPSAocGFydERhdGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXREaXNwbGF5VGltZVJhbmcocGFydERhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXZlbnQgZnJvbVRpbWUgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgZnJvbVRpbWVDaGFuZ2VkID0gKGZyb21UaW1lKSA9PiB7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXZlbnQgdG9UaW1lIENoYW5nZWRcclxuICAgICAgICBwcml2YXRlIHRvVGltZUNoYW5nZWQgPSAodG9UaW1lKSA9PiB7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvL0V2ZW50IHZhY2F0aW9uSWQgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgdmFjYXRpb25JZENoYW5nZWQgPSAodmFjYXRpb25JZCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudElkID0gdGhpcy5lbXBBc3NpZ25tZW50SWQ7XHJcbiAgICAgICAgICAgIHZhciBmcm9tRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Gcm9tRGF0ZTtcclxuICAgICAgICAgICAgdmFyIHRvRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25Ub0RhdGU7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VmFjYXRpb25CYWxhbmNlKHZhY2F0aW9uSWQsIGVtcEFzc2lnbm1lbnRJZCwgdGhpcy5kYXRhSXRlbS5FbXBWYWNhdGlvbklkLCB0b0RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29uc3VtZWREYXlzKGZyb21EYXRlLCB0b0RhdGUsIHRoaXMuZGF0YUl0ZW0uVmFjYXRpb25EYXlzKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRWYWNhdGlvblJ1bGUodmFjYXRpb25JZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigndmFjYXRpb25UcmFuc2FjdGlvbkNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFjYXRpb25UcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFZhY2F0aW9uVHJhbnNIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgcHVibGljIGxpc3RPcHRpb25zOiBhbnkgPSB7IHNlbGVjdENhbGxiYWNrOiBudWxsLCBpbmRleENvbnRyb2xsZXI6IG51bGwgfTtcclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRQcm9maWxlOiBhbnkgPSB7fTtcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpc3RPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzLCBlbmFibGVSdGw6IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRWYWNhdGlvblByb2ZpbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgLy9wdWJsaWMgYWN0aXZhdGVUYWIodGFiKSB7XHJcbiAgICAgICAgLy8gICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIC8vfTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCd2YWNhdGlvblRyYW5zSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFjYXRpb25UcmFuc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBpbnRlcmZhY2UgSU1pc3Npb25UcmFuc0V2ZW50IHtcclxuICAgICAgICBkZWZhdWx0QWN0aW9uOiBhbnlcclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBNaXNzaW9uVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuICAgICAgICBwcml2YXRlIG1pc3Npb25Gcm9tdGltZUV2ZW50czogSU1pc3Npb25UcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgbWlzc2lvblRvdGltZUV2ZW50czogSU1pc3Npb25UcmFuc0V2ZW50O1xyXG4gICAgICAgIHByaXZhdGUgbWlzc2lvbkR1cmF0aW9uRXZlbnRzOiBJTWlzc2lvblRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBtaXNzaW9uSXNGdWxsRGF5RXZlbnRzOiBJTWlzc2lvblRyYW5zRXZlbnQ7XHJcblxyXG4gICAgICAgIHByaXZhdGUgbWlzc2lvbkZyb21EYXRlRXZlbnRzOiBJTWlzc2lvblRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBtaXNzaW9uVG9EYXRlRXZlbnRzOiBJTWlzc2lvblRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBtaXNzaW9uRGF5c0V2ZW50czogSU1pc3Npb25UcmFuc0V2ZW50O1xyXG5cclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgZGlzcGxheVRpbWVSYW5nZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0IFRyYW5zYWN0aW9uRXZlbnRzXHJcbiAgICAgICAgICAgIHRoaXMubWlzc2lvbkZyb210aW1lRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmZyb21UaW1lQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLm1pc3Npb25Ub3RpbWVFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMudG9UaW1lQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLm1pc3Npb25EdXJhdGlvbkV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5kdXJhdGlvbkNoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5taXNzaW9uSXNGdWxsRGF5RXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmlzRnVsbERheUNoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5taXNzaW9uRGF5c0V2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5taXNzaW9uRGF5c0NoYW5nZWQgfTtcclxuICAgICAgICAgICAgdGhpcy5taXNzaW9uRnJvbURhdGVFdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMuZnJvbURhdGVDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMubWlzc2lvblRvRGF0ZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy50b0RhdGVDaGFuZ2VkIH07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQpKSBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZlbXBBc3NpZ25tZW50SWQ9JyArIGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL0V2ZW50IGZyb21EYXRlIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIGZyb21EYXRlQ2hhbmdlZCA9IChmcm9tRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBmcm9tRGF0ZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvVXRjRGF0ZShmcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RnJvbVRvRGF0ZUNoYW5nZWQoZnJvbURhdGUsIHRoaXMuZGF0YUl0ZW0uTWlzc2lvblRvRGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0V2ZW50IHRvRGF0ZSBDaGFuZ2VkIFxyXG4gICAgICAgIHByaXZhdGUgdG9EYXRlQ2hhbmdlZCA9ICh0b0RhdGUpID0+IHtcclxuICAgICAgICAgICAgdG9EYXRlID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9VdGNEYXRlKHRvRGF0ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RnJvbVRvRGF0ZUNoYW5nZWQodGhpcy5kYXRhSXRlbS5NaXNzaW9uRnJvbURhdGUsIHRvRGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBmcm9tRGF0ZSBvciB0b0RhdGUgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgc2V0RnJvbVRvRGF0ZUNoYW5nZWQgPSAoZnJvbURhdGUsIHRvRGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkgfHwgIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZSh0b0RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5NaXNzaW9uRGF5cyA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmRhdGVEaWZmRGF5cyhmcm9tRGF0ZSwgdG9EYXRlKSArIDE7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLk1pc3Npb25QYXJ0RGF0ZSA9IHRvRGF0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRXZlbnQgTWlzc2lvbmRheXMgQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgbWlzc2lvbkRheXNDaGFuZ2VkID0gKG1pc3Npb25EYXlzKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBmcm9tRGF0ZSA9IHRoaXMuZGF0YUl0ZW0uTWlzc2lvbkZyb21EYXRlO1xyXG4gICAgICAgICAgICB2YXIgdG9EYXRlID0gdGhpcy5kYXRhSXRlbS5NaXNzaW9uVG9EYXRlO1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkgJiYgIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZSh0b0RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuZGF0ZUFkZERheXMoZnJvbURhdGUsIG1pc3Npb25EYXlzIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLk1pc3Npb25Ub0RhdGUgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50b1V0Y0RhdGUoZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvL0V2ZW50IEZyb21UaW1lIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIGZyb21UaW1lQ2hhbmdlZCA9IChmcm9tVGltZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHRoaXMuZGF0YUl0ZW0uRHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRnJvbURhdGVUaW1lID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9EYXRlVGltZShmcm9tVGltZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLk1pc3Npb25Ub1RpbWUgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50aW1lQWRkSG91cnMoRnJvbURhdGVUaW1lLCB0aGlzLmRhdGFJdGVtLkR1cmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vRXZlbnQgVG9UaW1lIENoYW5nZWRcclxuICAgICAgICBwcml2YXRlIHRvVGltZUNoYW5nZWQgPSAodG9UaW1lKSA9PiB7XHJcbiAgICAgICAgICAgIC8vdmFyIFRvdGltZSA9IHRvVGltZS5nZXRIb3VycygpICsgXCI6XCIgKyB0b1RpbWUuZ2V0TWludXRlcygpICsgXCI6XCIgKyB0b1RpbWUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgICAgICB2YXIgVG9EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodG9UaW1lKTtcclxuICAgICAgICAgICAgdmFyIEZyb21EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodGhpcy5kYXRhSXRlbS5NaXNzaW9uRnJvbVRpbWUpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkR1cmF0aW9uID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMuZGF0ZURpZmZIb3VycyhGcm9tRGF0ZVRpbWUsIFRvRGF0ZVRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXZlbnQgRHVyYXRpb25DaGFuZ2VkXHJcbiAgICAgICAgcHJpdmF0ZSBkdXJhdGlvbkNoYW5nZWQgPSAoZHVyYXRpb246IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFIQ01TLlZhbGlkYXRpb25zLkNvbW1vblZhbGlkYXRpb25zLmlzTnVsbChkdXJhdGlvbikpIHtcclxuICAgICAgICAgICAgICAgLy8gdmFyIEZyb21EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodGhpcy5kYXRhSXRlbS5NaXNzaW9uRnJvbVRpbWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIEZyb21EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodGhpcy5kYXRhSXRlbS5NaXNzaW9uRnJvbVRpbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5NaXNzaW9uVG9UaW1lID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudGltZUFkZEhvdXJzKEZyb21EYXRlVGltZSwgZHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0V2ZW50IElTRnVsbERheSBUcnVlXHJcbiAgICAgICAgcHJpdmF0ZSBpc0Z1bGxEYXlDaGFuZ2VkID0gKGlzRnVsbERheTogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKGlzRnVsbERheSkgJiYgaXNGdWxsRGF5ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRpbWVSYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy9SZXNldCB2YWx1ZXMgb2YgZnJvbXRpbWUgYW5kIHRvIHRpbWVcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uTWlzc2lvbkZyb21UaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uTWlzc2lvblRvVGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkR1cmF0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5kYXRhSXRlbS5NaXNzaW9uUGFydERhdGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheVRpbWVSYW5nZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdtaXNzaW9uVHJhbnNhY3Rpb25Db250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE1pc3Npb25UcmFuc2FjdGlvbih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIE1pc3Npb25UcmFuc0hvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICBwdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkTWlzc2lvblByb2ZpbGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignbWlzc2lvblRyYW5zSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWlzc2lvblRyYW5zSG9tZSh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBpbnRlcmZhY2UgSVBlcm1pc2lvblRyYW5zRXZlbnQge1xyXG4gICAgICAgIGRlZmF1bHRBY3Rpb246IGFueVxyXG4gICAgfVxyXG4gICAgZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25UcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBwcml2YXRlIGVtcEFzc2lnbm1lbnRJZDogbnVtYmVyO1xyXG5cclxuICAgICAgICBwcml2YXRlIHBlcm1pc2lvbkZyb210aW1lRXZlbnRzOiBJUGVybWlzaW9uVHJhbnNFdmVudDtcclxuICAgICAgICBwcml2YXRlIHBlcm1pc2lvblRvdGltZUV2ZW50czogSVBlcm1pc2lvblRyYW5zRXZlbnQ7XHJcbiAgICAgICAgcHJpdmF0ZSBwZXJtaXNpb25EdXJhdGlvbkV2ZW50czogSVBlcm1pc2lvblRyYW5zRXZlbnQ7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAvL3NldCBUcmFuc2FjdGlvbkV2ZW50c1xyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc2lvbkZyb210aW1lRXZlbnRzID0geyBkZWZhdWx0QWN0aW9uOiB0aGlzLmZyb21UaW1lQ2hhbmdlZCB9O1xyXG4gICAgICAgICAgICB0aGlzLnBlcm1pc2lvblRvdGltZUV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy50b1RpbWVDaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIHRoaXMucGVybWlzaW9uRHVyYXRpb25FdmVudHMgPSB7IGRlZmF1bHRBY3Rpb246IHRoaXMuZHVyYXRpb25DaGFuZ2VkIH07XHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuZW1wQXNzaWdubWVudElkKSkgY3VycmVudE9iamVjdC5lbXBBc3NpZ25tZW50SWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmZW1wQXNzaWdubWVudElkPScgKyBjdXJyZW50T2JqZWN0LmVtcEFzc2lnbm1lbnRJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeUVtcEFzc2lnbm1lbnRJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL0V2ZW50IEZyb21UaW1lIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIGZyb21UaW1lQ2hhbmdlZCA9IChmcm9tVGltZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuQ29tbW9uVmFsaWRhdGlvbnMuaXNOdWxsKHRoaXMuZGF0YUl0ZW0uRHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRnJvbURhdGVUaW1lID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9EYXRlVGltZShmcm9tVGltZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLlRvVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRpbWVBZGRIb3VycyhGcm9tRGF0ZVRpbWUsIHRoaXMuZGF0YUl0ZW0uRHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRXZlbnQgVG9UaW1lIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHRvVGltZUNoYW5nZWQgPSAodG9UaW1lKSA9PiB7XHJcbiAgICAgICAgICAgIC8vdmFyIFRvdGltZSA9IHRvVGltZS5nZXRIb3VycygpICsgXCI6XCIgKyB0b1RpbWUuZ2V0TWludXRlcygpICsgXCI6XCIgKyB0b1RpbWUuZ2V0U2Vjb25kcygpO1xyXG4gICAgICAgICAgICB2YXIgVG9EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodG9UaW1lKTtcclxuICAgICAgICAgICAgdmFyIEZyb21EYXRlVGltZSA9IEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZVRpbWUodGhpcy5kYXRhSXRlbS5Gcm9tVGltZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uRHVyYXRpb24gPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy5kYXRlRGlmZkhvdXJzKEZyb21EYXRlVGltZSwgVG9EYXRlVGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEV2ZW50IER1cmF0aW9uQ2hhbmdlZFxyXG4gICAgICAgIHByaXZhdGUgZHVyYXRpb25DaGFuZ2VkID0gKGR1cmF0aW9uOiBudW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmICghSENNUy5WYWxpZGF0aW9ucy5Db21tb25WYWxpZGF0aW9ucy5pc051bGwoZHVyYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgRnJvbURhdGVUaW1lID0gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9EYXRlVGltZSh0aGlzLmRhdGFJdGVtLkZyb21UaW1lKTtcclxuICAgICAgICAgICAgICAgIHZhciBGcm9tRGF0ZVRpbWUgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50b0RhdGVUaW1lKHRoaXMuZGF0YUl0ZW0uRnJvbVRpbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5Ub1RpbWUgPSBIQ01TLlZhbGlkYXRpb25zLkRhdGVWYWxpZGF0aW9ucy50aW1lQWRkSG91cnMoRnJvbURhdGVUaW1lLCBkdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Blcm1pc3Npb25UcmFuc2FjdGlvbkNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGVybWlzc2lvblRyYW5zYWN0aW9uKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgUGVybWlzc2lvblRyYW5zSG9tZSBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgc2VsZWN0ZWRIZWFkZXJWaWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkVkaXRWaWV3KCk7XHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHB1YmxpYyBsaXN0T3B0aW9uczogYW55ID0geyBzZWxlY3RDYWxsYmFjazogbnVsbCwgaW5kZXhDb250cm9sbGVyOiBudWxsIH07XHJcbiAgICAgICAgcHVibGljIHNlbGVjdGVkUHJvZmlsZTogYW55ID0ge307XHJcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmVUYWJJbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5saXN0T3B0aW9ucyA9IHsgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzLCBlbmFibGVSdGw6IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRQZXJtaXNzaW9uUHJvZmlsZScpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9wdWJsaWMgYWN0aXZhdGVUYWIodGFiKSB7XHJcbiAgICAgICAgLy8gICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIC8vfTtcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwZXJtaXNzaW9uVHJhbnNIb21lQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uVHJhbnNIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwiXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBFbXBBc3NpZ25tZW50Q29udHJvbGxlciBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBwcm9maWxlSWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bXCJQcm9maWxlSWRcIl07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwcm9maWxlSWQpKSBwcm9maWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmcHJvZmlsZUlkPScgKyBwcm9maWxlSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlQcm9maWxlSWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0uRW1wQXNzaWdubWVudElkID0gcmVzdWx0LmRhdGEuUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLk9uRWRpdENsaWNrZWQuYWRkSGFuZGxlcigocmVzdWx0OiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0uRW1wQXNzaWdubWVudElkID0gcmVzdWx0LmRhdGEuRW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuT25BZGRpbmcuYWRkSGFuZGxlcigocmVzdWx0OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUHJvZmlsZUlkID0gdGhpcy5wYXJlbnRJdGVtLlByb2ZpbGVJZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgoKSA9PiBzY29wZS5wYXJlbnRJdGVtLlByb2ZpbGVJZCxcclxuICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEl0ZW0uUHJvZmlsZUlkID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5HZXREYXRhQnlQYXJlbnRJZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZGROZXdDbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGRJdGVtVmlldygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtLkVtcFN0YXR1c0lkID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwcm9maWxlU3ViRm9ybUNvbnRyb2xsZXInLCBQcm9maWxlU3ViRm9ybUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdlbXBBc3NpZ25tZW50Q29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBBc3NpZ25tZW50Q29udHJvbGxlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgRW1wQXNzaWdubWVudFN1YkZvcm1Db250cm9sbGVyIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1wQXNzaWdubWVudElkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoZW1wQXNzaWdubWVudElkKSkgZW1wQXNzaWdubWVudElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJkVtcEFzc2lnbm1lbnRJZD0nICsgZW1wQXNzaWdubWVudElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5RW1wQXNzaWdubWVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVTdWJGb3JtQ29udHJvbGxlcicsIFByb2ZpbGVTdWJGb3JtQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VtcEFzc2lnbm1lbnRTdWJGb3JtQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBBc3NpZ25tZW50U3ViRm9ybUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iLCJcclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEVtcEFzc2lnbm1lbnRUYWJzQ29udHJvbGxlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBwdWJsaWMgRm9ybVNldHVwOiBCYXNlRm9ybVNldHVwO1xyXG4gICAgICAgIHB1YmxpYyBwYXJlbnRJZEZpZWxkTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBwYXJlbnRJdGVtOiBhbnk7XHJcbiAgICAgICAgcHVibGljIHNjb3BlOiBuZy5JU2NvcGU7XHJcbiAgICAgICAgcHVibGljIHN0YWNrVGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogbmcuSVNjb3BlLCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIC8vc2V0IGxvZ2luIEluZm9cclxuICAgICAgICAgICAgdGhpcy5zY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gJ0VtcEFzc2lnbm1lbnRJZCc7XHJcbiAgICAgICAgICAgIHRoaXMucGFyZW50SXRlbSA9IHNjb3BlLnBhcmVudEl0ZW07XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VycmVudEluZm86IERhdGFBY2Nlc3MuSUN1cnJlbnRMb2dpbkluZm8gPSBEYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mbztcclxuICAgICAgICAgICAgLy9pZiAoY3VycmVudEluZm8gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyAgICBjdXJyZW50SW5mbyA9IG5ldyBEYXRhQWNjZXNzLkN1cnJlbnRMb2dpbkluZm8oZGJNYW5hZ2VyKTtcclxuICAgICAgICAgICAgLy8gICAgdmFyIGN1cnJlbnRVc2VyID0gYW5ndWxhci5mcm9tSnNvbihzZXNzaW9uU3RvcmFnZVsndXNlciddKTtcclxuICAgICAgICAgICAgLy8gICAgY3VycmVudEluZm8uU2V0TG9naW5JbmZvKHsgVXNlcklkOiBjdXJyZW50VXNlci51c2VySWQsIExhbmdJZDogY3VycmVudFVzZXIubGFuZ0lkLCBEYXRhYmFzZVByb2ZpbGVJZDogY3VycmVudFVzZXIuZGF0YWJhc2VQcm9maWxlSWQsIENvbXBhbnlJZDogY3VycmVudFVzZXIuY29tcGFueUlkIH0pO1xyXG4gICAgICAgICAgICAvLyAgICBEYXRhQWNjZXNzLlN0YXJ0VXAuU2V0Q3VycmVudExvZ2luSW5mbyhjdXJyZW50SW5mbyk7XHJcbiAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAgPSBuZXcgQmFzZUZvcm1TZXR1cCh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGN1cnJlbnRJbmZvLlVzZXIuVXNlcklkLCBzY29wZS5mb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY29wZS4kd2F0Y2goKCkgPT4gdGhpcy5zY29wZS5wYXJlbnRJdGVtLFxyXG4gICAgICAgICAgICAgICAgKG5ld1ZhbHVlOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SXRlbSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YWNrVGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBoY21zRm9ybXMuY29udHJvbGxlcigncGVyc29uYWxEYXRhVGFic0NvbnRyb2xsZXInLCBQZXJzb25hbERhdGFUYWJzQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2VtcEFzc2lnbm1lbnRUYWJzQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbXBBc3NpZ25tZW50VGFic0NvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxufVxyXG5cclxuIiwibW9kdWxlIEhDTVMuRm9ybXMge1xyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXBsb2FkRW1wVmFjYXRpb25EdWVBZGp1c3RtZW50SG9tZSBleHRlbmRzIGV4Y2VsSGVhZGVyc0hvbWUge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgLy90aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZGV4Y2VsVmFjRHVlQWRqSGVhZGVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYWRkTmV3Q2xpY2tlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgLy90aGlzLmRhdGFJdGVtID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0uUmVmTm8gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkZXhjZWxWYWNEdWVBZGpIZWFkZXInKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3VwbG9hZEVtcFZhY2F0aW9uRHVlQWRqdXN0bWVudEhvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVwbG9hZEVtcFZhY2F0aW9uRHVlQWRqdXN0bWVudEhvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXBsb2FkRW1wVmFjYXRpb25EdWVBZGp1c3RtZW50IGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgeGxzT3B0aW9ucyA9IHsgZGF0YTogW10sIGZpbGVOYW1lOiBcIlwiLCBvbkNoYW5nZWQ6IG51bGwsIG9uQ2xpY2s6IG51bGwgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzbWFydEFMZXJ0OiBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQ7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIFJlZk5vOiBudW1iZXIgPSAwOztcclxuICAgICAgICBwcml2YXRlIEZpbGVOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUuZm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydCA9IG5ldyBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29wZS4kd2F0Y2goKCkgPT4gdGhpcy5zY29wZS5wYXJlbnRJdGVtLlJlZk5vLFxyXG4gICAgICAgICAgICAgICAgICAgIChuZXdWYWx1ZTogc3RyaW5nLCBvbGRWYWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWZObyA9IE51bWJlci5wYXJzZUludChuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5SZWZObyA9IHRoaXMuUmVmTm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkQnlSZWZObygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVOZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmNyZWF0ZU5ldygpO1xyXG4gICAgICAgICAgICAgICAgLy8gIHRoaXMuUmVmTm8gPSBFeGNlbEhlYWRlci5zZWxlY3RlZFByb2ZpbGVcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy54bHNPcHRpb25zLm9uQ2xpY2sgPSB0aGlzLmNsZWFyU2VsZWN0ZWRGaWxlO1xyXG4gICAgICAgICAgICAvL3RoaXMueGxzT3B0aW9ucy5vbkNoYW5nZWQgPSB0aGlzLmVtcG9ydERhdGFDaGFuZ2VkO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgTG9hZEZyb21FeGNlbCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgLy90aGlzLmRiTWFuYWdlci5Qb3N0KHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgXCJHZXRMaXN0XCIsIFwiXCIsIGRhdGEsIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgdGhpcy5kYXRhTGlzdCA9IHJlc3VsdC5kYXRhO1xyXG4gICAgICAgICAgICAvL30sIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgLy8gICAgdGhpcy5zbWFydEFMZXJ0LkVycm9yKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgLy99KVxyXG4gICAgICAgICAgICBpZiAodGhpcy5SZWZObyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBlbnRlciBSZWZlcmVuY2UgTm9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5GaWxlTmFtZSA9ICh0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWUgPT0gbnVsbCB8fCB0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWUgPT0gXCJcIiA/IFwidGV4dFwiIDogdGhpcy54bHNPcHRpb25zLmZpbGVOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRmlsZU5hbWUgPSB0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWU7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy54bHNPcHRpb25zLmRhdGE7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5GaWxlTmFtZSA9PSBudWxsIHx8IHRoaXMuRmlsZU5hbWUgPT0gXCJcIiB8fCBkYXRhID09IG51bGwgfHwgZGF0YS5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0Lldhcm5pbmcoXCJQbGVhc2Ugc2VsZWN0IGZpbGUgZm9yIHVwbG9hZC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObyArIFwiJmZpbGVOYW1lPVwiICsgdGhpcy5GaWxlTmFtZTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgKGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zdFJlc3VsdCA9IGF3YWl0IHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgXCJTYXZlTGlzdFwiLCBxdWVyeVN0cmluZywgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmdldExpc3QoKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNsZWFyU2VsZWN0ZWRGaWxlID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZS53cmFwKCc8Zm9ybT4nKS5jbG9zZXN0KCdmb3JtJykuZ2V0KDApLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIGUudW53cmFwKCk7XHJcblxyXG4gICAgICAgICAgICAvLy8vIFByZXZlbnQgZm9ybSBzdWJtaXNzaW9uXHJcbiAgICAgICAgICAgIC8vZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgLy9lLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGdldExpc3QgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObztcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkdldExpc3RcIiwgcXVlcnlTdHJpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGNyZWF0ZU5ldyA9IGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGJNYW5hZ2VyLkdldFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkdldE1heFJlZk5vXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB0aGlzLlJlZk5vID0gcmVzdWx0LmRhdGE7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBsb2FkQnlSZWZObyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuUmVmTm8gPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0Lldhcm5pbmcoXCJQbGVhc2UgZW50ZXIgUmVmZXJlbmNlIE5vXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwb3N0SXRlbUxpc3QgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObztcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJvd3MgPSB0aGlzLmdyaWQuZ3JpZE9wdGlvbnMuYXBpLmdldFNlbGVjdGVkUm93cygpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBSZWZJZCB9KSA9PiBSZWZJZCk7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlBvc3RMaXN0XCIsIHF1ZXJ5U3RyaW5nLCBzZWxlY3RlZElkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy92YXIgcmVzdWx0MiA9IGF3YWl0IHRoaXMuZ2V0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkFsZXJ0KFwiUmVjb3JkcyBoYXMgYmVlbiBwb3N0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIllvdSBtdXN0IHNlbGVjdCByZWNvcmQocykgdG8gcG9zdC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHVuUG9zdEl0ZW1MaXN0ID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoZXNlIGl0ZW1zXCIsIFwiXCIsIGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9yZWZObz1cIiArIHRoaXMuUmVmTm87XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZ3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkSWRzID0gc2VsZWN0ZWRSb3dzLm1hcCgoeyBSZWZJZCB9KSA9PiBSZWZJZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGF3YWl0IHRoaXMuZGJNYW5hZ2VyLlBvc3RQcm9taXNlKHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgXCJVblBvc3RMaXN0XCIsIHF1ZXJ5U3RyaW5nLCBzZWxlY3RlZElkcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIHJlc3VsdDIgPSBhd2FpdCB0aGlzLmdldExpc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJSZWNvcmRzIGhhcyBiZWVuIHBvc3RlZCBzdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiWW91IG11c3Qgc2VsZWN0IHJlY29yZChzKSB0byB1bnBvc3QuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9mb3IgKGxldCBlbnRyeSBvZiBzZWxlY3RlZFJvd3MpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUxpc3QuaW5kZXhPZihlbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAvL31cclxuXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBkZWxldGVSZWZObyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoZXNlIGl0ZW1zXCIsIFwiXCIsIGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9yZWZObz1cIiArIHRoaXMuUmVmTm87XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkRlbGV0ZVwiLCBxdWVyeVN0cmluZywgbnVsbCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBIQ01TLkNvbnRyb2xzLm1lc3NhZ2VIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlLk1lc3NhZ2VDb25maXJtYXRpb24ocmVzdWx0LmRhdGEsIFwiRGVsZXRlZCBTdWNjZXNzZnVseVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEJ5UmVmTm8oKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3ByaXZhdGUgc2F2ZUl0ZW1MaXN0ID0gKHZhbGlkKSA9PiB7XHJcbiAgICAgICAgLy8gICAgaWYgKHRoaXMueGxzT3B0aW9ucy5kYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgLy8gICAgICAgIC8vIHZhciBkYXRhID0gSlNPTi5wYXJzZSh0aGlzLnhsc09wdGlvbnMuZGF0YS50b1N0cmluZygpKTtcclxuICAgICAgICAvLyAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGFMaXN0Oy8vIEpTT04uc3RyaW5naWZ5KHRoaXMueGxzT3B0aW9ucy5kYXRhKTtcclxuICAgICAgICAvLyAgICAgICAgdGhpcy5kYk1hbmFnZXIuUG9zdCh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiU2F2ZUxpc3RcIiwgXCJcIiwgZGF0YSwgKHJlc3VsdCkgPT4ge1xyXG5cclxuICAgICAgICAvLyAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5BbGVydChcIlNhdmVkIFN1Y2Nlc3NmdWxseVwiKTtcclxuXHJcbiAgICAgICAgLy8gICAgICAgIH0sIChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5FcnJvcihyZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgLy8gICAgICAgIH0pXHJcblxyXG4gICAgICAgIC8vICAgIH1cclxuXHJcbiAgICAgICAgLy99XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZGVsZXRlQ2xpY2tlZCA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5Db25maXJtKFwiYXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGl0ZW1cIiwgXCJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkZWxldGVTZWxlY3RlZFJvd3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5Db25maXJtKFwiYXJlIHlvdSBzdXJlIHRvIGRlbGV0ZSB0aGlzIGl0ZW1cIiwgXCJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZ3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBzZWxlY3RlZFJvd3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFMaXN0LmluZGV4T2YoZW50cnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCd1cGxvYWRFbXBWYWNhdGlvbkR1ZUFkanVzdG1lbnRDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVwbG9hZEVtcFZhY2F0aW9uRHVlQWRqdXN0bWVudCh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn0iLCJtb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBVcGxvYWRFbXBWYWNhdGlvbnNIb21lIGV4dGVuZHMgZXhjZWxIZWFkZXJzSG9tZSB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkZXhjZWxWYWNUcmFuc0hlYWRlcicpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGROZXdDbGlja2VkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuZGF0YUl0ZW0gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbS5SZWZObyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZGV4Y2VsVmFjVHJhbnNIZWFkZXInKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3VwbG9hZEVtcFZhY2F0aW9uc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVwbG9hZEVtcFZhY2F0aW9uc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxuXHJcbiAgICBleHBvcnQgY2xhc3MgVXBsb2FkRW1wVmFjYXRpb25zIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIHByaXZhdGUgeGxzT3B0aW9ucyA9IHsgZGF0YTogW10sIGZpbGVOYW1lOiBcIlwiLCBvbkNoYW5nZWQ6IG51bGwsIG9uQ2xpY2s6IG51bGwgfTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBzbWFydEFMZXJ0OiBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQ7XHJcblxyXG5cclxuICAgICAgICBwcml2YXRlIFJlZk5vOiBudW1iZXIgPSAwOztcclxuICAgICAgICBwcml2YXRlIEZpbGVOYW1lOiBzdHJpbmcgPSBcIlwiO1xyXG5cclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHByaXZhdGUgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUuZm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydCA9IG5ldyBIQ01TLkNvbnRyb2xzLlNtYXJ0QWxlcnQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3BlLiR3YXRjaCgoKSA9PiB0aGlzLnNjb3BlLnBhcmVudEl0ZW0uUmVmTm8sXHJcbiAgICAgICAgICAgICAgICAgICAgKG5ld1ZhbHVlOiBzdHJpbmcsIG9sZFZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZk5vID0gTnVtYmVyLnBhcnNlSW50KG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLlJlZk5vID0gdGhpcy5SZWZObztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRCeVJlZk5vKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5ldygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuY3JlYXRlTmV3KCk7XHJcbiAgICAgICAgICAgICAgICAvLyAgdGhpcy5SZWZObyA9IEV4Y2VsSGVhZGVyLnNlbGVjdGVkUHJvZmlsZVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnhsc09wdGlvbnMub25DbGljayA9IHRoaXMuY2xlYXJTZWxlY3RlZEZpbGU7XHJcbiAgICAgICAgICAgIC8vdGhpcy54bHNPcHRpb25zLm9uQ2hhbmdlZCA9IHRoaXMuZW1wb3J0RGF0YUNoYW5nZWQ7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBMb2FkRnJvbUV4Y2VsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAvL3RoaXMuZGJNYW5hZ2VyLlBvc3QodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkdldExpc3RcIiwgXCJcIiwgZGF0YSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLmRhdGFMaXN0ID0gcmVzdWx0LmRhdGE7XHJcbiAgICAgICAgICAgIC8vfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNtYXJ0QUxlcnQuRXJyb3IocmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICAvL30pXHJcbiAgICAgICAgICAgIGlmICh0aGlzLlJlZk5vIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiUGxlYXNlIGVudGVyIFJlZmVyZW5jZSBOb1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy90aGlzLkZpbGVOYW1lID0gKHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBudWxsIHx8IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZSA9PSBcIlwiID8gXCJ0ZXh0XCIgOiB0aGlzLnhsc09wdGlvbnMuZmlsZU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5GaWxlTmFtZSA9IHRoaXMueGxzT3B0aW9ucy5maWxlTmFtZTtcclxuICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnhsc09wdGlvbnMuZGF0YTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLkZpbGVOYW1lID09IG51bGwgfHwgdGhpcy5GaWxlTmFtZSA9PSBcIlwiIHx8IGRhdGEgPT0gbnVsbCB8fCBkYXRhLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBzZWxlY3QgZmlsZSBmb3IgdXBsb2FkLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vICsgXCImZmlsZU5hbWU9XCIgKyB0aGlzLkZpbGVOYW1lO1xyXG5cclxuICAgICAgICAgICAgLy9pZiAoZGF0YSA9PSBudWxsIHx8IGRhdGEubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwb3N0UmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlNhdmVMaXN0XCIsIHF1ZXJ5U3RyaW5nLCBkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY2xlYXJTZWxlY3RlZEZpbGUgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLndyYXAoJzxmb3JtPicpLmNsb3Nlc3QoJ2Zvcm0nKS5nZXQoMCkucmVzZXQoKTtcclxuICAgICAgICAgICAgZS51bndyYXAoKTtcclxuXHJcbiAgICAgICAgICAgIC8vLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cclxuICAgICAgICAgICAgLy9lLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgZ2V0TGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TGlzdFwiLCBxdWVyeVN0cmluZyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSByZXN1bHQuZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgY3JlYXRlTmV3ID0gYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuR2V0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiR2V0TWF4UmVmTm9cIiwgXCJcIik7XHJcbiAgICAgICAgICAgIHRoaXMuUmVmTm8gPSByZXN1bHQuZGF0YTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIGxvYWRCeVJlZk5vID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5SZWZObyA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuV2FybmluZyhcIlBsZWFzZSBlbnRlciBSZWZlcmVuY2UgTm9cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwcml2YXRlIHBvc3RJdGVtTGlzdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gXCI/cmVmTm89XCIgKyB0aGlzLlJlZk5vO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkUm93cyA9IHRoaXMuZ3JpZC5ncmlkT3B0aW9ucy5hcGkuZ2V0U2VsZWN0ZWRSb3dzKCk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5Qb3N0UHJvbWlzZSh0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsIFwiUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZhciByZXN1bHQyID0gYXdhaXQgdGhpcy5nZXRMaXN0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQWxlcnQoXCJSZWNvcmRzIGhhcyBiZWVuIHBvc3RlZCBzdWNjZXNzZnVsbHlcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5XYXJuaW5nKFwiWW91IG11c3Qgc2VsZWN0IHJlY29yZChzKSB0byBwb3N0LlwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByaXZhdGUgdW5Qb3N0SXRlbUxpc3QgPSBhc3luYyAoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNtYXJ0QUxlcnQuQ29uZmlybShcImFyZSB5b3Ugc3VyZSB0byBkZWxldGUgdGhlc2UgaXRlbXNcIiwgXCJcIiwgYXN5bmMgKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IFwiP3JlZk5vPVwiICsgdGhpcy5SZWZObztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5ncmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZFJvd3MubWFwKCh7IFJlZklkIH0pID0+IFJlZklkKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIlVuUG9zdExpc3RcIiwgcXVlcnlTdHJpbmcsIHNlbGVjdGVkSWRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgcmVzdWx0MiA9IGF3YWl0IHRoaXMuZ2V0TGlzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc21hcnRBTGVydC5BbGVydChcIlJlY29yZHMgaGFzIGJlZW4gcG9zdGVkIHN1Y2Nlc3NmdWxseVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0Lldhcm5pbmcoXCJZb3UgbXVzdCBzZWxlY3QgcmVjb3JkKHMpIHRvIHVucG9zdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2ZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhTGlzdC5pbmRleE9mKGVudHJ5KTtcclxuICAgICAgICAgICAgICAgIC8vICAgIHRoaXMuZGF0YUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBkZWxldGVSZWZObyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoZXNlIGl0ZW1zXCIsIFwiXCIsIGFzeW5jICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBcIj9yZWZObz1cIiArIHRoaXMuUmVmTm87XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYk1hbmFnZXIuUG9zdFByb21pc2UodGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCBcIkRlbGV0ZVwiLCBxdWVyeVN0cmluZywgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBuZXcgSENNUy5Db250cm9scy5tZXNzYWdlSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZS5NZXNzYWdlQ29uZmlybWF0aW9uKHJlc3VsdC5kYXRhLCBcIkRlbGV0ZWQgU3VjY2Vzc2Z1bHlcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCeVJlZk5vKCk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzYXZlSXRlbUxpc3QgPSAodmFsaWQpID0+IHtcclxuICAgICAgICAvLyAgICBpZiAodGhpcy54bHNPcHRpb25zLmRhdGEgIT09IG51bGwpIHtcclxuICAgICAgICAvLyAgICAgICAgLy8gdmFyIGRhdGEgPSBKU09OLnBhcnNlKHRoaXMueGxzT3B0aW9ucy5kYXRhLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIC8vICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YUxpc3Q7Ly8gSlNPTi5zdHJpbmdpZnkodGhpcy54bHNPcHRpb25zLmRhdGEpO1xyXG4gICAgICAgIC8vICAgICAgICB0aGlzLmRiTWFuYWdlci5Qb3N0KHRoaXMuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgXCJTYXZlTGlzdFwiLCBcIlwiLCBkYXRhLCAocmVzdWx0KSA9PiB7XHJcblxyXG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkFsZXJ0KFwiU2F2ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xyXG5cclxuICAgICAgICAvLyAgICAgICAgfSwgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkVycm9yKHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAvLyAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gICAgfVxyXG5cclxuICAgICAgICAvL31cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBkZWxldGVDbGlja2VkID0gKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgaXRlbVwiLCBcIlwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFMaXN0LmluZGV4T2YoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRlbGV0ZVNlbGVjdGVkUm93cyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zbWFydEFMZXJ0LkNvbmZpcm0oXCJhcmUgeW91IHN1cmUgdG8gZGVsZXRlIHRoaXMgaXRlbVwiLCBcIlwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRSb3dzID0gdGhpcy5ncmlkLmdyaWRPcHRpb25zLmFwaS5nZXRTZWxlY3RlZFJvd3MoKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkUm93cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUxpc3QuaW5kZXhPZihlbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3VwbG9hZEVtcFZhY2F0aW9uc0NvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVXBsb2FkRW1wVmFjYXRpb25zKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZWZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbiBcclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEFsbEpvYnMgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBmb3JtSWQ6IG51bWJlcjtcclxuICAgICAgICAvL3ByaXZhdGUgYXBpQ29udHJvbGxlcjogc3RyaW5nOyBcclxuICAgICAgICBwcml2YXRlIHBhcmVudElkRmllbGROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcy5sb2FkRGF0YSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkVkaXRDYWxsYmFjayA9IHRoaXMuZWRpdENsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkRlbGV0ZUNhbGxiYWNrID0gdGhpcy5kZWxldGVDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXc7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuQ2FsbGJhY2tPbkxvYWQgPSAodmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRJZEZpZWxkTmFtZSA9IHRoaXMuZ2V0SWRGaWVsZE5hbWUodmlldy5WaWV3RmllbGRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEgPSBuZXcgQmFzZUZvcm1EYXRhKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgZm9ybSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHRoaXMuRm9ybURhdGEuZGF0YUl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuRm9ybURhdGEuZGF0YUxpc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uQWRkZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEl0ZW1WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uVXBkYXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25EZWxldGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuT25BZGRpbmcuYWRkSGFuZGxlcih0aGlzLmJlZm9yZUFkZCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgYWRkSXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFkZFZpZXcoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhSXRlbShcIjBcIiwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZXdJZCA9IHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVmlld0lkO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVGaWVsZCA9IHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVGFibGVDb2RlRmllbGQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY29kZUZpZWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlRmllbGQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5HZXROZXdDb2RlKHZpZXdJZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1bY29kZUZpZWxkXSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZWRpdEl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlFZGl0VmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRpc3BsYXlJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RGV0YWlsc1ZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgaW5kZXhJdGVtVmlldyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvL2hjbXNGb3Jtcy5jb250cm9sbGVyKCdnZW5lcmFsRm9ybVNldHVwQ29udHJvbGxlcicsIEdlbmVyYWxGb3JtU2V0dXApO1xyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhbGxKb2JzQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmFsRm9ybVNldHVwKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2Vmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG4gXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBBbGxPcmdVbml0cyBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGZvcm1JZDogbnVtYmVyO1xyXG4gICAgICAgIC8vcHJpdmF0ZSBhcGlDb250cm9sbGVyOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRJZEZpZWxkTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMubG9hZERhdGEoKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5FZGl0Q2FsbGJhY2sgPSB0aGlzLmVkaXRDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkNhbGxiYWNrT25Mb2FkID0gKHZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SWRGaWVsZE5hbWUgPSB0aGlzLmdldElkRmllbGROYW1lKHZpZXcuVmlld0ZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhID0gbmV3IEJhc2VGb3JtRGF0YSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGZvcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLkZvcm1EYXRhLmRhdGFMaXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PblVwZGF0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEl0ZW1WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uRGVsZXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLk9uQWRkaW5nLmFkZEhhbmRsZXIodGhpcy5iZWZvcmVBZGQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFkZEl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUl0ZW0oXCIwXCIsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWV3SWQgPSB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlZpZXdJZDtcclxuICAgICAgICAgICAgICAgIHZhciBjb2RlRmllbGQgPSB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlRhYmxlQ29kZUZpZWxkO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNvZGVGaWVsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZUZpZWxkICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuR2V0TmV3Q29kZSh2aWV3SWQsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtW2NvZGVGaWVsZF0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGVkaXRJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RWRpdFZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkaXNwbGF5SXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheURldGFpbHNWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGluZGV4SXRlbVZpZXcgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9oY21zRm9ybXMuY29udHJvbGxlcignZ2VuZXJhbEZvcm1TZXR1cENvbnRyb2xsZXInLCBHZW5lcmFsRm9ybVNldHVwKTtcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignYWxsT3JnVW5pdHNDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEdlbmVyYWxGb3JtU2V0dXAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxuXHJcbn1cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZWZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbiBcclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIEFsbFBvc2l0aW9ucyBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIGZvcm1JZDogbnVtYmVyO1xyXG4gICAgICAgIC8vcHJpdmF0ZSBhcGlDb250cm9sbGVyOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRJZEZpZWxkTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMubG9hZERhdGEoKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5FZGl0Q2FsbGJhY2sgPSB0aGlzLmVkaXRDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkNhbGxiYWNrT25Mb2FkID0gKHZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SWRGaWVsZE5hbWUgPSB0aGlzLmdldElkRmllbGROYW1lKHZpZXcuVmlld0ZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhID0gbmV3IEJhc2VGb3JtRGF0YSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGZvcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLkZvcm1EYXRhLmRhdGFMaXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PblVwZGF0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleEl0ZW1WaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uRGVsZXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLk9uQWRkaW5nLmFkZEhhbmRsZXIodGhpcy5iZWZvcmVBZGQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGFkZEl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUl0ZW0oXCIwXCIsIChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB2aWV3SWQgPSB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlZpZXdJZDtcclxuICAgICAgICAgICAgICAgIHZhciBjb2RlRmllbGQgPSB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlRhYmxlQ29kZUZpZWxkO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNvZGVGaWVsZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZUZpZWxkICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuR2V0TmV3Q29kZSh2aWV3SWQsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtW2NvZGVGaWVsZF0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGVkaXRJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RWRpdFZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBkaXNwbGF5SXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheURldGFpbHNWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcHVibGljIGluZGV4SXRlbVZpZXcgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy9oY21zRm9ybXMuY29udHJvbGxlcignZ2VuZXJhbEZvcm1TZXR1cENvbnRyb2xsZXInLCBHZW5lcmFsRm9ybVNldHVwKTtcclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignYWxsUG9zaXRpb25zQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmFsRm9ybVNldHVwKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9nZW5lcmFsZm9ybXMvZ2VuZXJhbGZvcm0udHNcIiAvPlxyXG5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBpbnRlcmZhY2UgSVBheUl0ZW1FdmVudCB7XHJcbiAgICAgICAgZGVmYXVsdEFjdGlvbjogYW55XHJcbiAgICB9XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFBheUl0ZW0gZXh0ZW5kcyBHZW5lcmFsRm9ybVNldHVwIHtcclxuICAgICAgICBwcml2YXRlIHBheUl0ZW1zQ2FsY01ldGhvZEV2ZW50czogSVBheUl0ZW1FdmVudDtcclxuXHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCBzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG5cclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IFRyYW5zYWN0aW9uIEV2ZW50c1xyXG4gICAgICAgICAgICB0aGlzLnBheUl0ZW1zQ2FsY01ldGhvZEV2ZW50cyA9IHsgZGVmYXVsdEFjdGlvbjogdGhpcy5wYXlJdGVtc0NhbGNNZXRob2RDaGFuZ2VkIH07XHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0V2ZW50IGZyb21EYXRlIENoYW5nZWQgICBcclxuICAgICAgICBwcml2YXRlIHBheUl0ZW1zQ2FsY01ldGhvZENoYW5nZWQgPSAobWV0aG9kSWQpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1ldGhvZElkID09IDMpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9FbmhhYmxlIEJhc2VkIG9uIEllbVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiUGF5QmFzZWRPbkdyb3VwXCJdLklzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiUGF5QmFzZWRPbkl0ZW1cIl0uSXNSZWFkT25seSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLlZpZXdGaWVsZHNPYmplY3RbXCJGb3JtdWxhSWRcIl0uSXNSZWFkT25seSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGhvZElkID09IDEpIHtcclxuICAgICAgICAgICAgICAgIC8vRW5oYWJsZSBCYXNlZCBvbiBHcm91cFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiUGF5QmFzZWRPbkdyb3VwXCJdLklzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiUGF5QmFzZWRPbkl0ZW1cIl0uSXNSZWFkT25seSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiRm9ybXVsYUlkXCJdLklzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1ldGhvZElkID09IDIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVmlld0ZpZWxkc09iamVjdFtcIlBheUJhc2VkT25Hcm91cFwiXS5Jc1JlYWRPbmx5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVmlld0ZpZWxkc09iamVjdFtcIlBheUJhc2VkT25JdGVtXCJdLklzUmVhZE9ubHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3RmllbGRzT2JqZWN0W1wiRm9ybXVsYUlkXCJdLklzUmVhZE9ubHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICBcclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigncGF5SXRlbUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgUGF5SXRlbSh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZWZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBMb2FuUnVsZUNvbnRyb2xsZXIgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBmb3JtSWQ6IG51bWJlcjtcclxuICAgICAgICAvL3ByaXZhdGUgYXBpQ29udHJvbGxlcjogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRWRpdENhbGxiYWNrID0gdGhpcy5lZGl0Q2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5DYWxsYmFja09uTG9hZCA9ICh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3LlZpZXdGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5PbkFkZGluZy5hZGRIYW5kbGVyKHRoaXMuYmVmb3JlQWRkKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGRJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QWRkVmlldygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlld0lkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3SWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZUZpZWxkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5UYWJsZUNvZGVGaWVsZDtcclxuICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjb2RlRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVGaWVsZCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLkdldE5ld0NvZGUodmlld0lkLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbVtjb2RlRmllbGRdID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBlZGl0SXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUVkaXRWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZGlzcGxheUl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlEZXRhaWxzVmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBpbmRleEl0ZW1WaWV3ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2xvYW5SdWxlQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2FuUnVsZUNvbnRyb2xsZXIodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICAgZXhwb3J0IGNsYXNzIFBlbmFsdHlTZXR1cCBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuXHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIHByaXZhdGUgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRWRpdENhbGxiYWNrID0gdGhpcy5lZGl0Q2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5DYWxsYmFja09uTG9hZCA9ICh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3LlZpZXdGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25FZGl0Q2xpY2tlZC5hZGRIYW5kbGVyKHRoaXMuYWZ0ZXJFZGl0Q2xpY2tlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLk9uQWRkaW5nLmFkZEhhbmRsZXIodGhpcy5iZWZvcmVBZGQpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYWZ0ZXJFZGl0Q2xpY2tlZCA9IChkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYWRkSXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFkZFZpZXcoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhSXRlbShcIjBcIiwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZpZXdJZCA9IHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVmlld0lkO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvZGVGaWVsZCA9IHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAuVGFibGVDb2RlRmllbGQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY29kZUZpZWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlRmllbGQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5HZXROZXdDb2RlKHZpZXdJZCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW1bY29kZUZpZWxkXSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgZWRpdEl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlFZGl0VmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGRpc3BsYXlJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5RGV0YWlsc1ZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBwdWJsaWMgaW5kZXhJdGVtVmlldyA9ICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdwZW5hbHR5U2V0dXBDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBlbmFsdHlTZXR1cCh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcblxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgICBleHBvcnQgY2xhc3MgUGVuYWx0eVNldHVwRGV0YWlscyBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50SWQgPSBjdXJyZW50T2JqZWN0LnBhcmVudEl0ZW1bY3VycmVudE9iamVjdC5wYXJlbnRJZEZpZWxkTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc1VuZGVmaW5lZChwYXJlbnRJZCkpIHBhcmVudElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJnBhcmVudElkPScgKyBwYXJlbnRJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVBhcmVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3Byb2ZpbGVTdWJGb3JtQ29udHJvbGxlcicsIFByb2ZpbGVTdWJGb3JtQ29udHJvbGxlcik7XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3BlbmFsdHlTZXR1cERldGFpbHNDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFBlbmFsdHlTZXR1cERldGFpbHModHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG5cclxuICIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZWZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgIGV4cG9ydCBjbGFzcyBWYWNhdGlvblJ1bGUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBmb3JtSWQ6IG51bWJlcjtcclxuICAgICAgICAvL3ByaXZhdGUgYXBpQ29udHJvbGxlcjogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRWRpdENhbGxiYWNrID0gdGhpcy5lZGl0Q2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5DYWxsYmFja09uTG9hZCA9ICh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3LlZpZXdGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4SXRlbVZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhJdGVtVmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5PbkFkZGluZy5hZGRIYW5kbGVyKHRoaXMuYmVmb3JlQWRkKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBhZGRJdGVtVmlldygpIHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QWRkVmlldygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFJdGVtKFwiMFwiLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlld0lkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5WaWV3SWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZUZpZWxkID0gdGhpcy5zZWxlY3RlZFZpZXdTZXR1cC5UYWJsZUNvZGVGaWVsZDtcclxuICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjb2RlRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGVGaWVsZCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwLkdldE5ld0NvZGUodmlld0lkLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbVtjb2RlRmllbGRdID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBlZGl0SXRlbVZpZXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUVkaXRWaWV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgZGlzcGxheUl0ZW1WaWV3KCkge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlEZXRhaWxzVmlldygpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHB1YmxpYyBpbmRleEl0ZW1WaWV3ID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICB9XHJcblxyXG4gXHJcbiAgICAgICAgXHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ3ZhY2F0aW9uUnVsZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmFjYXRpb25SdWxlKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxuXHJcblxyXG59XHJcblxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgSW5zdXJhbmNlUnVsZXNIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgLy9wdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RlZFByb2ZpbGU6IGFueSA9IHt9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHBhcmVudElkRmllbGROYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgIC8vIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkVkaXRDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5DYWxsYmFja09uTG9hZCA9ICh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3LlZpZXdGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZEluc3VyYW5jZVJ1bGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAgICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcHVibGljIGFkZE5ld0NsaWNrZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFkZFZpZXcoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRQcm9maWxlID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkSW5zdXJhbmNlUnVsZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdpbnN1cmFuY2VSdWxlc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEluc3VyYW5jZVJ1bGVzSG9tZSh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgXHJcbiAgICBleHBvcnQgY2xhc3MgSW5zdXJhbmNlUnVsZXNKb2luSXRlbXMgZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBpbnN1cmFuY2VSdWxlSWQ6IG51bWJlcjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0Lmluc3VyYW5jZVJ1bGVJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuaW5zdXJhbmNlUnVsZUlkKSkgY3VycmVudE9iamVjdC5pbnN1cmFuY2VSdWxlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmaW5zdXJhbmNlUnVsZUlkPScgKyBjdXJyZW50T2JqZWN0Lmluc3VyYW5jZVJ1bGVJZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGJNYW5hZ2VyLkdldChjdXJyZW50T2JqZWN0LkZvcm1TZXR1cC5NeUZvcm0uRm9ybUNvbnRyb2xsZXIsICdHZXRCeVBhcmVudElkJywgcXVlcnlTdHJpbmcsIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QuZGF0YUxpc3QgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghRGF0YUFjY2Vzcy5VdGlsaXR5LklzTnVsbChjYWxsQmFjaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2socmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0sIG51bGwpO1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGNtc0Zvcm1zLmNvbnRyb2xsZXIoJ2luc3VyYW5jZVJ1bGVzSm9pbkl0ZW1zQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbnN1cmFuY2VSdWxlc0pvaW5JdGVtcyh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIFRheFJ1bGVzSG9tZSBleHRlbmRzIEJhc2VGb3JtTWFuYWdlciB7XHJcblxyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG5cclxuICAgICAgICAvL3ByaXZhdGUgc2VsZWN0ZWRIZWFkZXJWaWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcgPSBuZXcgTW9kZWxzLkVkaXRWaWV3KCk7XHJcbiAgICAgICAgcHVibGljIG5hdlRhYk9wdGlvbnM6IGFueSA9IHt9O1xyXG4gICAgICAgIC8vcHVibGljIGxpc3RPcHRpb25zOiBhbnkgPSB7IHNlbGVjdENhbGxiYWNrOiBudWxsLCBpbmRleENvbnRyb2xsZXI6IG51bGwgfTtcclxuICAgICAgICBwdWJsaWMgc2VsZWN0ZWRQcm9maWxlOiBhbnkgPSB7fTtcclxuXHJcbiAgICAgICAgcHJpdmF0ZSBwYXJlbnRJZEZpZWxkTmFtZTogc3RyaW5nO1xyXG4gICAgICAgIHByaXZhdGUgYWN0aXZlVGFiSW5kZXg6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3RydWN0b3IodHJhbnNsYXRlU2VydmljZTogRGF0YUFjY2Vzcy5UcmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXI6IERhdGFBY2Nlc3MuRGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsICRzY29wZS50YWIuTWVudUl0ZW0uRm9ybUlkKTtcclxuXHJcbiAgICAgICAgICAgLy8gdGhpcy5saXN0T3B0aW9ucyA9IHsgc2VsZWN0Q2FsbGJhY2s6IHRoaXMuc2VsZWN0Q2xpY2tlZCwgaW5kZXhDb250cm9sbGVyOiB0aGlzLCBlbmFibGVSdGw6IEhDTVMuRGF0YUFjY2Vzcy5TdGFydFVwLkN1cnJlbnRMb2dpbkluZm8uTGFuZ3VhZ2UuTGFuZ0RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IHRydWUgOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTG9hZEZvcm0oKGZvcm06IE1vZGVscy5Gb3JtKTogYW55ID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRWRpdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5EZWxldGVDYWxsYmFjayA9IHRoaXMuZGVsZXRlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFZpZXdTZXR1cCA9IHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3O1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkNhbGxiYWNrT25Mb2FkID0gKHZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50SWRGaWVsZE5hbWUgPSB0aGlzLmdldElkRmllbGROYW1lKHZpZXcuVmlld0ZpZWxkcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhID0gbmV3IEJhc2VGb3JtRGF0YSh0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIGZvcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSB0aGlzLkZvcm1EYXRhLmRhdGFJdGVtO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSB0aGlzLkZvcm1EYXRhLmRhdGFMaXN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkFkZGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PblVwZGF0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uRGVsZXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgc2VsZWN0Q2xpY2tlZCA9IChpdGVtKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUl0ZW0gPSBpdGVtO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkUHJvZmlsZSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkdGF4UnVsZScpO1xyXG4gICAgICAgICAgICB0aGlzLm5hdlRhYk9wdGlvbnMuYXBpLmFjdGl2YXRlRmlyc3RUYWIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy9wdWJsaWMgYWN0aXZhdGVUYWIodGFiKSB7XHJcbiAgICAgICAgLy8gICAgJCgnLm5hdi10YWJzIGFbaHJlZj1cIiMnICsgdGFiICsgJ1wiXScpLnRhYignc2hvdycpO1xyXG4gICAgICAgIC8vfTtcclxuICAgICAgICBwdWJsaWMgYWRkTmV3Q2xpY2tlZCA9ICgpOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5EaXNwbGF5QWRkVmlldygoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFByb2ZpbGUgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkdGF4UnVsZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCd0YXhSdWxlc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFRheFJ1bGVzSG9tZSh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuICAgXHJcbiAgICBleHBvcnQgY2xhc3MgVGF4UnVsZXNSYXRlcyBleHRlbmRzIEJhc2VTdWJGb3JtTWFuYWdlciB7XHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcbiAgICAgICAgLy9zdGF0aWMgJGluamVjdCA9IFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgICAgICBwcml2YXRlIHRheFJ1bGVJZDogbnVtYmVyO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgc2NvcGU6IGFueSwgJHN0YXRlUGFyYW1zOiBhbnkpIHtcclxuXHJcbiAgICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXREYXRhQnlQYXJlbnRJZFxyXG4gICAgICAgICAgICB0aGlzLkdldERhdGFCeVBhcmVudElkID0gKGNhbGxCYWNrPzogRnVuY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRPYmplY3QudGF4UnVsZUlkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC50YXhSdWxlSWQpKSBjdXJyZW50T2JqZWN0LnRheFJ1bGVJZCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlTdHJpbmcgPSBjdXJyZW50T2JqZWN0LkZvcm1EYXRhLmdldENvbW1vblBhcmFtcygpICsgJyZ0YXhSdWxlSWQ9JyArIGN1cnJlbnRPYmplY3QudGF4UnVsZUlkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5UGFyZW50SWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcigndGF4UnVsZXNSYXRlc0NvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgVGF4UnVsZXNSYXRlcyh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcbiAgIFxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VHcm91cERldGFpbHMgZXh0ZW5kcyBCYXNlU3ViRm9ybU1hbmFnZXIge1xyXG4gICAgICAgICRvbkluaXQgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgICAgIC8vc3RhdGljICRpbmplY3QgPSBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnXTtcclxuICAgICAgICBwcml2YXRlIGhlYWRlciA9IHtcclxuICAgICAgICAgICAgZnJvbURhdGU6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyBEYXRhVHlwZU5hbWU6ICdkYXRlJywgQ29udHJvbFR5cGVOYW1lOiAnZGF0ZScsIElzUmVxdWlyZWQ6IDEgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0b0RhdGU6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyBEYXRhVHlwZU5hbWU6ICdkYXRlJywgQ29udHJvbFR5cGVOYW1lOiAnZGF0ZScsIElzUmVxdWlyZWQ6IDEgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdHRlbmRhbmNlVGVtcGxhdGU6IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgRHJvcERvd25JZDogMTMyLFxyXG4gICAgICAgICAgICAgICAgLy9Db250cm9sVHlwZU5hbWU6J3NlbGVjdCcsXHJcbiAgICAgICAgICAgICAgICAvL0RhdGFUeXBlTmFtZTonaW50JyxcclxuICAgICAgICAgICAgICAgIElzUmVxdWlyZWQ6IDEsXHJcbiAgICAgICAgICAgICAgICBTZWxlY3REaXNwbGF5VmFsdWU6J0F0dGVuZGFuY2VUZW1wbGF0ZUlkJyxcclxuICAgICAgICAgICAgICAgIFNlbGVjdERpc3BsYXlOYW1lOidBdHRlbmRhbmNlVGVtcGxhdGVOYW1lJyxcclxuICAgICAgICAgICAgICAgIFNlbGVjdERpc3BsYXlOYW1lXzonQXR0ZW5kYW5jZVRlbXBsYXRlTmFtZV8nIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXR0ZW5kYW5jZUdyb3VwSWQ6IG51bWJlcjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IHRoaXMuUmVmcmVzaEdyaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyBSZWZyZXNoR3JpZChjYWxsQmFjaz86IEZ1bmN0aW9uKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3QgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5hdHRlbmRhbmNlR3JvdXBJZCA9IGN1cnJlbnRPYmplY3QucGFyZW50SXRlbVtjdXJyZW50T2JqZWN0LnBhcmVudElkRmllbGROYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKGN1cnJlbnRPYmplY3QuYXR0ZW5kYW5jZUdyb3VwSWQpKSBjdXJyZW50T2JqZWN0LmF0dGVuZGFuY2VHcm91cElkID0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGN1cnJlbnRPYmplY3QuRm9ybURhdGEuZ2V0Q29tbW9uUGFyYW1zKCkgKyAnJmF0dGVuZGFuY2VHcm91cElkPScgKyBjdXJyZW50T2JqZWN0LmF0dGVuZGFuY2VHcm91cElkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk1hbmFnZXIuR2V0KGN1cnJlbnRPYmplY3QuRm9ybVNldHVwLk15Rm9ybS5Gb3JtQ29udHJvbGxlciwgJ0dldEJ5UGFyZW50SWQnLCBxdWVyeVN0cmluZywgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9iamVjdC5kYXRhTGlzdCA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFEYXRhQWNjZXNzLlV0aWxpdHkuSXNOdWxsKGNhbGxCYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsQmFjayhyZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHJpdmF0ZSBnZW5lcmF0ZUJ5VGVtcGxhdGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBmcm9tRGF0ZSA9IHRoaXMuaGVhZGVyLmZyb21EYXRlLnZhbHVlO1xyXG4gICAgICAgICAgICBsZXQgdG9EYXRlID0gdGhpcy5oZWFkZXIudG9EYXRlLnZhbHVlO1xyXG4gICAgICAgICAgICBsZXQgYXR0ZW5kYW5jZVRlbXBsYXRlSWQgPSB0aGlzLmhlYWRlci5hdHRlbmRhbmNlVGVtcGxhdGUudmFsdWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZShmcm9tRGF0ZSkgfHwgIUhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLmlzRGF0ZSh0b0RhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZyb21EYXRlID0gZnJvbURhdGUudG9VVENTdHJpbmcoKTsgLy8gSENNUy5WYWxpZGF0aW9ucy5EYXRlVmFsaWRhdGlvbnMudG9EYXRlKGZyb21EYXRlKTtcclxuICAgICAgICAgICAgdG9EYXRlID0gdG9EYXRlLnRvVVRDU3RyaW5nKCk7IC8vIEhDTVMuVmFsaWRhdGlvbnMuRGF0ZVZhbGlkYXRpb25zLnRvRGF0ZSh0b0RhdGUpO1xyXG4gICAgICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSBgP2F0dGVuZGFuY2VUZW1wbGF0ZUlkPSR7YXR0ZW5kYW5jZVRlbXBsYXRlSWR9JmF0dGVuZGFuY2VHcm91cElkPSR7dGhpcy5hdHRlbmRhbmNlR3JvdXBJZH0mZnJvbURhdGU9JHtmcm9tRGF0ZX0mdG9EYXRlPSR7dG9EYXRlfWA7XHJcbiAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLmRiTWFuYWdlci5HZXRQcm9taXNlKFwiQXR0ZW5kYW5jZUdyb3VwRGV0YWlsc1wiLCBcIkdldEdlbmVyYXRlQnlUZW1wbGF0ZVwiLCBxdWVyeVN0cmluZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLlJlZnJlc2hHcmlkKCk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignYXR0ZW5kYW5jZUdyb3VwRGV0YWlsc0NvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXR0ZW5kYW5jZUdyb3VwRGV0YWlscyh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKTtcclxuICAgIH1dKTtcclxuXHJcbn1cclxuXHJcblxyXG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vLi4vLi4vZm9ybXMvYmFzZWZvcm1zL2Jhc2Vmb3JtL2Jhc2VzdWJmb3JtbWFuYWdlci50c1wiIC8+XHJcblxyXG5tb2R1bGUgSENNUy5Gb3JtcyB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEF0dGVuZGFuY2VHcm91cHNIb21lIGV4dGVuZHMgQmFzZUZvcm1NYW5hZ2VyIHtcclxuXHJcbiAgICAgICAgJG9uSW5pdCA9ICgpID0+IHsgfTtcclxuXHJcblxyXG4gICAgICAgIC8vcHJpdmF0ZSBzZWxlY3RlZEhlYWRlclZpZXc6IE1vZGVscy5TeXN0ZW1Gb3JtVmlldyA9IG5ldyBNb2RlbHMuRWRpdFZpZXcoKTtcclxuICAgICAgICBwdWJsaWMgbmF2VGFiT3B0aW9uczogYW55ID0ge307XHJcbiAgICAgICAgLy9wdWJsaWMgbGlzdE9wdGlvbnM6IGFueSA9IHsgc2VsZWN0Q2FsbGJhY2s6IG51bGwsIGluZGV4Q29udHJvbGxlcjogbnVsbCB9O1xyXG5cclxuICAgICAgICBwcml2YXRlIHBhcmVudElkRmllbGROYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgcHJpdmF0ZSBhY3RpdmVUYWJJbmRleDogbnVtYmVyID0gMDtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZTogYW55LCAkc3RhdGVQYXJhbXM6IGFueSkge1xyXG4gICAgICAgICAgICAvL2luaGVyaXQgQmFzZUZvcm1NYW5hZ2VyXHJcbiAgICAgICAgICAgIHN1cGVyKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgJHNjb3BlLnRhYi5NZW51SXRlbS5Gb3JtSWQpO1xyXG5cclxuICAgICAgICAgICAvLyB0aGlzLmxpc3RPcHRpb25zID0geyBzZWxlY3RDYWxsYmFjazogdGhpcy5zZWxlY3RDbGlja2VkLCBpbmRleENvbnRyb2xsZXI6IHRoaXMsIGVuYWJsZVJ0bDogSENNUy5EYXRhQWNjZXNzLlN0YXJ0VXAuQ3VycmVudExvZ2luSW5mby5MYW5ndWFnZS5MYW5nRGlyZWN0aW9uID09PSBcInJ0bFwiID8gdHJ1ZSA6IGZhbHNlIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5Mb2FkRm9ybSgoZm9ybTogTW9kZWxzLkZvcm0pOiBhbnkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5FZGl0Q2FsbGJhY2sgPSB0aGlzLnNlbGVjdENsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkRlbGV0ZUNhbGxiYWNrID0gdGhpcy5kZWxldGVDbGlja2VkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVmlld1NldHVwID0gdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkNyZWF0ZVZpZXc7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuQ2FsbGJhY2tPbkxvYWQgPSAodmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRJZEZpZWxkTmFtZSA9IHRoaXMuZ2V0SWRGaWVsZE5hbWUodmlldy5WaWV3RmllbGRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldy5Mb2FkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkVkaXRWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuU2VsZWN0Q2FsbGJhY2sgPSB0aGlzLnNlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEgPSBuZXcgQmFzZUZvcm1EYXRhKHRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlciwgZm9ybSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IHRoaXMuRm9ybURhdGEuZGF0YUl0ZW07XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IHRoaXMuRm9ybURhdGEuZGF0YUxpc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uQWRkZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5EaXNwbGF5SW5kZXhWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLk9uVXBkYXRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25EZWxldGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBzZWxlY3RDbGlja2VkID0gKGl0ZW0pOiB2b2lkID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhSXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAvL3RoaXMuYWN0aXZhdGVUYWIoJ3NlbGVjdGVkQXR0ZW5kYW5jZUdyb3VwJyk7XHJcbiAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3B1YmxpYyBhY3RpdmF0ZVRhYih0YWIpIHtcclxuICAgICAgICAvLyAgICAkKCcubmF2LXRhYnMgYVtocmVmPVwiIycgKyB0YWIgKyAnXCJdJykudGFiKCdzaG93Jyk7XHJcbiAgICAgICAgLy99O1xyXG4gICAgICAgIHB1YmxpYyBhZGROZXdDbGlja2VkID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLkRpc3BsYXlBZGRWaWV3KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gMTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRBdHRlbmRhbmNlR3JvdXAnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmF2VGFiT3B0aW9ucy5hcGkuYWN0aXZhdGVGaXJzdFRhYigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoY21zRm9ybXMuY29udHJvbGxlcignYXR0ZW5kYW5jZUdyb3Vwc0hvbWVDb250cm9sbGVyJywgWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24gKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEF0dGVuZGFuY2VHcm91cHNIb21lKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uLy4uLy4uL2Zvcm1zL2Jhc2Vmb3Jtcy9iYXNlZm9ybS9iYXNlc3ViZm9ybW1hbmFnZXIudHNcIiAvPlxyXG5cclxubW9kdWxlIEhDTVMuRm9ybXMge1xyXG4gICBcclxuICAgIGV4cG9ydCBjbGFzcyBBdHRlbmRhbmNlVGVtcGxhdGVEZXRhaWxzIGV4dGVuZHMgQmFzZVN1YkZvcm1NYW5hZ2VyIHtcclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuICAgICAgICAvL3N0YXRpYyAkaW5qZWN0ID0gWyd0cmFuc2xhdGVTZXJ2aWNlJywgJ2RhdGFNYW5hZ2VyU2VydmljZScsICckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJ107XHJcblxyXG4gICAgICAgIHByaXZhdGUgYXR0ZW5kYW5jZVRlbXBsYXRlSWQ6IG51bWJlcjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlOiBEYXRhQWNjZXNzLlRyYW5zbGF0ZVNlcnZpY2UsIGRiTWFuYWdlcjogRGF0YUFjY2Vzcy5EYXRhTWFuYWdlclNlcnZpY2UsIHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcblxyXG4gICAgICAgICAgICAgLy9pbmhlcml0IEJhc2VGb3JtTWFuYWdlclxyXG4gICAgICAgICAgICBzdXBlcih0cmFuc2xhdGVTZXJ2aWNlLCBkYk1hbmFnZXIsIHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0RGF0YUJ5UGFyZW50SWRcclxuICAgICAgICAgICAgdGhpcy5HZXREYXRhQnlQYXJlbnRJZCA9IChjYWxsQmFjaz86IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmF0dGVuZGFuY2VUZW1wbGF0ZUlkID0gY3VycmVudE9iamVjdC5wYXJlbnRJdGVtW2N1cnJlbnRPYmplY3QucGFyZW50SWRGaWVsZE5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoY3VycmVudE9iamVjdC5hdHRlbmRhbmNlVGVtcGxhdGVJZCkpIGN1cnJlbnRPYmplY3QuYXR0ZW5kYW5jZVRlbXBsYXRlSWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gY3VycmVudE9iamVjdC5Gb3JtRGF0YS5nZXRDb21tb25QYXJhbXMoKSArICcmYXR0ZW5kYW5jZVRlbXBsYXRlSWQ9JyArIGN1cnJlbnRPYmplY3QuYXR0ZW5kYW5jZVRlbXBsYXRlSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRiTWFuYWdlci5HZXQoY3VycmVudE9iamVjdC5Gb3JtU2V0dXAuTXlGb3JtLkZvcm1Db250cm9sbGVyLCAnR2V0QnlQYXJlbnRJZCcsIHF1ZXJ5U3RyaW5nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T2JqZWN0LmRhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIURhdGFBY2Nlc3MuVXRpbGl0eS5Jc051bGwoY2FsbEJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxCYWNrKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9LCBudWxsKTtcclxuICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhdHRlbmRhbmNlVGVtcGxhdGVEZXRhaWxzQ29udHJvbGxlcicsIFsndHJhbnNsYXRlU2VydmljZScsICdkYXRhTWFuYWdlclNlcnZpY2UnLCAnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uICh0cmFuc2xhdGVTZXJ2aWNlLCBkYXRhTWFuYWdlclNlcnZpY2UsICRzY29wZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBdHRlbmRhbmNlVGVtcGxhdGVEZXRhaWxzKHRyYW5zbGF0ZVNlcnZpY2UsIGRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlLCAkc3RhdGVQYXJhbXMpO1xyXG4gICAgfV0pO1xyXG5cclxufVxyXG5cclxuXHJcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi8uLi8uLi9mb3Jtcy9iYXNlZm9ybXMvYmFzZWZvcm0vYmFzZXN1YmZvcm1tYW5hZ2VyLnRzXCIgLz5cclxuXHJcbm1vZHVsZSBIQ01TLkZvcm1zIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQXR0ZW5kYW5jZVRlbXBsYXRlc0hvbWUgZXh0ZW5kcyBCYXNlRm9ybU1hbmFnZXIge1xyXG5cclxuICAgICAgICAkb25Jbml0ID0gKCkgPT4geyB9O1xyXG5cclxuXHJcbiAgICAgICAgLy9wcml2YXRlIHNlbGVjdGVkSGVhZGVyVmlldzogTW9kZWxzLlN5c3RlbUZvcm1WaWV3ID0gbmV3IE1vZGVscy5FZGl0VmlldygpO1xyXG4gICAgICAgIHB1YmxpYyBuYXZUYWJPcHRpb25zOiBhbnkgPSB7fTtcclxuICAgICAgICAvL3B1YmxpYyBsaXN0T3B0aW9uczogYW55ID0geyBzZWxlY3RDYWxsYmFjazogbnVsbCwgaW5kZXhDb250cm9sbGVyOiBudWxsIH07XHJcblxyXG4gICAgICAgIHByaXZhdGUgcGFyZW50SWRGaWVsZE5hbWU6IHN0cmluZztcclxuICAgICAgICBwcml2YXRlIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0ZVNlcnZpY2U6IERhdGFBY2Nlc3MuVHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyOiBEYXRhQWNjZXNzLkRhdGFNYW5hZ2VyU2VydmljZSwgJHNjb3BlOiBhbnksICRzdGF0ZVBhcmFtczogYW55KSB7XHJcbiAgICAgICAgICAgIC8vaW5oZXJpdCBCYXNlRm9ybU1hbmFnZXJcclxuICAgICAgICAgICAgc3VwZXIodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCAkc2NvcGUudGFiLk1lbnVJdGVtLkZvcm1JZCk7XHJcblxyXG4gICAgICAgICAgIC8vIHRoaXMubGlzdE9wdGlvbnMgPSB7IHNlbGVjdENhbGxiYWNrOiB0aGlzLnNlbGVjdENsaWNrZWQsIGluZGV4Q29udHJvbGxlcjogdGhpcywgZW5hYmxlUnRsOiBIQ01TLkRhdGFBY2Nlc3MuU3RhcnRVcC5DdXJyZW50TG9naW5JbmZvLkxhbmd1YWdlLkxhbmdEaXJlY3Rpb24gPT09IFwicnRsXCIgPyB0cnVlIDogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLkxvYWRGb3JtKChmb3JtOiBNb2RlbHMuRm9ybSk6IGFueSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LkVkaXRDYWxsYmFjayA9IHRoaXMuc2VsZWN0Q2xpY2tlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuRGVsZXRlQ2FsbGJhY2sgPSB0aGlzLmRlbGV0ZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uSW5kZXhWaWV3LlNlbGVjdENhbGxiYWNrID0gdGhpcy5zZWxlY3RDbGlja2VkO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3U2V0dXAgPSB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uQ3JlYXRlVmlldztcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5FZGl0Vmlldy5DYWxsYmFja09uTG9hZCA9ICh2aWV3OiBNb2RlbHMuU3lzdGVtRm9ybVZpZXcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudElkRmllbGROYW1lID0gdGhpcy5nZXRJZEZpZWxkTmFtZSh2aWV3LlZpZXdGaWVsZHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5DcmVhdGVWaWV3LkxvYWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1TZXR1cC5NeUZvcm0uRWRpdFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuRm9ybVNldHVwLk15Rm9ybS5JbmRleFZpZXcuTG9hZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhpcy5Gb3JtU2V0dXAuTXlGb3JtLkluZGV4Vmlldy5TZWxlY3RDYWxsYmFjayA9IHRoaXMuc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YSA9IG5ldyBCYXNlRm9ybURhdGEodHJhbnNsYXRlU2VydmljZSwgZGJNYW5hZ2VyLCBmb3JtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gdGhpcy5Gb3JtRGF0YS5kYXRhSXRlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gdGhpcy5Gb3JtRGF0YS5kYXRhTGlzdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25BZGRlZC5hZGRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLkZvcm1EYXRhLkdldERhdGFMaXN0KChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUxpc3QgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkRpc3BsYXlJbmRleFZpZXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuT25VcGRhdGVkLmFkZEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuRm9ybURhdGEuR2V0RGF0YUxpc3QoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuRGlzcGxheUluZGV4VmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5PbkRlbGV0ZWQuYWRkSGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb3JtRGF0YS5HZXREYXRhTGlzdCgoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHNlbGVjdENsaWNrZWQgPSAoaXRlbSk6IHZvaWQgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFJdGVtID0gaXRlbTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVUYWJJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIC8vdGhpcy5hY3RpdmF0ZVRhYignc2VsZWN0ZWRBdHRlbmRhbmNlVGVtcGxhdGUnKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vcHVibGljIGFjdGl2YXRlVGFiKHRhYikge1xyXG4gICAgICAgIC8vICAgICQoJy5uYXYtdGFicyBhW2hyZWY9XCIjJyArIHRhYiArICdcIl0nKS50YWIoJ3Nob3cnKTtcclxuICAgICAgICAvL307XHJcbiAgICAgICAgcHVibGljIGFkZE5ld0NsaWNrZWQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuRGlzcGxheUFkZFZpZXcoKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSAxO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmFjdGl2YXRlVGFiKCdzZWxlY3RlZEF0dGVuZGFuY2VUZW1wbGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uYXZUYWJPcHRpb25zLmFwaS5hY3RpdmF0ZUZpcnN0VGFiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhjbXNGb3Jtcy5jb250cm9sbGVyKCdhdHRlbmRhbmNlVGVtcGxhdGVzSG9tZUNvbnRyb2xsZXInLCBbJ3RyYW5zbGF0ZVNlcnZpY2UnLCAnZGF0YU1hbmFnZXJTZXJ2aWNlJywgJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbiAodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHJldHVybiBuZXcgQXR0ZW5kYW5jZVRlbXBsYXRlc0hvbWUodHJhbnNsYXRlU2VydmljZSwgZGF0YU1hbmFnZXJTZXJ2aWNlLCAkc2NvcGUsICRzdGF0ZVBhcmFtcyk7XHJcbiAgICB9XSk7XHJcblxyXG59XHJcblxyXG4iXX0=
